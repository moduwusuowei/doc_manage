/*! For license information please see c__Like.413a5c37.async.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1262,1035,1250,1254,1540],{1201:function(e,t,r){e.exports=function(){"use strict";return function(e,t,r){var n=function(e,t){if(!t||!t.length||1===t.length&&!t[0]||1===t.length&&Array.isArray(t[0])&&!t[0].length)return null;var r;1===t.length&&t[0].length>0&&(t=t[0]),r=(t=t.filter((function(e){return e})))[0];for(var n=1;n<t.length;n+=1)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r};r.max=function(){var e=[].slice.call(arguments,0);return n("isAfter",e)},r.min=function(){var e=[].slice.call(arguments,0);return n("isBefore",e)}}}()},1202:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(0);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){switch(t.type){case"init":return{response:null,error:null,loading:!0};case"success":return{response:t.response,error:null,loading:!1};case"error":return{response:null,error:t.error,loading:!1};default:return{response:null,error:null,loading:!1}}}function l(e){var t=Object(n.useRef)(0),r=a(Object(n.useReducer)(i,{response:null,loading:!1,error:null}),2),o=r[0],l=r[1];return{data:o.response,loading:o.loading,request:function(r,n){var a=++t.current;return l({type:"init"}),e(r,n).then((function(e){return a===t.current&&l({type:"success",response:e}),e})).catch((function(e){if(l({type:"error",error:e}),null!=n&&n.ignoreGlobalMessage)throw e;console.error(e)}))},error:o.error}}},1204:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(2),i=r.n(o),l=r(5),c=r.n(l),u=r(32),s=r(45),m=r(154),f="badgelite-module_memberBadgeLiteTextAlibaba_eY+40",d="badgelite-module_memberBadgeLiteContainer_1caED",p="badgelite-module_memberBadgeLiteText_2xxqK",y="badgelite-module_memberBadgeLiteNomeContainer_9AJD2",h="badgelite-module_memberBadgeLiteGroupContainer_6-b6V",b="badgelite-module_memberBadgeLiteH5Container_ituBE";function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===g(o)?o:String(o)),n)}var a,o}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w(e);if(t){var a=w(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(i,e);var t,r,n,o=E(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={user:t.props.user},t}return t=i,(r=[{key:"render",value:function(){var e=this.props,t=e.isMobile,r=e.useMobile,n=void 0!==r&&r,o=e.className,i=void 0===o?"":o,l=window.appData,g=l.isYuque,v=l.organization,_=this.state.user,E=_.memberLevelName,w=_.member_level;if(!g)return n?null:a.a.createElement("a",{href:u.LINKS.INTERNAL_MEMBER_INTRO_LINK,target:"_blank"},a.a.createElement("p",{className:y,"data-testid":"badge-lite"},a.a.createElement(s.b,{name:"member-big-level1-alibaba",width:24,height:28}),a.a.createElement("span",{className:f},__("语雀会员"))));if(!_.isPaid||v)return null;var A=m.a.isGroupOrPublication(_);if(t||n){var O=c()(b,i),S="icon-member-level-".concat(w);return a.a.createElement("span",{className:O,"data-testid":"badge-lite"},a.a.createElement("a",{href:A?u.LINKS.EXTERNAL_GROUP_INTRO_LINK:u.LINKS.EXTERNAL_MEMBER_INTRO_LINK,target:"_blank"},a.a.createElement(s.b,{name:A?"member-level1":S,height:22,width:23})))}if(A){var N=c()(h,i);return a.a.createElement("span",{className:N,"data-testid":"badge-lite"},a.a.createElement("a",{href:u.LINKS.EXTERNAL_GROUP_INTRO_LINK,target:"_blank"},a.a.createElement(s.b,{name:"member-big-level1",width:24,height:28}),a.a.createElement("span",{className:p},__("高级版团队"))))}var P=c()(d,i),T="icon-member-level-".concat(w);return a.a.createElement("div",{className:P,"data-testid":"badge-lite"},a.a.createElement("a",{href:u.LINKS.EXTERNAL_MEMBER_INTRO_LINK,target:"_blank"},a.a.createElement(s.b,{name:T,width:24,height:28}),a.a.createElement("span",{className:p},E)))}}])&&v(t.prototype,r),n&&v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.Component);A.propTypes={user:i.a.object,isMobile:i.a.bool,useMobile:i.a.bool,className:i.a.string};t.a=A},1207:function(e,t,r){const n=r(1699),a=r(1700),o=r(1718),i=r(1719);function l(e,t,r,o,i){const l=[].slice.call(arguments,1),c=l.length,u="function"==typeof l[c-1];if(!u&&!n())throw new Error("Callback required as last argument");if(!u){if(c<1)throw new Error("Too few arguments provided");return 1===c?(r=t,t=o=void 0):2!==c||t.getContext||(o=r,r=t,t=void 0),new Promise((function(n,i){try{const i=a.create(r,o);n(e(i,t,o))}catch(e){i(e)}}))}if(c<2)throw new Error("Too few arguments provided");2===c?(i=r,r=t,t=o=void 0):3===c&&(t.getContext&&void 0===i?(i=o,o=void 0):(i=o,o=r,r=t,t=void 0));try{const n=a.create(r,o);i(null,e(n,t,o))}catch(e){i(e)}}t.create=a.create,t.toCanvas=l.bind(null,o.render),t.toDataURL=l.bind(null,o.renderToDataURL),t.toString=l.bind(null,(function(e,t,r){return i.render(e,r)}))},1210:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-arrow-down",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M57.297 102.865c3.834-3.834 10.007-3.904 13.927-.21l.215.21 48.99 48.99c3.834 3.834 10.007 3.904 13.927.209l.215-.21 48.99-48.99c3.905-3.904 10.237-3.904 14.142 0 3.834 3.835 3.904 10.008.21 13.928l-.21.215-48.99 48.99c-11.598 11.599-30.331 11.714-42.073.348l-.353-.348-48.99-48.99c-3.905-3.905-3.905-10.237 0-14.142Z",fill:"currentColor",fillRule:"nonzero"}))},1211:function(e,t,r){"use strict";var n=r(0);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t,r=e.initValue,o=e.totalAmount,i=e.setPromoCode,l=e.afterVerifySuccess,c=a(Object(n.useState)(r),2),u=c[0],s=c[1];u&&(t=(t=o-u>1?o-u:1).toFixed(2));return{totalAmountWithPromo:t,onVerifySuccess:function(e){s(e&&e.amount),l&&l()},handlePromoChange:function(e){i(e),u&&s(0)}}}},1212:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(){return a(Object(n.useReducer)((function(e){return e+1}),0),2)[1]}},1318:function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,r){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return r}}},1378:function(e,t,r){var n=r(491),a=r(96);e.exports=function(e,t,r){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),n(e,t,{leading:o,maxWait:t,trailing:i})}},1393:function(e,t,r){const n=r(1318),a=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case n.L:return a[4*(e-1)+0];case n.M:return a[4*(e-1)+1];case n.Q:return a[4*(e-1)+2];case n.H:return a[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return o[4*(e-1)+0];case n.M:return o[4*(e-1)+1];case n.Q:return o[4*(e-1)+2];case n.H:return o[4*(e-1)+3];default:return}}},1394:function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},1395:function(e,t){const r="[0-9]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";t.KANJI=new RegExp(n,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(a,"g"),t.NUMERIC=new RegExp(r,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const o=new RegExp("^"+n+"$"),i=new RegExp("^"+r+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return o.test(e)},t.testNumeric=function(e){return i.test(e)},t.testAlphanumeric=function(e){return l.test(e)}},1396:function(e,t){function r(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");const r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});const t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,a=e.scale||4;return{width:n,scale:n?4:a,margin:t,color:{dark:r(e.color.dark||"#000000ff"),light:r(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,r){const n=t.getScale(e,r);return Math.floor((e+2*r.margin)*n)},t.qrToImageData=function(e,r,n){const a=r.modules.size,o=r.modules.data,i=t.getScale(a,n),l=Math.floor((a+2*n.margin)*i),c=n.margin*i,u=[n.color.light,n.color.dark];for(let t=0;t<l;t++)for(let r=0;r<l;r++){let s=4*(t*l+r),m=n.color.light;if(t>=c&&r>=c&&t<l-c&&r<l-c){m=u[o[Math.floor((t-c)/i)*a+Math.floor((r-c)/i)]?1:0]}e[s++]=m.r,e[s++]=m.g,e[s++]=m.b,e[s]=m.a}}},1397:function(e,t,r){"use strict";var n=r(81),a=r.n(n),o=(r(1501),r(715)),i=r(58),l=r.n(i),c=r(86),u=r.n(c),s=r(0),m=r.n(s),f=r(2),d=r.n(f),p=r(5),y=r.n(p),h=r(87),b=r.n(h),g=(r(1392),["className","title"]);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=m.a.forwardRef((function(e,t){var r=e.className,n=e.title,a=u()(e,g),i={},c=y()("larkui-skeleton",r);return n?(n.size&&(c=y()(c,{"larkui-skeleton-title-sm":"sm"===n.size})),n.width&&(i.title={width:n.width})):i.title=n,m.a.createElement(o.a,l()({className:c,ref:t},i,a))}));E.propTypes=_(_({},o.a.SkeletonProps),{},{className:d.a.string}),b()(E,o.a),t.a=E},1400:function(e,t,r){"use strict";r(782);var n=r(379),a=r(0),o=r.n(a),i=r(2),l=r.n(i),c=r(51),u=r(362),s=r(951),m=(r(1392),r(1397)),f=r(420),d=r(45),p=r(1204),y=r(1442),h=r(1401),b=r(1443),g=r(490),v={userCard:"index-module_userCard_NOTbr",body:"index-module_body_20bgh",avatar:"index-module_avatar_OBHFJ",userInfos:"index-module_userInfos_B16Pa",nameContainer:"index-module_nameContainer_elI96",name:"index-module_name_QeZm4",dingtalk:"index-module_dingtalk_kYXBj",badge:"index-module_badge_lsJBP",dingding:"index-module_dingding_l7pi0",infoWithBg:"index-module_infoWithBg_JGcdP",signature:"index-module_signature_aQ+Wz",infoList:"index-module_infoList_Y58li",infoItem:"index-module_infoItem_same7",icon:"index-module_icon_MGwU8",footer:"index-module_footer_FNHCP",follow:"index-module_follow_1HgLb",footerItem:"index-module_footerItem_H0y7j",number:"index-module_number_NahUE",userLink:"index-module_userLink_i0XYI",skeleton:"index-module_skeleton_Z4M4v",infoDetail:"index-module_infoDetail_dKXCO"};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w={mobile:"user-mobile",email:"user-email",departments:"user-department-opa",job_title:"user-job",location:"user-location"},A=function(e){var t=e.style,r=void 0===t?{}:t,n=e.className,i=void 0===n?"":n,l=e.user,u=void 0===l?{}:l,s=e.profile,E=void 0===s?{}:s,A=e.loading,O=e.isInGroup,S=e.userAvatar,N=u.avatar_url,P=u.avatar,T=u.description,j=u.followers_count,M=u.following_count,C=u.name,I=u.id,k=window.appData,L=k.isYuque,x=k.isPublicCloud,R=k.organization,D=_(Object(a.useState)(),2),B=D[0],Y=D[1],z=_(Object(a.useState)(null),2),U=z[0],F=z[1],q=_(Object(a.useState)(null),2),W=q[0],G=q[1],Q=E.dingtalk_id,H=E.orgName,V=E.role,K=E.status,Z=E.isPublicUser,J=K===f.organizationUser.STATUS.terminated,X=V===f.organizationUser.ROLE.outsourcer,$=R&&Z,ee=R&&(null==R?void 0:R.id);Object(a.useEffect)((function(){F("following_count"in E?E.following_count||0:M||0),G("followers_count"in E?E.followers_count||0:j||0)}),[E]);var te=function(){B||c.a.users.mobile({id:I}).then(Y)},re=function(e){return e.map((function(e){return{key:e,icon:w[e],value:E[e]}})).filter((function(e){return!!e.value}))},ne=[];ne=re(L?R?["mobile","email","departments","job_title"]:["location","job_title"]:["departments","job_title"]);var ae=null;$?ae=o.a.createElement("div",{className:v.infoWithBg},__("非本空间成员")):J?ae=o.a.createElement("div",{className:v.infoWithBg},x?__("已离职"):__("已退隐江湖")):X&&(ae=o.a.createElement("div",{className:v.infoWithBg},__("外部联系人")));var oe,ie=!R&&(!J&&!X&&!$&&E.enable_home);if(ee){var le={avatar:(oe=E).avatar||N,name:oe.orgName,description:oe.description,departments:null==oe?void 0:oe.departments,job_title:oe.job_title,location:oe.location,role:null==oe?void 0:oe.role,status:null==oe?void 0:oe.status};return o.a.createElement(b.b,{orgUser:le,user:u,organization:R})}return o.a.createElement("div",{className:"".concat(i," ").concat(v.userCard),style:r,"data-aspm":"c39373"},o.a.createElement("div",{className:v.body},ee?o.a.createElement(g.a,{src:S||N||P,size:48,className:v.avatar,bordered:!0}):o.a.createElement("a",{href:"/".concat(u.login),target:"_blank","data-desktoptarget":"_browser"},o.a.createElement(g.a,{src:S||N||P,size:48,className:v.avatar,bordered:!0})),o.a.createElement("div",{className:v.userInfos},o.a.createElement("div",{className:v.nameContainer},ee?o.a.createElement("span",{className:v.name},H||C):o.a.createElement("a",{href:"/".concat(u.login),target:"_blank","data-desktoptarget":"_browser",className:v.name},H||C),Q&&o.a.createElement("a",{href:"dingtalk://dingtalkclient/action/sendmsg?dingtalk_id=".concat(Q),className:v.dingtalk,"data-testid":"dingtalk","data-aspm-click":"d001","data-desktoptarget":"_browser"},o.a.createElement(d.b,{name:"dingding-filled",className:v.dingding})),o.a.createElement(p.a,{user:u,useMobile:!0,className:v.badge}),ae),o.a.createElement("div",{className:v.signature},T||""),A&&o.a.createElement("div",{className:v.skeleton},o.a.createElement(m.a,{active:!0,title:!1})),ne&&ne.length>0?o.a.createElement("div",{className:v.infoList,style:{marginTop:O?0:10}},ne.map((function(e){return function(e){return"departments"===e.key?e.value.map((function(t,r){return o.a.createElement("div",{className:v.infoItem,key:e.key+r,"data-testid":e.key},o.a.createElement(d.b,{name:e.icon,width:16,className:v.icon}),o.a.createElement("span",{className:v.infoDetail},t))})):o.a.createElement("div",{className:v.infoItem,key:e.key,"data-testid":e.key},o.a.createElement(d.b,{name:e.icon,width:16,className:v.icon}),"mobile"===e.key?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:v.infoDetail},B||e.value),!B&&o.a.createElement("a",{onClick:te},__("查看"))):o.a.createElement("span",{className:v.infoDetail},e.value))}(e)}))):null)),!!ie&&o.a.createElement("div",{className:v.footer},o.a.createElement("div",{className:v.follow},o.a.createElement("div",{className:v.footerItem},__("粉丝"),o.a.createElement("span",{className:v.number},W)),o.a.createElement("div",{className:v.footerItem},__("关注"),o.a.createElement("span",{className:v.number},U))),o.a.createElement(h.a,null,o.a.createElement(y.a,{user:u,className:v.followBtn}))))};A.propTypes={user:l.a.object.isRequired,profile:l.a.object,style:l.a.object,className:l.a.string,loading:l.a.bool,isInGroup:l.a.bool};var O=A,S=r(154),N="index-module_popover_Xyidp",P="index-module_overlay_A0ouW";function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M=function(e){var t=e.user,r=void 0===t?{}:t,i=e.children,l=e.style,m=void 0===l?{}:l,f=e.className,d=void 0===f?"":f,p=e.isInGroup,y=e.userAvatar,h=void 0===y?"":y,b=r&&r.id,g=T(Object(a.useState)("topLeft"),2),v=g[0],_=g[1],E=Object(a.useRef)(null),w=Object(s.b)(),A=Object(u.a)(c.a.users.profile),j=A.data,M=A.loading,C=A.request;if(null==b||S.a.isGroupOrPublication(r))return i;return window.h5?i:o.a.createElement(n.a,{placement:v,content:o.a.createElement(O,{isInGroup:p,user:r,profile:j||{},loading:M,userAvatar:h}),style:m,className:"".concat(d," ").concat(N),overlayClassName:P,mouseEnterDelay:.3},o.a.createElement("span",{onMouseOver:function(){var e=E&&E.current.getBoundingClientRect().top;_(e<240?"bottomLeft":"topLeft"),j||M||!w||C({id:b})},ref:E,"data-testid":"content",style:{cursor:"pointer"}},i))};M.propTypes={user:l.a.object.isRequired,style:l.a.object,className:l.a.string,children:l.a.any,isInGroup:l.a.bool};t.a=M},1401:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));r(151);var n=r(66),a=r(0),o=r.n(a),i=r(5),l=r.n(i),c=r(951),u=r(24),s="index-module_offlineButton_XZkWh",m="index-module_disabledStyle_MeBOz",f=function(e){var t=e.children,r=e.buttonClassName,a=e.tooltipPlacement,i=void 0===a?"bottom":a,f=Object(c.b)();return t?!f&&u.g?o.a.createElement(n.a,{title:__("离线状态该功能不可用"),placement:i,autoAdjustOverflow:!0},o.a.createElement("div",{className:l()(r,s)},o.a.createElement("div",{className:m},t))):o.a.createElement("div",{className:r},t):null}},1402:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{className:["larkui-icon","larkui-icon-icon-loading-desk",e.className].filter(Boolean).join(" ")}),n.createElement("defs",null,n.createElement("pattern",{id:"3718679761c",width:"100%",height:"100%",patternUnits:"objectBoundingBox"},n.createElement("use",{xlinkHref:"#3718679761a"})),n.createElement("image",{id:"3718679761a",width:22,height:22,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFqADAAQAAAABAAAAFgAAAAAcITNaAAAEB0lEQVQ4EU2V3W4bNxCFZ0juSpaFukF9Y8Mx0su+QoG8aF+iQZ+i6Su0Nw1SBIhbVbb1uz9kv7OUahOguMsdnjlzZobynz/8UnIuVkq2nOscR62jvax6HmXTmdmDmf/tzjRfWfB/vZR1jPHRgj2zvwkWt8E9WAiYsNbpp3ftOTgvo+CftxHgnsfO3A7BbOcx7tjfgbQVaIy2TSEEmOhwZgqovodQYF0m8FcOBD3g74jbPcY7Tu2S+UZMIbZJqXkOIe9eAWN2GkXUiiKRJHCanE4fM757MYXEjnA3NXwDLDwhxxPrpm0vXjMW2xq6IqizgovxibXCks47ApWeTx58HTyuYbpOF83TPMZt2zZnxgKETMXlWePMuuag7k367gF7Lh7WHuIqeljNZumfpkmPl4vF83w+397e3h4S9JXtiVEpldk4nplLZ31TYvXNetZnL2GVYngg7K9xlr42i8XqzXL5eHd3R+Ji6LquOWmsQ5Whu4BGgUxDeqvUTlIoaasY/UsI8a/Z5fzzd1dXD9fX1+umaQK2LTPMZrNwYqyyqFWgKlHCtIqphurZXdLahtL8FGP6Y7n85vf7+5svgJa+79uUiIHR99RT6Stw1ZNCo8RqRchJtBgzs4Ifj0cbhv5z07S/vX17+/Hm5qaDWTsMg8jJSIyJ8xhSam1iLCoaAj2PFwette2sbpfy0/v3P/7KC8mPi773gEohZ3cqwWDuJBFSyaTxcAZjPSNrVWlpjvPZ7LC8XH76/t27b/dd/iEaHRdspIEyCmT4FJhjasiipbOkXxIzERRn3icwYhrpu45VHfZIif05juXejnsbInXrYW8xdSCNkBsBwEEd6F0SoJ1eBQgITaxatYGVQOmwbDv6Zk32DpjNSfqVEz+XRdPYcCjuPcyHjCoIDamUyUVJkBT5WmNWqOAwADC4LpkMsNtWrIlpLNQY1C6iBep5xDstUkpHrXN/JF4L7GUXc6rhKoypq/RxAKy3Qn0F21N4ByTsYJZJO/egtUDOQ4kU5UCYFKBY+0irhYHLdQzjkBOGXCoO06LrcKBPlAV12JFU6mrssVGHkCoVeCJ3pcmeW0jlqHvcowIImZb0kscBWWCssKuu0naatRt6safTtCfdkX3KMihUU/FE1TaqCOdPwSyiFjS4+TFwkuuEzcFJCoAlA85AAdBZiQS2zp1BBxmn9bcQsRO4EJHRUYrHoGCyD1BOCh1H7E4AyILGgGI6MYWCKgUTYKbOgjUZJumR0AHn0p7KVMKIH/HgX1L8z7ZKAiDsOTySFWqZ2sBIQWpwDBkLzW8R0Ig3NAAZx5zhA6b8SVBukp2wBYYTztWV62IChQ6YOjqFCj3U05aLKsE7rSdP5E4+kYx+sf8AV5aZ7yAju6MAAAAASUVORK5CYII="}),n.createElement("path",{id:"3718679761b",d:"M0 0h24v24H0z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"3718679761d",fill:"#fff"},n.createElement("use",{xlinkHref:"#3718679761b"})),n.createElement("path",{d:"M12 1.114a1.286 1.286 0 1 1 0 2.572A8.314 8.314 0 1 0 20.314 12c0-.805-.114-1.593-.336-2.349a1.286 1.286 0 0 1 2.467-.724c.291.99.44 2.022.44 3.073 0 6.012-4.873 10.886-10.885 10.886S1.114 18.012 1.114 12 5.988 1.114 12 1.114Z",fill:"url(#3718679761c)",fillRule:"nonzero",mask:"url(#3718679761d)"})))},1421:function(e,t,r){"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){c=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(c)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=r(14),i=r(23),l=i.ORDER_TYPE,c=i.PRICE_STAGES,u=i.PAYMENT_TYPE,s=r(32).MEMBER_RULE,m=r(61);function f(e){var t=m.TRANSITION_DEADLINE,r=m.OLD_ORGANIZATION_DEADLINE,n=o().isBefore(t),a=o(e).isBefore(r);return n&&a}e.exports=function(e){var t=e.order_type,r=e.member_size,n=void 0===r?e.max_member:r,a=e.duration,i=e.upload_size,u=e.expired_at,s=e.created_at,d=e.max_member,p=e.enableDiscount,y=void 0===p||p,h=m.ORG_UPLOAD_SIZE_MAP,b=m.OLD_ORGANIZATION_DEADLINE;if(t===l.data){var g=Object.values(h).find((function(e){return e.value===i}));if(g)return g.price}var v,_=o(s).isBefore(b),E=o(s).endOf("day").add(_?90:30,"day"),w=o().isAfter(E)?o():E;u?(v=o(u).diff(w,"day"))<0&&(v=0):v=0;var A=0,O=0;if(y&&f(s))A=12*n,O=12*d;else{var S=c.find((function(e){return e.member===n}));if(!S)return null;A=S.price;var N=c.find((function(e){return e.member===d}));if(!N)return null;O=N.price}var P=(A-O)*v/365;switch(P<0&&(P=0),t){case l.upgrade:case l.buy:return(A*a).toFixed(2);case l.renew:return(A*a+P).toFixed(2);case l.buyMember:return Math.max(P,.01).toFixed(2);default:return}},e.exports.hasDiscount=f,e.exports.getCostDetail=function(e,t,r,n,a,i){var l,u,s,f,d,p=m.OLD_ORGANIZATION_DEADLINE,y=o(e).isBefore(p),h=o(e).endOf("day").add(y?90:30,"day"),b=o().isAfter(h)?o():h;t?(l=o(t).diff(b,"day"))<0&&(l=0):l=0;var g=(c.find((function(e){return e.member===r}))||{}).price,v=(c.find((function(e){return e.member===n}))||{}).price;return g&&v?(i?(u=12*r*a,s=(12*(r-n)*l/365).toFixed(2),f=g*a,d=((g-v)*l/365).toFixed(2)):(u=g*a,s=((g-v)*l/365).toFixed(2)),{renewAmount:u,upgradeAmount:s,rawRenewAmount:f,rawUpgradeAmount:d}):{}},e.exports.getOrganizationMemberStage=function(e){var t={};if(e=e||0){var r,a=n(c);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(t=o,e<=o.member)break}}catch(e){a.e(e)}finally{a.f()}}return t.member||s.Organization[u.free].max_member},e.exports.mergeGroupExpiredAtToOrganization=function(e,t){if(e){var r=o(e);return t&&o(t).isAfter(o())&&(r=o(t).add(o(e).diff(o()),"milliseconds")),r}}},1435:function(e,t,r){"use strict";var n={number:function(e){return"number"!=typeof(e=Number(e))||e<1e3?e:"".concat((e/1e3).toFixed(1),"K")},maxNumber:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:999;return"number"!=typeof e||e<=t?e:"".concat(t,"+")}};t.a=n},1442:function(e,t,r){"use strict";r(42);var n=r(9),a=(r(41),r(10)),o=r(0),i=r.n(o),l=r(2),c=r.n(l),u=r(51),s=r(501),m=r(1435),f="index-module_count_pDHQn";function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(){p=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(n||[]);return a(i,"_invoke",{value:T(e,r,l)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",y="suspendedYield",h="executing",b="completed",g={};function v(){}function _(){}function E(){}var w={};u(w,i,(function(){return this}));var A=Object.getPrototypeOf,O=A&&A(A(k([])));O&&O!==r&&n.call(O,i)&&(w=O);var S=E.prototype=v.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(a,o,i,l){var c=m(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==d(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,r,n){var a=f;return function(o,i){if(a===h)throw new Error("Generator is already running");if(a===b){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=j(l,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=h;var u=m(t,r,n);if("normal"===u.type){if(a=n.done?b:y,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=b,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=m(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(d(t)+" is not iterable")}return _.prototype=E,a(S,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:_,configurable:!0}),_.displayName=u(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},N(P.prototype),u(P.prototype,l,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new P(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(S),u(S,c,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return l.type="throw",l.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function y(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){var t=h(Object(o.useState)(!1),2),r=t[0],l=t[1],c=h(Object(o.useState)(!1),2),d=c[0],b=c[1],g=e.me,v=e.user,_=e.onStatusChange,E=e.isPrimary,w=e.size,A=e.showCount,O=v.meta&&v.meta.is_followed,S=h(Object(o.useState)(null==v?void 0:v.followers_count),1)[0],N=function(){var e,t=(e=p().mark((function e(t){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,u.a.actions.findOne({target_type:"User",target_id:t,action_type:"follow"},{ignoreGlobalMessage:!0});case 3:return r=e.sent,b(!1),e.abrupt("return",Boolean(r.actioned));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){y(o,n,a,i,l,"next",e)}function l(e){y(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();if(Object(o.useEffect)((function(){void 0===e.isFollowing?N(v.id).then(l):l(e.isFollowing)}),[e.isFollowing,v.id]),g.id===v.id)return null;var P=__("关注");return r&&(P=O?__("互相关注"):__("已关注")),i.a.createElement(n.a,{className:"btn-follow",type:!r&&E?"primary":"",disabled:d,onClick:function(){var e=r?"destroy":"create";b(!0),Object(s.a)("c62147",{action:e}),u.a.actions[e]({target_type:"User",target_id:v.id,action_type:"follow"}).then((function(){b(!1),a.a.success(r?__("已取消关注"):__("关注成功")),l(!r),_&&_(v.id,!r)})).catch((function(e){b(!1)}))},size:window.h5||"small"===w?"small":"default",style:e.style},i.a.createElement("span",null,P),A&&S>0&&i.a.createElement("span",{className:f},m.a.number(S)))};g.defaultProps={me:window.appData.me,showCount:!1},g.propTypes={me:c.a.object,size:c.a.string,user:c.a.object,onStatusChange:c.a.func,isFollowing:c.a.bool,showCount:c.a.bool};t.a=g},1443:function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return v}));var n=r(0),a=r.n(n),o=r(5),i=r.n(o),l=r(65),c=r.n(l),u=r(35),s=r(341),m=r(95),f=r(490),d=r(45),p={departmentInfo:"OrgUserInfo-module_departmentInfo_3udmp",cardHeader:"OrgUserInfo-module_cardHeader_502Md",details:"OrgUserInfo-module_details_hR4Nc",job:"OrgUserInfo-module_job_erqLq",location:"OrgUserInfo-module_location_9-cQz",icon:"OrgUserInfo-module_icon_okrek",fullWidth:"OrgUserInfo-module_fullWidth_zv0Qo",department:"OrgUserInfo-module_department_MJvg6",departmentName:"OrgUserInfo-module_departmentName_fuR97",h5:"OrgUserInfo-module_h5_M+nrk",divider:"OrgUserInfo-module_divider_igZMz",orgUserInfoCard:"OrgUserInfo-module_orgUserInfoCard_7n-Or",headerInfo:"OrgUserInfo-module_headerInfo_5B731",avatar:"OrgUserInfo-module_avatar_iMqQ+",wrapper:"OrgUserInfo-module_wrapper_cpsZr",nameWrapper:"OrgUserInfo-module_nameWrapper_u01vS",name:"OrgUserInfo-module_name_9rYrf",tag:"OrgUserInfo-module_tag_dWOJO",description:"OrgUserInfo-module_description_4Q94H"};function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=c()("OrgUserInfo"),g=function(e){var t,r=e.organization,n=e.orgUser,o=e.className,l=window.h5,c=null==n?void 0:n.job_title,u=null==n?void 0:n.location;return a.a.createElement("div",{className:i()(p.departmentInfo,o)},null==n||null===(t=n.departments)||void 0===t?void 0:t.map((function(e,t){return a.a.createElement("div",{className:p.department,key:t},a.a.createElement(s.g,{className:p.orgAvatar,organization:r,size:20}),a.a.createElement(s.c,{organization:r,department:e,className:i()(p.departmentName,h({},p.h5,l))}))})),a.a.createElement("div",{className:p.divider}),a.a.createElement("div",{className:p.details},a.a.createElement("div",{className:i()(p.job,h({},p.fullWidth,!l))},a.a.createElement(d.b,{name:"user-job",className:p.icon,size:16}),a.a.createElement("span",null,c||__("暂无职位信息"))),a.a.createElement("div",{className:i()(p.location,h({},p.fullWidth,!l))},a.a.createElement(d.b,{name:"user-location",className:p.icon,size:16}),a.a.createElement("span",null,u||__("暂无地址信息")))))},v=function(e){var t=e.orgUser,r=e.user,n=e.className,o=null==t?void 0:t.departments,l=null==t?void 0:t.job_title,c=null==t?void 0:t.location,s=(null==o?void 0:o.length)||l||c,y=t.status===m.STATUS.terminated,h=t.role===m.ROLE.outsourcer,g=y?__("已离职"):h?__("外部联系人"):"";return b("orgUser %o",t),b("tag %s",g),a.a.createElement("div",{className:i()(p.orgUserInfoCard,n)},a.a.createElement("div",{className:p.headerInfo},a.a.createElement(u.Link,{to:"/".concat(null==r?void 0:r.login),target:"_blank"},a.a.createElement(f.a,{size:44,src:null==t?void 0:t.avatar,className:p.avatar})),a.a.createElement("div",{className:p.wrapper},a.a.createElement(u.Link,{to:"/".concat(null==r?void 0:r.login),target:"_blank"},a.a.createElement("div",{className:p.nameWrapper},a.a.createElement("span",{className:p.name},null==t?void 0:t.name),g&&a.a.createElement("span",{className:p.tag},g))),(null==t?void 0:t.description)&&a.a.createElement("div",{className:p.description},null==t?void 0:t.description))),s&&a.a.createElement("div",{className:p.details},a.a.createElement("div",{className:p.divider}),(null==o?void 0:o.length)&&(null==o?void 0:o.map((function(e,t){return a.a.createElement("div",{className:p.department,key:t},a.a.createElement(d.b,{name:"line-framework",className:p.icon,size:16}),a.a.createElement("span",{title:e,className:n},e))}))),l&&a.a.createElement("div",{className:p.job},a.a.createElement(d.b,{name:"user-job",className:p.icon,size:16}),a.a.createElement("span",null,l)),c&&a.a.createElement("div",{className:p.location},a.a.createElement(d.b,{name:"user-location",className:p.icon,size:16}),a.a.createElement("span",null,c))))}},1699:function(e,t){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},1700:function(e,t,r){const n=r(784),a=r(1318),o=r(1701),i=r(1702),l=r(1703),c=r(1704),u=r(1705),s=r(1393),m=r(1706),f=r(1709),d=r(1710),p=r(785),y=r(1711);function h(e,t,r){const n=e.size,a=d.getEncodedBits(t,r);let o,i;for(o=0;o<15;o++)i=1==(a>>o&1),o<6?e.set(o,8,i,!0):o<8?e.set(o+1,8,i,!0):e.set(n-15+o,8,i,!0),o<8?e.set(8,n-o-1,i,!0):o<9?e.set(8,15-o-1+1,i,!0):e.set(8,15-o-1,i,!0);e.set(n-8,8,1,!0)}function b(e,t,r){const a=new o;r.forEach((function(t){a.put(t.mode.bit,4),a.put(t.getLength(),p.getCharCountIndicator(t.mode,e)),t.write(a)}));const i=8*(n.getSymbolTotalCodewords(e)-s.getTotalCodewordsCount(e,t));for(a.getLengthInBits()+4<=i&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(0);const l=(i-a.getLengthInBits())/8;for(let e=0;e<l;e++)a.put(e%2?17:236,8);return function(e,t,r){const a=n.getSymbolTotalCodewords(t),o=s.getTotalCodewordsCount(t,r),i=a-o,l=s.getBlocksCount(t,r),c=a%l,u=l-c,f=Math.floor(a/l),d=Math.floor(i/l),p=d+1,y=f-d,h=new m(y);let b=0;const g=new Array(l),v=new Array(l);let _=0;const E=new Uint8Array(e.buffer);for(let e=0;e<l;e++){const t=e<u?d:p;g[e]=E.slice(b,b+t),v[e]=h.encode(g[e]),b+=t,_=Math.max(_,t)}const w=new Uint8Array(a);let A,O,S=0;for(A=0;A<_;A++)for(O=0;O<l;O++)A<g[O].length&&(w[S++]=g[O][A]);for(A=0;A<y;A++)for(O=0;O<l;O++)w[S++]=v[O][A];return w}(a,e,t)}function g(e,t,r,a){let o;if(Array.isArray(e))o=y.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let n=t;if(!n){const t=y.rawSplit(e);n=f.getBestVersionForData(t,r)}o=y.fromString(e,n||40)}}const s=f.getBestVersionForData(o,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else t=s;const m=b(t,r,o),d=n.getSymbolSize(t),p=new i(d);return function(e,t){const r=e.size,n=c.getPositions(t);for(let t=0;t<n.length;t++){const a=n[t][0],o=n[t][1];for(let t=-1;t<=7;t++)if(!(a+t<=-1||r<=a+t))for(let n=-1;n<=7;n++)o+n<=-1||r<=o+n||(t>=0&&t<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===t||6===t)||t>=2&&t<=4&&n>=2&&n<=4?e.set(a+t,o+n,!0,!0):e.set(a+t,o+n,!1,!0))}}(p,t),function(e){const t=e.size;for(let r=8;r<t-8;r++){const t=r%2==0;e.set(r,6,t,!0),e.set(6,r,t,!0)}}(p),function(e,t){const r=l.getPositions(t);for(let t=0;t<r.length;t++){const n=r[t][0],a=r[t][1];for(let t=-2;t<=2;t++)for(let r=-2;r<=2;r++)-2===t||2===t||-2===r||2===r||0===t&&0===r?e.set(n+t,a+r,!0,!0):e.set(n+t,a+r,!1,!0)}}(p,t),h(p,r,0),t>=7&&function(e,t){const r=e.size,n=f.getEncodedBits(t);let a,o,i;for(let t=0;t<18;t++)a=Math.floor(t/3),o=t%3+r-8-3,i=1==(n>>t&1),e.set(a,o,i,!0),e.set(o,a,i,!0)}(p,t),function(e,t){const r=e.size;let n=-1,a=r-1,o=7,i=0;for(let l=r-1;l>0;l-=2)for(6===l&&l--;;){for(let r=0;r<2;r++)if(!e.isReserved(a,l-r)){let n=!1;i<t.length&&(n=1==(t[i]>>>o&1)),e.set(a,l-r,n),o--,-1===o&&(i++,o=7)}if(a+=n,a<0||r<=a){a-=n,n=-n;break}}}(p,m),isNaN(a)&&(a=u.getBestMask(p,h.bind(null,p,r))),u.applyMask(a,p),h(p,r,a),{modules:p,version:t,errorCorrectionLevel:r,maskPattern:a,segments:o}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let r,o,i=a.M;return void 0!==t&&(i=a.from(t.errorCorrectionLevel,a.M),r=f.from(t.version),o=u.from(t.maskPattern),t.toSJISFunc&&n.setToSJISFunction(t.toSJISFunc)),g(e,r,i,o)}},1701:function(e,t){function r(){this.buffer=[],this.length=0}r.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=r},1702:function(e,t){function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}r.prototype.set=function(e,t,r,n){const a=e*this.size+t;this.data[a]=r,n&&(this.reservedBit[a]=!0)},r.prototype.get=function(e,t){return this.data[e*this.size+t]},r.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},r.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=r},1703:function(e,t,r){const n=r(784).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];const t=Math.floor(e/7)+2,r=n(e),a=145===r?26:2*Math.ceil((r-13)/(2*t-2)),o=[r-7];for(let e=1;e<t-1;e++)o[e]=o[e-1]-a;return o.push(6),o.reverse()},t.getPositions=function(e){const r=[],n=t.getRowColCoords(e),a=n.length;for(let e=0;e<a;e++)for(let t=0;t<a;t++)0===e&&0===t||0===e&&t===a-1||e===a-1&&0===t||r.push([n[e],n[t]]);return r}},1704:function(e,t,r){const n=r(784).getSymbolSize;t.getPositions=function(e){const t=n(e);return[[0,0],[t-7,0],[0,t-7]]}},1705:function(e,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const r=3,n=3,a=40,o=10;function i(e,r,n){switch(e){case t.Patterns.PATTERN000:return(r+n)%2==0;case t.Patterns.PATTERN001:return r%2==0;case t.Patterns.PATTERN010:return n%3==0;case t.Patterns.PATTERN011:return(r+n)%3==0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case t.Patterns.PATTERN101:return r*n%2+r*n%3==0;case t.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case t.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){const t=e.size;let n=0,a=0,o=0,i=null,l=null;for(let c=0;c<t;c++){a=o=0,i=l=null;for(let u=0;u<t;u++){let t=e.get(c,u);t===i?a++:(a>=5&&(n+=r+(a-5)),i=t,a=1),t=e.get(u,c),t===l?o++:(o>=5&&(n+=r+(o-5)),l=t,o=1)}a>=5&&(n+=r+(a-5)),o>=5&&(n+=r+(o-5))}return n},t.getPenaltyN2=function(e){const t=e.size;let r=0;for(let n=0;n<t-1;n++)for(let a=0;a<t-1;a++){const t=e.get(n,a)+e.get(n,a+1)+e.get(n+1,a)+e.get(n+1,a+1);4!==t&&0!==t||r++}return r*n},t.getPenaltyN3=function(e){const t=e.size;let r=0,n=0,o=0;for(let a=0;a<t;a++){n=o=0;for(let i=0;i<t;i++)n=n<<1&2047|e.get(a,i),i>=10&&(1488===n||93===n)&&r++,o=o<<1&2047|e.get(i,a),i>=10&&(1488===o||93===o)&&r++}return r*a},t.getPenaltyN4=function(e){let t=0;const r=e.data.length;for(let n=0;n<r;n++)t+=e.data[n];return Math.abs(Math.ceil(100*t/r/5)-10)*o},t.applyMask=function(e,t){const r=t.size;for(let n=0;n<r;n++)for(let a=0;a<r;a++)t.isReserved(a,n)||t.xor(a,n,i(e,a,n))},t.getBestMask=function(e,r){const n=Object.keys(t.Patterns).length;let a=0,o=1/0;for(let i=0;i<n;i++){r(i),t.applyMask(i,e);const n=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(i,e),n<o&&(o=n,a=i)}return a}},1706:function(e,t,r){const n=r(1707);function a(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}a.prototype.initialize=function(e){this.degree=e,this.genPoly=n.generateECPolynomial(this.degree)},a.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const r=n.mod(t,this.genPoly),a=this.degree-r.length;if(a>0){const e=new Uint8Array(this.degree);return e.set(r,a),e}return r},e.exports=a},1707:function(e,t,r){const n=r(1708);t.mul=function(e,t){const r=new Uint8Array(e.length+t.length-1);for(let a=0;a<e.length;a++)for(let o=0;o<t.length;o++)r[a+o]^=n.mul(e[a],t[o]);return r},t.mod=function(e,t){let r=new Uint8Array(e);for(;r.length-t.length>=0;){const e=r[0];for(let a=0;a<t.length;a++)r[a]^=n.mul(t[a],e);let a=0;for(;a<r.length&&0===r[a];)a++;r=r.slice(a)}return r},t.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let a=0;a<e;a++)r=t.mul(r,new Uint8Array([1,n.exp(a)]));return r}},1708:function(e,t){const r=new Uint8Array(512),n=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)r[t]=e,n[e]=t,e<<=1,256&e&&(e^=285);for(let e=255;e<512;e++)r[e]=r[e-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return n[e]},t.exp=function(e){return r[e]},t.mul=function(e,t){return 0===e||0===t?0:r[n[e]+n[t]]}},1709:function(e,t,r){const n=r(784),a=r(1393),o=r(1318),i=r(785),l=r(1394),c=n.getBCHDigit(7973);function u(e,t){return i.getCharCountIndicator(e,t)+4}function s(e,t){let r=0;return e.forEach((function(e){const n=u(e.mode,t);r+=n+e.getBitsLength()})),r}t.from=function(e,t){return l.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,r){if(!l.isValid(e))throw new Error("Invalid QR Code version");void 0===r&&(r=i.BYTE);const o=8*(n.getSymbolTotalCodewords(e)-a.getTotalCodewordsCount(e,t));if(r===i.MIXED)return o;const c=o-u(r,e);switch(r){case i.NUMERIC:return Math.floor(c/10*3);case i.ALPHANUMERIC:return Math.floor(c/11*2);case i.KANJI:return Math.floor(c/13);case i.BYTE:default:return Math.floor(c/8)}},t.getBestVersionForData=function(e,r){let n;const a=o.from(r,o.M);if(Array.isArray(e)){if(e.length>1)return function(e,r){for(let n=1;n<=40;n++)if(s(e,n)<=t.getCapacity(n,r,i.MIXED))return n}(e,a);if(0===e.length)return 1;n=e[0]}else n=e;return function(e,r,n){for(let a=1;a<=40;a++)if(r<=t.getCapacity(a,n,e))return a}(n.mode,n.getLength(),a)},t.getEncodedBits=function(e){if(!l.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;n.getBCHDigit(t)-c>=0;)t^=7973<<n.getBCHDigit(t)-c;return e<<12|t}},1710:function(e,t,r){const n=r(784),a=n.getBCHDigit(1335);t.getEncodedBits=function(e,t){const r=e.bit<<3|t;let o=r<<10;for(;n.getBCHDigit(o)-a>=0;)o^=1335<<n.getBCHDigit(o)-a;return 21522^(r<<10|o)}},1711:function(e,t,r){const n=r(785),a=r(1712),o=r(1713),i=r(1714),l=r(1716),c=r(1395),u=r(784),s=r(1717);function m(e){return unescape(encodeURIComponent(e)).length}function f(e,t,r){const n=[];let a;for(;null!==(a=e.exec(r));)n.push({data:a[0],index:a.index,mode:t,length:a[0].length});return n}function d(e){const t=f(c.NUMERIC,n.NUMERIC,e),r=f(c.ALPHANUMERIC,n.ALPHANUMERIC,e);let a,o;u.isKanjiModeEnabled()?(a=f(c.BYTE,n.BYTE,e),o=f(c.KANJI,n.KANJI,e)):(a=f(c.BYTE_KANJI,n.BYTE,e),o=[]);return t.concat(r,a,o).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function p(e,t){switch(t){case n.NUMERIC:return a.getBitsLength(e);case n.ALPHANUMERIC:return o.getBitsLength(e);case n.KANJI:return l.getBitsLength(e);case n.BYTE:return i.getBitsLength(e)}}function y(e,t){let r;const c=n.getBestModeForData(e);if(r=n.from(t,c),r!==n.BYTE&&r.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+n.toString(r)+".\n Suggested mode is: "+n.toString(c));switch(r!==n.KANJI||u.isKanjiModeEnabled()||(r=n.BYTE),r){case n.NUMERIC:return new a(e);case n.ALPHANUMERIC:return new o(e);case n.KANJI:return new l(e);case n.BYTE:return new i(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(y(t,null)):t.data&&e.push(y(t.data,t.mode)),e}),[])},t.fromString=function(e,r){const a=function(e){const t=[];for(let r=0;r<e.length;r++){const a=e[r];switch(a.mode){case n.NUMERIC:t.push([a,{data:a.data,mode:n.ALPHANUMERIC,length:a.length},{data:a.data,mode:n.BYTE,length:a.length}]);break;case n.ALPHANUMERIC:t.push([a,{data:a.data,mode:n.BYTE,length:a.length}]);break;case n.KANJI:t.push([a,{data:a.data,mode:n.BYTE,length:m(a.data)}]);break;case n.BYTE:t.push([{data:a.data,mode:n.BYTE,length:m(a.data)}])}}return t}(d(e,u.isKanjiModeEnabled())),o=function(e,t){const r={},a={start:{}};let o=["start"];for(let i=0;i<e.length;i++){const l=e[i],c=[];for(let e=0;e<l.length;e++){const u=l[e],s=""+i+e;c.push(s),r[s]={node:u,lastCount:0},a[s]={};for(let e=0;e<o.length;e++){const i=o[e];r[i]&&r[i].node.mode===u.mode?(a[i][s]=p(r[i].lastCount+u.length,u.mode)-p(r[i].lastCount,u.mode),r[i].lastCount+=u.length):(r[i]&&(r[i].lastCount=u.length),a[i][s]=p(u.length,u.mode)+4+n.getCharCountIndicator(u.mode,t))}}o=c}for(let e=0;e<o.length;e++)a[o[e]].end=0;return{map:a,table:r}}(a,r),i=s.find_path(o.map,"start","end"),l=[];for(let e=1;e<i.length-1;e++)l.push(o.table[i[e]].node);return t.fromArray(function(e){return e.reduce((function(e,t){const r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(l))},t.rawSplit=function(e){return t.fromArray(d(e,u.isKanjiModeEnabled()))}},1712:function(e,t,r){const n=r(785);function a(e){this.mode=n.NUMERIC,this.data=e.toString()}a.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){let t,r,n;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),n=parseInt(r,10),e.put(n,10);const a=this.data.length-t;a>0&&(r=this.data.substr(t),n=parseInt(r,10),e.put(n,3*a+1))},e.exports=a},1713:function(e,t,r){const n=r(785),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=n.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=45*a.indexOf(this.data[t]);r+=a.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(a.indexOf(this.data[t]),6)},e.exports=o},1714:function(e,t,r){const n=r(1715),a=r(785);function o(e){this.mode=a.BYTE,"string"==typeof e&&(e=n(e)),this.data=new Uint8Array(e)}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},e.exports=o},1715:function(e,t,r){"use strict";e.exports=function(e){for(var t=[],r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);if(a>=55296&&a<=56319&&r>n+1){var o=e.charCodeAt(n+1);o>=56320&&o<=57343&&(a=1024*(a-55296)+o-56320+65536,n+=1)}a<128?t.push(a):a<2048?(t.push(a>>6|192),t.push(63&a|128)):a<55296||a>=57344&&a<65536?(t.push(a>>12|224),t.push(a>>6&63|128),t.push(63&a|128)):a>=65536&&a<=1114111?(t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(63&a|128)):t.push(239,191,189)}return new Uint8Array(t).buffer}},1716:function(e,t,r){const n=r(785),a=r(784);function o(e){this.mode=n.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=a.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}},e.exports=o},1717:function(e,t,r){"use strict";var n={single_source_shortest_paths:function(e,t,r){var a={},o={};o[t]=0;var i,l,c,u,s,m,f,d=n.PriorityQueue.make();for(d.push(t,0);!d.empty();)for(c in l=(i=d.pop()).value,u=i.cost,s=e[l]||{})s.hasOwnProperty(c)&&(m=u+s[c],f=o[c],(void 0===o[c]||f>m)&&(o[c]=m,d.push(c,m),a[c]=l));if(void 0!==r&&void 0===o[r]){var p=["Could not find a path from ",t," to ",r,"."].join("");throw new Error(p)}return a},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t;n;)r.push(n),e[n],n=e[n];return r.reverse(),r},find_path:function(e,t,r){var a=n.single_source_shortest_paths(e,t,r);return n.extract_shortest_path_from_predecessor_list(a,r)},PriorityQueue:{make:function(e){var t,r=n.PriorityQueue,a={};for(t in e=e||{},r)r.hasOwnProperty(t)&&(a[t]=r[t]);return a.queue=[],a.sorter=e.sorter||r.default_sorter,a},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=n},1718:function(e,t,r){const n=r(1396);t.render=function(e,t,r){let a=r,o=t;void 0!==a||t&&t.getContext||(a=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),a=n.getOptions(a);const i=n.getImageWidth(e.modules.size,a),l=o.getContext("2d"),c=l.createImageData(i,i);return n.qrToImageData(c.data,e,a),function(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}(l,o,i),l.putImageData(c,0,0),o},t.renderToDataURL=function(e,r,n){let a=n;void 0!==a||r&&r.getContext||(a=r,r=void 0),a||(a={});const o=t.render(e,r,a),i=a.type||"image/png",l=a.rendererOpts||{};return o.toDataURL(i,l.quality)}},1719:function(e,t,r){const n=r(1396);function a(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function o(e,t,r){let n=e+t;return void 0!==r&&(n+=" "+r),n}t.render=function(e,t,r){const i=n.getOptions(t),l=e.modules.size,c=e.modules.data,u=l+2*i.margin,s=i.color.light.a?"<path "+a(i.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",m="<path "+a(i.color.dark,"stroke")+' d="'+function(e,t,r){let n="",a=0,i=!1,l=0;for(let c=0;c<e.length;c++){const u=Math.floor(c%t),s=Math.floor(c/t);u||i||(i=!0),e[c]?(l++,c>0&&u>0&&e[c-1]||(n+=i?o("M",u+r,.5+s+r):o("m",a,0),a=0,i=!1),u+1<t&&e[c+1]||(n+=o("h",l),l=0)):a++}return n}(c,l,i.margin)+'"/>',f='viewBox="0 0 '+u+" "+u+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+f+' shape-rendering="crispEdges">'+s+m+"</svg>\n";return"function"==typeof r&&r(null,d),d}},1859:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-new-ellipsis",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M227.008 128c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20ZM148 128c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20Zm-78.992 0c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20Z",fill:"currentColor",fillRule:"nonzero"}))},34:function(e,t,r){"use strict";var n=r(81),a=r.n(n),o=(r(1223),r(366)),i=r(58),l=r.n(i),c=r(86),u=r.n(c),s=r(0),m=r.n(s),f=r(2),d=r.n(f),p=r(5),y=r.n(p),h=r(87),b=r.n(h),g=r(1210),v=(r(209),["className","dropdownClassName"]);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=m.a.forwardRef((function(e,t){var r=e.className,n=e.dropdownClassName,a=u()(e,v);return m.a.createElement(o.a,l()({className:y()("larkui-select",r),dropdownClassName:y()("larkui-select-dropdown",n),ref:t,suffixIcon:m.a.createElement(g.default,null)},a))}));w.propTypes=E(E({},o.a.SelectProps),{},{className:d.a.string,dropdownClassName:d.a.string}),b()(w,o.a),t.a=w},341:function(e,t,r){"use strict";r.d(t,"h",(function(){return k.d})),r.d(t,"g",(function(){return k.c})),r.d(t,"f",(function(){return k.b})),r.d(t,"c",(function(){return k.a})),r.d(t,"m",(function(){return k.e})),r.d(t,"i",(function(){return x})),r.d(t,"j",(function(){return R})),r.d(t,"a",(function(){return S})),r.d(t,"n",(function(){return C})),r.d(t,"k",(function(){return ie})),r.d(t,"b",(function(){return z})),r.d(t,"e",(function(){return ne})),r.d(t,"d",(function(){return le})),r.d(t,"l",(function(){return ce}));r(42);var n=r(9),a=(r(41),r(10)),o=r(0),i=r.n(o),l=r(2),c=r.n(l),u=r(14),s=r.n(u),m=r(5),f=r.n(m),d=r(108),p=r(57),y=r(32),h=r(259),b=r(53),g=r(61),v=r(23),_=r(697),E="index-module_buyButton_pN7y0";function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e){var t=e.organization,r=e.targetLevel,a=e.type,l=e.text,c=e.className,u=e.paySource,s=void 0===u?y.LIMIT_SCENE.org_other_buy:u,m=p.a.isFree(t),d=m?v.PAY_MODAL_ACTION.buy:v.PAY_MODAL_ACTION.renew,h=w(Object(o.useState)(!1),2),b=h[0],g=h[1],A=l||(m?__("升级"):__("续费")),O=window.location,S="/r/organizations/dashboard/cashier"===(null==O?void 0:O.pathname),N=null==O?void 0:O.pathname.startsWith("/r/organizations/dashboard");if(!S){var P=p.a.buildOrgPayLink({action:m?"buy":"renew",targetLevel:r,paySource:s});return i.a.createElement(n.a,{className:f()(E,c),href:P,target:N?"_self":"_blank",type:a},A)}return i.a.createElement(i.a.Fragment,null,i.a.createElement(n.a,{type:a,className:f()(E,c),onClick:function(){return g(!0)}},A),b&&i.a.createElement(_.a,{visible:b,organization:t,onClose:function(){return g(!1)},type:"buyModal",actionType:d,targetLevel:r,paySource:s}))}O.propTypes={organization:c.a.object.isRequired,type:c.a.string,text:c.a.string,className:c.a.string,targetLevel:c.a.oneOf([v.PAYMENT_TYPE.pro,v.PAYMENT_TYPE.enterprise]),paySource:c.a.string},O.defaultProps={type:"link",targetLevel:v.PAYMENT_TYPE.pro};var S=O,N=r(953),P="index-module_upgradeButton_nJqrZ";function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e){var t,r=e.organization,a=e.type,l=e.text,c=e.className,u=e.paySource,s=void 0===u?y.LIMIT_SCENE.org_other_buy:u,m=T(Object(o.useState)(!1),2),d=m[0],h=m[1],b=l||__("升级"),g=Object(N.getInterest)(),E=window.location,w="/r/organizations/dashboard/cashier"===(null==E?void 0:E.pathname),A=null==E||null===(t=E.pathname)||void 0===t?void 0:t.startsWith("/r/organizations/dashboard");if(p.a.isTopLevel(g))return null;if(!A||!w){var O=p.a.buildOrgPayLink({action:"upgrade",paySource:s});return i.a.createElement(n.a,{className:f()(P,c),href:O,target:"_blank",type:a},b)}return i.a.createElement(i.a.Fragment,null,i.a.createElement(n.a,{type:a,className:f()(P,c),onClick:function(){return h(!0)}},b),d&&i.a.createElement(_.a,{visible:d,organization:r,onClose:function(){return h(!1)},type:"buyModal",actionType:v.PAY_MODAL_ACTION.upgrade,targetLevel:v.PAYMENT_TYPE.enterprise,paySource:s}))}M.propTypes={organization:c.a.object.isRequired,type:c.a.string,text:c.a.string,className:c.a.string,paySource:c.a.string},M.defaultProps={type:"link"};var C=M,I={orgVersionLabel:"index-module_orgVersionLabel_egPu3",tip:"index-module_tip_rQx-e",payment:"index-module_payment_pQExj",paymentLink:"index-module_paymentLink_GbvgZ",paymentGuideWrapper:"index-module_paymentGuideWrapper_2jg39",thumb:"index-module_thumb_Lw5zW",title:"index-module_title_EykNL",body:"index-module_body_+1-cr",link:"index-module_link_zDdoa",actions:"index-module_actions_LRgdL",horizontal:"index-module_horizontal_rYkfB",btnTryout:"index-module_btnTryout_5GVmK",vertical:"index-module_vertical_K+cm2",btn:"index-module_btn_vRXZD",premiumFeaturesLabel:"index-module_premiumFeaturesLabel_q+uFd",alignCenter:"index-module_alignCenter_h648T",orgExpiredTip:"index-module_orgExpiredTip_k7iLg",orgExpiredTipOpt:"index-module_orgExpiredTipOpt_QDhkZ",orgExpiredTipText:"index-module_orgExpiredTipText_gQuZw",payflowTitle:"index-module_payflowTitle_LM3aR",freeWrapper:"index-module_freeWrapper_BlI2K",payflowLink:"index-module_payflowLink_Wt3fM",isExpired:"index-module_isExpired_UgOgs",freeTips:"index-module_freeTips_ybaQ-"},k=r(579),L=r(45);r(490);function x(){return i.a.createElement("span",null,__("标准版，2999 元/空间/年"))}function R(e){var t=e.organization,r=e.size,n=e.className;return i.a.createElement(L.b,{size:r,name:p.a.getIconName(t),className:n})}c.a.object.isRequired,c.a.node,c.a.string,c.a.object.isRequired,c.a.string,c.a.string,c.a.string,c.a.oneOfType([c.a.string,c.a.number]),c.a.oneOfType([c.a.string,c.a.node]),c.a.string,c.a.object,R.propTypes={organization:c.a.object,size:c.a.number,className:c.a.string};var D="index-module_upgrade_qL2nR";function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var z=function(e){var t=e.organization,r=e.className,a=e.code,l=void 0===a?y.LIMIT_SCENE.org_other_buy:a,c=B(Object(o.useState)(!1),2),u=c[0],s=c[1];if(!("/r/organizations/dashboard/cashier"===window.location.pathname)){var m=p.a.buildOrgPayLink({action:"member",paySource:l});return i.a.createElement("a",{className:r,href:m,target:"_blank"},__("扩容"))}return i.a.createElement("div",{className:f()(D,r)},i.a.createElement(n.a,{type:"link",onClick:function(){return s(!0)}},__("扩容")),u&&i.a.createElement(_.a,{visible:u,organization:t,onClose:function(){return s(!1)},type:"buyModal",actionType:v.ORDER_TYPE.buyMember,paySource:l}))},U=(r(71),r(31));function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==F(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===F(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Q=function(e){var t=e.organization,r=e.code,o=e.type,l=e.className,c=e.text,u=p.a.getFeatureBelongsPayment(r);return p.a.isPremium(t)?u===(null==t?void 0:t.payment_type)?i.a.createElement(n.a,{type:o,className:l,onClick:function(){var e;a.a.warning(__("当前版本已是{payment}",{payment:null===(e=p.a.PAYMENT_MAP)||void 0===e?void 0:e[u]}))}},c):i.a.createElement(C,{organization:t,type:o,text:c,className:l,paySource:r}):i.a.createElement(S,{organization:t,type:o,text:c,targetLevel:u,className:l,paySource:r})};Q.propTypes={organization:c.a.object.isRequired,className:c.a.string,code:c.a.oneOf(Object.values(W(W({},b.INTEREST_CODE),y.LIMIT_RULE_CODE))),type:c.a.string,text:c.a.string},Q.defaultProps={type:"link"};var H="index-module_wrapper_ulVDd",V="index-module_content_SO1HL",K="index-module_title_SVPzd",Z="index-module_desc_MlCQ9",J="index-module_img_SBaEY",X="index-module_trialButton_tH3iD",$="index-module_footer_cL9eu",ee="index-module_btn_XNqZC";function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function re(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==te(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===te(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ne={showInterestIntro:function(e){var t,r=window.appData.organization,a=p.a.isOwner(r),o=(re(t={},b.INTEREST_CODE.thirdpart_address,{title:p.a.getPaymentFeatureDesc(b.INTEREST_CODE.thirdpart_address),desc:p.a.getFeatureIntro(b.INTEREST_CODE.thirdpart_address)}),re(t,b.INTEREST_CODE.group_department,{title:p.a.getPaymentFeatureDesc(b.INTEREST_CODE.group_department),desc:p.a.getFeatureIntro(b.INTEREST_CODE.group_department)}),re(t,b.INTEREST_CODE.group_handover,{title:p.a.getPaymentFeatureDesc(b.INTEREST_CODE.group_handover),desc:p.a.getFeatureIntro(b.INTEREST_CODE.group_handover)}),re(t,b.INTEREST_CODE.public_page,{title:p.a.getPaymentFeatureDesc(b.INTEREST_CODE.public_page),desc:p.a.getFeatureIntro(b.INTEREST_CODE.public_page),link:i.a.createElement("a",{href:"https://www.yuque.com/yuque/organizations/xoios9x575i28vi9",target:"_blank"},__("查看详细介绍"))}),t)[e];if(o){Object(d.spmClick)(y.ORG_LIMIT_SPM.pay_limit,{pay_source:e,organization_id:(null==r?void 0:r.id)||0});var l=p.a.buildOrgPayLink({action:"trial",paySource:e}),c=U.a.info({width:480,closable:!0,maskClosable:!0,centered:!0,className:H,content:i.a.createElement("div",null,i.a.createElement("img",{className:J,src:"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*Lt7IR4oBkwIAAAAAAAAAAAAADvuFAQ/original"}),i.a.createElement("div",{className:V},i.a.createElement("p",{className:K},null==o?void 0:o.title),i.a.createElement("p",{className:Z},!a&&__("联系管理员升级空间版本，立享空间功能。"),null==o?void 0:o.desc,null==o?void 0:o.link),i.a.createElement("div",{className:$},a?i.a.createElement(i.a.Fragment,null,(null==r?void 0:r.canTrial)&&i.a.createElement(n.a,{className:f()(X,ee),href:l},__("领取 {days} 天试用",{days:15})),i.a.createElement(Q,{className:ee,type:"primary",organization:r,code:e})):i.a.createElement(n.a,{className:f()(ee),type:"primary",onClick:function(){return c.destroy()}},__("知道了"))))),okText:null})}}};function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function oe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ae(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ae(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ie=function(e){var t=e.organization,r=e.code,o=e.type,l=e.className,c=e.text,u=p.a.getFeatureBelongsPayment(r);return p.a.isPremium(t)?u===(null==t?void 0:t.payment_type)?i.a.createElement(n.a,{type:o,className:l,onClick:function(){var e;a.a.warning(__("当前版本已是{payment}",{payment:null===(e=p.a.PAYMENT_MAP)||void 0===e?void 0:e[u]}))}},c):i.a.createElement(C,{organization:t,type:o,text:c,className:l,paySource:r}):i.a.createElement(S,{organization:t,type:o,text:c,targetLevel:u,className:l,paySource:r})};function le(e){var t,r=e.organization,n=e.className,a=r.expired_at,o=r.payment_type,l=p.a.isOwner(r),c=(null===(t=g.ORG_AMOUNT_MAP[null==r?void 0:r.payment_type])||void 0===t?void 0:t.name)||g.ORG_AMOUNT_MAP[v.PAYMENT_TYPE.enterprise].name,u=p.a.buildOrgPayLink({action:"renew",paySource:y.LIMIT_SCENE.org_dashboard_user_menu_buy});if(o===v.PAYMENT_TYPE.free&&!l)return null;if(p.a.isFree(r)&&l)return u=p.a.buildOrgPayLink({action:"buy",paySource:y.LIMIT_SCENE.org_dashboard_user_menu_buy}),i.a.createElement("div",{className:f()(I.tip,I.freeWarpper),"data-testid":"org-preview-tip"},i.a.createElement("div",{className:I.payflowTitle},g.ORG_AMOUNT_MAP[v.PAYMENT_TYPE.free].name),i.a.createElement("a",{href:u,className:I.payment,target:"_blank"},__("升级")));var m,d=s()(a).diff(s()(),"day"),h=!1;return s()(a).isBefore(s()())?(m=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:I.orgExpiredTip},__("{paymentType}已过期",{paymentType:c}))),h=!0):0===d?(m=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:I.orgExpiredTip},__("空间将于今日到期"))),h=!0):d<15&&d>0?(m=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:I.orgExpiredTip},__("{paymentType} {days} 天后到期",{paymentType:c,days:d}))),h=!0):m=i.a.createElement("p",{className:I.orgExpiredTipText},__("有效期至{expiredAt}",{expiredAt:i.a.createElement("span",{title:s()(a).format("YYYY-MM-DD")},s()(a).format("YYYY-MM-DD"))})),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:f()(I.tip,n,oe({},I.isExpired,h)),"data-testid":"org-preview-tip"},i.a.createElement("span",null,m),l&&i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{href:u,target:"_blank",className:I.payment},__("续费")))))}function ce(e){var t=e.organization,r=e.showThumb,a=void 0===r||r,l=(e.children,e.titleClassName),c=e.thumbClassName,u=e.actionsLayout,s=void 0===u?"horizontal":u,m=e.code,b=e.className,g=p.a.getPaymentFeatureDesc(m)||__("付费版空间专属功能"),v=p.a.getFeatureIntro(m);return Object(o.useEffect)((function(){Object(d.spmClick)(y.ORG_LIMIT_SPM.pay_limit,{pay_source:m,organization_id:(null==t?void 0:t.id)||0})}),[]),i.a.createElement("div",{className:f()(I.paymentGuideWrapper,b)},a&&i.a.createElement(h.a,{src:"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*oKPaTZWb5BwAAAAAAAAAAAAADvuFAQ/original",darkAlpha:.9,className:f()(I.thumb,c)}),i.a.createElement("h6",{className:f()(I.title,l)},g),i.a.createElement("div",{className:I.body},v),i.a.createElement("div",{className:f()(I.actions,"horizontal"===s?I.horizontal:I.vertical)},"vertical"===s?i.a.createElement(i.a.Fragment,null,i.a.createElement(ie,{organization:t,type:"primary",code:m,className:I.btn}),i.a.createElement(n.a,{style:{marginTop:"12px"},"data-desktoptarget":"_browser",type:"link",href:"/about/price#team",target:"_blank"},__("了解不同版本权益"))):i.a.createElement(i.a.Fragment,null,i.a.createElement(n.a,{href:"/about/price#team",target:"_blank",className:I.link},__("了解不同版本权益")),i.a.createElement(ie,{organization:t,code:m}))))}ie.propTypes={organization:c.a.object.isRequired,className:c.a.string,code:c.a.oneOf(Object.values(b.INTEREST_CODE,y.LIMIT_RULE_CODE)),type:c.a.string,text:c.a.string},ie.defaultProps={type:"link"},le.propTypes={organization:c.a.object.isRequired,className:c.a.string},ce.propTypes={organization:c.a.object.isRequired,showThumb:c.a.bool,children:c.a.node,titleClassName:c.a.string,thumbClassName:c.a.string,actionsLayout:c.a.string,code:c.a.string,className:c.a.string},c.a.object.isRequired},3614:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return s}));var n=r(0),a=r(1212);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function l(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"leftSidebarWidth",get:function(){return this._leftSidebarWidth}},{key:"rightSidebarWidth",get:function(){return this._rightSidebarWidth}},{key:"addChangedListener",value:function(e){var t=this;return this._listeners.push(e),function(){return t.removeChangedListener(e)}}},{key:"removeChangedListener",value:function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))}},{key:"handleSidebarWidthChange",value:function(e){var t=e.leftWidth,r=e.rightWidth;null!=t&&this._leftSidebarWidth!==t&&(this._leftSidebarWidth=t,this._listeners.forEach((function(e){var r;null===(r=e.onLeftSidebarWidth)||void 0===r||r.call(e,t)}))),null!=r&&this._rightSidebarWidth!==r&&(this._rightSidebarWidth=r,this._listeners.forEach((function(e){var t;null===(t=e.onRightSidebarWidth)||void 0===t||t.call(e,r)})));var n=document.getElementsByClassName("main-wrapper")[0];if(n){var a=this._leftSidebarWidth+this._rightSidebarWidth;n.style.width="calc(100vw - ".concat(a,"px)"),n.style["margin-left"]="".concat(this._leftSidebarWidth,"px"),n.style["margin-right"]="".concat(this._rightSidebarWidth,"px"),window.dispatchEvent(new CustomEvent("DashboardSideBar.resize",{detail:{leftSidebarWidth:this._leftSidebarWidth,rightSidebarWidth:this._rightSidebarWidth}}))}}}],(r=null)&&i(t.prototype,r),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(){var e=Object(a.a)();return Object(n.useEffect)((function(){return u.addChangedListener({onRightSidebarWidth:e})}),[]),{rightSidebarWidth:u.rightSidebarWidth}}l(u,"_leftSidebarWidth",0),l(u,"_rightSidebarWidth",0),l(u,"_listeners",[])},362:function(e,t,r){"use strict";var n=r(1202);r.d(t,"a",(function(){return n.a}))},3768:function(e,t,r){e.exports=r(3775)},3775:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),o=l(a),i=l(r(2));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.scrollListener=r.scrollListener.bind(r),r.eventListenerOptions=r.eventListenerOptions.bind(r),r.mousewheelListener=r.mousewheelListener.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(e){}return e}},{key:"eventListenerOptions",value:function(){this.props.useCapture;return this.isPassiveSupported()?{useCapture:this.props.useCapture,passive:!0}:{passive:!1}}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,r=this.getParentElement(e),n=void 0;if(this.props.useWindow){var a=document.documentElement||document.body.parentNode||document.body,o=void 0!==t.pageYOffset?t.pageYOffset:a.scrollTop;n=this.props.isReverse?o:this.calculateOffset(e,o)}else n=this.props.isReverse?r.scrollTop:e.scrollHeight-r.scrollTop-r.clientHeight;n<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=r.scrollHeight,this.beforeScrollTop=r.scrollTop,"function"==typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),r=t.children,n=t.element,a=t.hasMore,i=(t.initialLoad,t.isReverse),l=t.loader,c=(t.loadMore,t.pageStart,t.ref),u=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));u.ref=function(t){e.scrollComponent=t,c&&c(t)};var s=[r];return a&&(l?i?s.unshift(l):s.push(l):this.defaultLoader&&(i?s.unshift(this.defaultLoader):s.push(this.defaultLoader))),o.default.createElement(n,u,s)}}]),t}(a.Component);c.propTypes={children:i.default.node.isRequired,element:i.default.node,hasMore:i.default.bool,initialLoad:i.default.bool,isReverse:i.default.bool,loader:i.default.node,loadMore:i.default.func.isRequired,pageStart:i.default.number,ref:i.default.func,getScrollParent:i.default.func,threshold:i.default.number,useCapture:i.default.bool,useWindow:i.default.bool},c.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=c,e.exports=t.default},3990:function(e,t,r){"use strict";r(151);var n=r(66),a=(r(782),r(379)),o=r(0),i=r.n(o),l=r(2),c=r.n(l),u=r(825),s=r.n(u),m=r(5),f=r.n(m),d=r(45),p=r(3614),y="CornerBubble-module_cornerBubble_2kGnu",h="CornerBubble-module_cornerCount_O3YTX",b="CornerBubble-module_cornerCountLarge_3x8Br",g="CornerBubble-module_cornerCountHover_x2J7h",v="CornerBubble-module_cornerIcon_N8Ibc",_="CornerBubble-module_btnWord_-QoZm",E="CornerBubble-module_badge_SQuZN";function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===w(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N=function(e){var t,r,o,l=e.count,c=e.style,u=e.onClick,m=e.iconName,w=e.iconSize,A=e.countPopoverContent,N=e.countPopoverClassName,P=e.renderBadge,T=e.tooltipText,j=e.btnWord,M=Object(p.b)().rightSidebarWidth;return i.a.createElement(n.a,{title:T},i.a.createElement("div",{className:y,onClick:u,style:O(O({},c),{},{right:M+24})},s()(l)&&l>0&&(r=!!A,o=i.a.createElement("div",{className:f()((t={},S(t,h,!0),S(t,g,r),S(t,b,l>99),t))},l>99?"99+":l),r?i.a.createElement(a.a,{placement:"topRight",trigger:"hover",overlayClassName:N,content:A},o):o),P&&i.a.createElement("div",{className:E},P()),!!m&&i.a.createElement(d.b,{className:v,name:m,width:w||20}),!!j&&i.a.createElement("p",{className:_},j)))};N.propTypes={iconName:c.a.string.isRequired,iconSize:c.a.number,count:c.a.number,style:c.a.object,onClick:c.a.func,countPopoverContent:c.a.element,countPopoverClassName:c.a.string,renderBadge:c.a.func,tooltipText:c.a.string,btnWord:c.a.string};t.a=N},4057:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return l}));var n=r(0),a={toggleLikeRef:{current:function(){}}},o=Object(n.createContext)(a);function i(e){return React.createElement(o.Provider,{value:a},e.children)}function l(){return Object(n.useContext)(o)}},4076:function(e,t,r){"use strict";r.r(t);r(71);var n=r(31),a=(r(151),r(66)),o=(r(258),r(135)),i=r(0),l=r.n(i),c=r(2),u=r.n(c),s=r(469),m=r(5),f=r.n(m),d=r(3768),p=r.n(d),y=r(52),h=r(1859),b=r(45),g=r(108),v=r(491),_=r.n(v),E=r(490),w=r(1400),A=r(1401),O=r(302),S=r(3990),N=r(89),P=r.n(N),T=r(51),j=r(951);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===M(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B=function(e,t){var r,n=t.type,a=t.payload,o={};switch(["clickButton","resetButton"].includes(n)&&(e.active?(o.count=Math.max(e.count-1,0),o.users=e.users.filter((function(e){var t;return e.id!==(null===(t=a.me)||void 0===t?void 0:t.id)})),o.active=!e.active):e.users.some((function(e){var t;return e.id===(null===(t=a.me)||void 0===t?void 0:t.id)}))||(o.count=e.count+1,o.users=x(e.users),a.me&&o.users.unshift(a.me),o.active=!e.active)),n){case"fetchLikeList":return k(k({},e),{},{loading:!0});case"updateLikeList":return r=0===a.page?a.data:[].concat(x(e.users),x(a.data)),k(k({},e),{},{users:r,loading:!1,hasMore:a.meta&&a.meta.hasMore,count:Math.max(e.count,r.length)});case"hoverButton":return k(k({},e),{},{hover:!0});case"unhoverButton":return k(k({},e),{},{hover:!1});case"clickButton":return k(k(k({},e),o),{},{noAnimate:!1,submitting:!0,hover:!1});case"resetButton":return k(k(k({},e),o),{},{noAnimate:!0,submitting:!1});case"clickSuccess":return k(k({},e),{},{submitting:!1});case"updateActive":return k(k({},e),{},{active:a.active});default:throw Error()}},Y=function(e){var t=e.likeStatus,r=e.doc,n=e.dispatch,a=e.me,o=e.type,l=e.targetId,c=e.likeCount,u=e.scene,s=C(Object(i.useReducer)(B,{hover:!1,submitting:!1,noAnimate:!0,users:[],loading:!1,hasMore:!1,active:!!t,count:c}),2),m=s[0],f=s[1],d=m.hover,p=m.submitting,y=m.noAnimate,h=m.users,b=m.loading,g=m.hasMore,v=m.active,_=m.count,E=C(Object(i.useState)(0),2),w=E[0],A=E[1],O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;f({type:"fetchLikeList"}),T.a.actions.users({action_type:"like",target_type:o,target_id:l,limit:e,offset:w*e},{useOriginResp:!0,ignoreGlobalMessage:!0}).then((function(e){f({type:"updateLikeList",payload:{page:w,data:e.data,meta:e.meta}})}))},S=function(e){"single"!==u&&(A(0),O(e))};return Object(j.a)((function(){"single"!==u&&O(13)}),[]),Object(i.useEffect)((function(){f({type:"updateActive",payload:{active:P()(r,"like.actioned")}})}),[P()(r,"like.actioned")]),Object(i.useEffect)((function(){f({type:"updateActive",payload:{active:!!t}})}),[t]),{hover:d,active:v,noAnimate:y,loading:b,users:h,hasMore:g,count:_,toggleLike:function(){if(!p){f({type:"clickButton",payload:{me:a}});var e={action_type:"like",target_type:o,target_id:l};T.a.actions[v?"destroy":"create"](e).then((function(e){S(13),f({type:"clickSuccess"}),"single"!==u&&(window.yqWebApp?window.yqWebApp.updateDocLikes():n({type:"doc/updateLikes",payload:{active:e}}))})).catch((function(){f({type:"resetButton",payload:{me:a}})}))}},hoverBtn:function(){f({type:"hoverButton"})},unHoverBtn:function(){f({type:"unhoverButton"})},reload:S,loadMore:function(){A((function(e){return e+1})),O()}}},z=r(4057),U=r(4139);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(this,arguments)}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){Q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==F(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===F(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var K=function(e){var t,r=e.type,c=e.targetId,u=e.simplify,s=e.size,m=e.bubblePopover,d=e.likeStatus,v=e.doc,O=e.dispatch,N=e.me,P=e.likeCount,T=e.scene,j=Y({likeStatus:d,doc:v,dispatch:O,me:N,type:r,targetId:c,likeCount:P,scene:T}),M=j.hover,C=j.noAnimate,I=j.active,k=j.loading,L=j.hasMore,x=j.count,R=j.users,D=j.toggleLike,B=j.hoverBtn,F=j.unHoverBtn,W=j.reload,V=j.loadMore;Object(z.b)().toggleLikeRef.current=D;var K=H(Object(i.useState)(!1),2),Z=K[0],J=K[1],X="bubble"===s,$="mini"===s,ee="defaultWithBubble"===s,te=$?24:32,re=R.filter((function(e){return e.id===(null==N?void 0:N.id)||![y.STATUS.banned,y.STATUS.blocked].includes(e.status)})),ne=re&&re.slice(0,13),ae=re.length>13||L,oe=f()(U.a.larkLikeBtn,(Q(t={},U.a.larkLikeBtnActive,I),Q(t,U.a.larkLikeBtnShake,M&&!I),Q(t,U.a.larkLikeBtnNoAnimate,C),t)),ie=function(){var t={};return m&&R&&R.length>0&&(t.countPopoverClassName=U.a.likePopover,t.countPopoverContent=l.a.createElement("div",{className:U.a.popoverUserContainer},l.a.createElement(p.a,{pageStart:0,loadMore:V,hasMore:!k&&L,threshold:100,useWindow:!1},l.a.createElement("div",{className:U.a.popoverUserList},R.map((function(e){return l.a.createElement("a",{className:U.a.popoverUserItem,key:e.id,href:"/".concat(e.login),target:"_blank"},l.a.createElement(E.a,{className:U.a.popoverUserItemAvatar,src:e.avatar_url,size:24,name:e.name}),l.a.createElement("div",{className:U.a.popoverUserItemName},e.name))}))),k&&L&&l.a.createElement(o.a,{justify:"block"})))),l.a.createElement(S.a,q({iconName:I?"like-bubble-active":"like-bubble",style:G({bottom:"140px"},e.bubbleStyle),count:x,onClick:_()((function(){D(),Object(g.spmClick)("d348445")}),300)},t))};return X?ie():u||$?l.a.createElement("div",{className:f()(U.a.simplifyLike,Q({},U.a.isMini,$)),onClick:_()(D,300)},I?l.a.createElement(b.b,{name:"like-small-after",width:te,height:te}):l.a.createElement(b.b,{name:"like-small-before",width:te,height:te}),$&&l.a.createElement("span",{className:U.a.text},x)):l.a.createElement(A.a,{tooltipPlacement:"top"},l.a.createElement("div",{className:U.a.larkLike},l.a.createElement("div",{className:oe,onMouseEnter:function(){B()},onMouseLeave:function(){F()},onClick:function(){D(),Object(g.spmClick)("d348445")},"data-testid":"like-btn"},l.a.createElement("span",{className:U.a.larkLikeIcon})),x?l.a.createElement("p",{className:U.a.larkLikeCount,"data-testid":"like-count-desc"},__("{count} 人点赞",{count:x})):l.a.createElement("p",{className:U.a.larkLikeDocTip},l.a.createElement("span",null,__("若有收获，就点个赞吧"))),!!ne.length&&l.a.createElement("ul",{className:f()(U.a.userList,U.a.readerUserList)},ne.map((function(e){return l.a.createElement("li",{key:e.id},l.a.createElement(w.a,{user:e},l.a.createElement(E.a,{src:e.avatar_url,size:"sm",name:e.name})))})),ae&&l.a.createElement(a.a,{placement:"bottom",title:__("查看所有点赞用户")},l.a.createElement("li",{className:U.a.showLikeList,onClick:function(){J(!0),W()}},l.a.createElement(h.default,null)))),Z&&l.a.createElement(n.a,{className:U.a.modal,footer:null,visible:Z,onCancel:function(){J((function(e){return!e}))}},l.a.createElement("img",{className:U.a.modalContentIcon,src:"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*M-nVTIujAMsAAAAAAAAAAAAAARQnAQ"}),l.a.createElement("p",{className:U.a.modalContentCount},__("{count} 人点赞",{count:x})),l.a.createElement("div",{className:U.a.userListWrapper},re.length>0&&l.a.createElement(p.a,{pageStart:0,loadMore:V,hasMore:!k&&L,threshold:100,useWindow:!1},l.a.createElement("ul",{className:U.a.userList},re.map((function(e){return l.a.createElement("li",{key:e.id},l.a.createElement(w.a,{user:e},l.a.createElement(E.a,{src:e.avatar_url,size:"sm",name:e.name})))}))),k&&L&&l.a.createElement(o.a,{justify:"block"})))),ee&&ie()))};K.defaultProps={size:"default",bubbleStyle:{}},K.propTypes={dispatch:u.a.func,type:u.a.oneOf(["Book","Doc"]),targetId:u.a.number.isRequired,doc:u.a.object,me:u.a.object,simplify:u.a.bool,likeStatus:u.a.object,likeCount:u.a.number,size:u.a.oneOf(["default","mini","bubble","defaultWithBubble"]),withCornerBubble:u.a.bool,bubblePopover:u.a.bool,bubbleStyle:u.a.object,scene:u.a.oneOf(["single"])};t.default=Object(O.b)(Object(s.d)((function(e){return{doc:e.doc,me:e.me}}))(K))},4139:function(e,t,r){"use strict";t.a={simplifyLike:"like-module_simplifyLike_GZF9s",text:"like-module_text_mdOB6",larkLike:"like-module_larkLike_zeNuZ",larkLikeIcon:"like-module_larkLikeIcon_5ZWgd",larkLikeBtnActive:"like-module_larkLikeBtnActive_5GFT6",like:"like-module_like_ywZuk",larkLikeBtn:"like-module_larkLikeBtn_uHsxq",larkLikeBtnNoAnimate:"like-module_larkLikeBtnNoAnimate_ugzKL",larkLikeBtnShake:"like-module_larkLikeBtnShake_0G6vd",shake:"like-module_shake_0jtRf",larkLikeCount:"like-module_larkLikeCount_eLa4m",larkLikeDocTip:"like-module_larkLikeDocTip_+Obkt",userListWrapper:"like-module_userListWrapper_Y79Yc",userList:"like-module_userList_SKTTT",showLikeList:"like-module_showLikeList_TUchs",readerUserList:"like-module_readerUserList_hfxMS",modal:"like-module_modal_kOEJe",sum:"like-module_sum_fSlWD",sumTip:"like-module_sumTip_VbrM1",sumIcon:"like-module_sumIcon_jnfi2",sumCount:"like-module_sumCount_AljHR",isMini:"like-module_isMini_LHe3B",modalContentIcon:"like-module_modalContentIcon_K+o1v",modalContentCount:"like-module_modalContentCount_6ku9X",likePopover:"like-module_likePopover_yBbcz",popoverUserContainer:"like-module_popoverUserContainer_FwwqR",popoverUserList:"like-module_popoverUserList_ZjVm8",popoverUserItem:"like-module_popoverUserItem_Hf89G",popoverUserItemAvatar:"like-module_popoverUserItemAvatar_Xvk9i",popoverUserItemName:"like-module_popoverUserItemName_aIDSI"}},465:function(e,t,r){"use strict";var n=r(4),a=r(0),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},i=r(19),l=function(e,t){return a.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:o}))};l.displayName="DownOutlined";t.a=a.forwardRef(l)},490:function(e,t,r){"use strict";var n=r(952);r.d(t,"a",(function(){return n.a}))},555:function(e,t,r){"use strict";r(42);var n=r(9),a=(r(131),r(43)),o=(r(142),r(28)),i=(r(187),r(48)),l=(r(56),r(12)),c=r(0),u=r.n(c),s=r(2),m=r.n(s),f=r(704);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===d(o)?o:String(o)),n)}var a,o}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var a=b(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(m,e);var t,r,c,s=h(m);function m(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),t=s.call(this,e);var r=void 0===e.isFinished||!e.isFinished;return t.state={editing:r,btnLoading:!1},t}return t=m,(r=[{key:"render",value:function(){var e=this,t=this.props.form,r=t.getFieldDecorator,c=t.validateFields,s=t.resetFields,m=this.props,d=m.handleClickReceiptConfirm,p=m.handleApplyReceiptCancel,y=m.handleReceiptChange,h=m.data,b=m.isFinished,g=m.submitButtonText,v=h||{},_=this.state,E=_.editing,w=_.btnLoading;return u.a.createElement(i.a,{layout:"vertical"},u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24},u.a.createElement(i.a.Item,{label:__("发票抬头")},r("title",{initialValue:v.title,rules:[{required:!0,message:__("请填写发票抬头")}]})(u.a.createElement(l.a,{disabled:!E,placeholder:__("请填写发票抬头")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:11},u.a.createElement(i.a.Item,{label:__("税号")},r("tax_no",{initialValue:v.tax_no,rules:[{required:!0,message:__("请填写税号")},{validator:function(e,t,r){if(t&&t.length>32)return r("不能超过 32 个字符");r()}}]})(u.a.createElement(l.a,{disabled:!E,placeholder:__("请填写税号")})))),u.a.createElement(o.a,{push:2,span:11},u.a.createElement(i.a.Item,{label:__("公司注册电话")},r("telephone",{initialValue:v.telephone,rules:[{required:!0,message:__("请填写公司注册电话")},{validator:function(e,t,r){if(t&&t.length>32)return r("不能超过 32 个字符");r()}}]})(u.a.createElement(l.a,{disabled:!E,placeholder:__("请填写公司注册电话")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:11},u.a.createElement(i.a.Item,{label:__("开户行")},r("bank_name",{initialValue:v.bank_name,rules:[{required:!0,message:__("请填写开户行")},{validator:function(e,t,r){if(t&&t.length>42)return r("不能超过 42 个字符");r()}}]})(u.a.createElement(l.a,{disabled:!E,placeholder:__("请填写开户行")})))),u.a.createElement(o.a,{push:2,span:11},u.a.createElement(i.a.Item,{label:__("银行账户")},r("bank_account",{initialValue:v.bank_account,rules:[{required:!0,message:__("请填写银行账户")},{validator:function(e,t,r){if(t&&t.length>64)return r("不能超过 64 个字符");r()}}]})(u.a.createElement(l.a,{disabled:!E,placeholder:__("请填写银行账户")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24},u.a.createElement(i.a.Item,{label:__("公司注册地址")},r("address",{initialValue:v.address,rules:[{required:!0,message:__("请填写公司注册地址")},{validator:function(e,t,r){if(t&&t.length>170)return r("不能超过 170 个字符");r()}}]})(u.a.createElement(l.a,{disabled:!E,placeholder:__("请填写公司注册地址")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24,className:f.a.contactInfoTitle})),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:11},u.a.createElement(i.a.Item,{label:__("收件人")},r("contact_name",{initialValue:v.contact_name,rules:[{required:!0,message:__("请填写收件人姓名")}]})(u.a.createElement(l.a,{disabled:!E,placeholder:__("请填写收件人姓名")})))),u.a.createElement(o.a,{push:2,span:11},u.a.createElement(i.a.Item,{label:__("收件人电话")},r("contact_telephone",{initialValue:v.contact_telephone,rules:[{required:!0,message:__("请填写收件人电话")}]})(u.a.createElement(l.a,{disabled:!E,placeholder:__("请填写收件人电话")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24},u.a.createElement(i.a.Item,{label:__("快递地址")},r("detail_address",{initialValue:v.detail_address,rules:[{required:!0,message:__("请填写快递地址")}]})(u.a.createElement(l.a,{disabled:!E,placeholder:__("请填写快递地址")}))))),!b&&u.a.createElement(a.a,{className:f.a.receiptButtons},u.a.createElement(o.a,{span:24},u.a.createElement(n.a,{type:"primary",onClick:function(){return function(){if(!E)return e.setState({btnLoading:!0}),d(e.props,"special"),void e.setState({btnLoading:!1});c((function(t){t?e.setState({btnLoading:!1}):(y(!1),e.setState({editing:!1,btnLoading:!1}))}))}()},loading:w},E?__("下一步"):g||__("确认开票")),u.a.createElement(n.a,{className:f.a.cancelButton,onClick:function(){return function(){if(E)return p(),void s();y(!0),e.setState({editing:!0})}()}},E?__("取消"):__("返回修改")))))}}])&&p(t.prototype,r),c&&p(t,c),Object.defineProperty(t,"prototype",{writable:!1}),m}(u.a.PureComponent);g.propTypes={handleClickReceiptConfirm:m.a.func.isRequired,handleApplyReceiptCancel:m.a.func.isRequired,handleReceiptChange:m.a.func.isRequired,form:m.a.object.isRequired,data:m.a.object,isFinished:m.a.bool,submitButtonText:m.a.string},t.a=g},556:function(e,t,r){"use strict";r(42);var n=r(9),a=(r(131),r(43)),o=(r(142),r(28)),i=(r(187),r(48)),l=(r(56),r(12)),c=r(0),u=r.n(c),s=r(2),m=r.n(s),f=r(704);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===d(o)?o:String(o)),n)}var a,o}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var a=b(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(m,e);var t,r,c,s=h(m);function m(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),t=s.call(this,e);var r=void 0===e.isFinished||!e.isFinished;return t.state={editing:r,btnLoading:!1},t}return t=m,(r=[{key:"render",value:function(){var e=this,t=this.props.form,r=t.getFieldDecorator,c=t.validateFields,s=t.resetFields,m=this.props,d=m.handleClickReceiptConfirm,p=m.handleApplyReceiptCancel,y=m.handleReceiptChange,h=m.data,b=m.isFinished,g=m.submitButtonText,v=m.isOrganization,_=h||{},E=this.state,w=E.editing,A=E.btnLoading;return u.a.createElement(i.a,{layout:"vertical"},u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24},u.a.createElement(i.a.Item,{label:__("发票抬头")},r("title",{initialValue:_.title,rules:[{required:!0,message:__("请填写发票抬头")}]})(u.a.createElement(l.a,{disabled:!w,placeholder:__("请填写发票抬头")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24},u.a.createElement(i.a.Item,{label:v?__("税号"):__("税号(选填)")},r("tax_no",{initialValue:_.tax_no,rules:[{required:!!v,message:__("请填写税号")},{validator:function(e,t,r){if(t&&t.length>32)return r("不能超过 32 个字符");r()}}]})(u.a.createElement(l.a,{disabled:!w,placeholder:__("请填写税号")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24,className:f.a.contactInfoTitle})),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:11},u.a.createElement(i.a.Item,{label:__("收件人")},r("contact_name",{initialValue:_.contact_name,rules:[{required:!0,message:__("请填写收件人姓名")}]})(u.a.createElement(l.a,{disabled:!w,placeholder:__("请填写收件人姓名")})))),u.a.createElement(o.a,{push:2,span:11},u.a.createElement(i.a.Item,{label:__("收件人电话")},r("contact_telephone",{initialValue:_.contact_telephone,rules:[{required:!0,message:__("请填写收件人电话")}]})(u.a.createElement(l.a,{disabled:!w,placeholder:__("请填写收件人电话")}))))),u.a.createElement(a.a,null,u.a.createElement(o.a,{span:24},u.a.createElement(i.a.Item,{label:__("邮箱")},r("detail_address",{initialValue:_.detail_address,rules:[{required:!0,type:"email",message:__("请填写正确的邮箱地址")}]})(u.a.createElement(l.a,{disabled:!w,placeholder:__("请填写邮箱")}))))),!b&&u.a.createElement(a.a,{className:f.a.receiptButtons},u.a.createElement(o.a,{span:24},u.a.createElement(n.a,{type:"primary",onClick:function(){return function(){if(!w)return e.setState({btnLoading:!0}),d(e.props),void e.setState({btnLoading:!1});c((function(t){t?e.setState({btnLoading:!1}):(y(!1),e.setState({editing:!1,btnLoading:!1}))}))}()},loading:A},w?__("下一步"):g||__("确认开票")),u.a.createElement(n.a,{className:f.a.cancelButton,onClick:function(){return function(){if(w)return p(),void s();y(!0),e.setState({editing:!0})}()}},w?__("取消"):__("返回修改")))))}}])&&p(t.prototype,r),c&&p(t,c),Object.defineProperty(t,"prototype",{writable:!1}),m}(u.a.PureComponent);g.propTypes={handleClickReceiptConfirm:m.a.func.isRequired,handleApplyReceiptCancel:m.a.func.isRequired,handleReceiptChange:m.a.func.isRequired,form:m.a.object.isRequired,data:m.a.object,isFinished:m.a.bool,submitButtonText:m.a.string,isOrganization:m.a.bool},t.a=g},579:function(e,t,r){"use strict";r.d(t,"d",(function(){return p})),r.d(t,"c",(function(){return h})),r.d(t,"e",(function(){return b})),r.d(t,"b",(function(){return y})),r.d(t,"a",(function(){return d}));var n=r(0),a=r.n(n),o=r(2),i=r.n(o),l=(r(5),r(45)),c=r(57),u=r(952),s=(r(315),r(424));function m(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e){var t,r,n=e.organization,o=e.department,i=e.className,l=null!=n&&n.id?[n.name]:[];null!=o&&null!==(t=o.dept_full_path)&&void 0!==t&&t.length&&(l=[].concat(m(l),m(null==o||null===(r=o.dept_full_path)||void 0===r?void 0:r.map((function(e){return e.name})))));var c=l.join(" - ");return a.a.createElement("span",{title:c,className:i},c)}function p(e){var t=e.organization,r=e.suffix,n=e.className;return a.a.createElement("span",{title:t.name,className:n},t.name," ",r)}function y(e){var t=e.organization;e.className;return a.a.createElement("a",{href:t.host,title:t.name},t.name)}function h(e){var t=e.src,r=e.size,n=e.radius,o=e.name,i=e.className,c=e.organization,s=t||(null==c?void 0:c.logo);return s?a.a.createElement(u.a,{src:s,size:r,radius:n||4,name:o,className:i}):a.a.createElement(l.b,{name:"icon-organization",width:r,radius:n||4,className:i})}function b(e){var t,r,n,o=e.className,i=e.organization,u=(t="en-us"===Object(s.b)(),r=c.a.isPro(i),n=c.a.isEnterprise(i),r?t?"icon-spacepayment-en":"spacepayment-pro":n?t?"en-spacepayment-business":"spacepayment-business":null);return u?a.a.createElement(l.b,{name:u,width:48,height:16,className:o}):null}d.propTypes={organization:i.a.any,department:i.a.any,className:i.a.string},p.propTypes={organization:i.a.object.isRequired,suffix:i.a.node,className:i.a.string},y.propTypes={organization:i.a.object.isRequired,className:i.a.string},h.propTypes={src:i.a.string,name:i.a.string,radius:i.a.oneOfType([i.a.string,i.a.number]),size:i.a.oneOfType([i.a.string,i.a.node]),className:i.a.string,organization:i.a.object},b.propTypes={className:i.a.string,organization:i.a.object},i.a.array.isRequired,i.a.string.isRequired,i.a.string,i.a.bool},64:function(e,t,r){"use strict";r(2912);var n=r(1230);r(176);t.a=n.a},697:function(e,t,r){"use strict";r(41);var n=r(10),a=r(0),o=r.n(a),i=r(2),l=r.n(i),c=r(23),u=r(57),s=(r(71),r(31)),m=r(5),f=r.n(m),d=r(108),p=r(32),y=(r(552),r(186)),h=(r(151),r(66)),b=(r(42),r(9)),g=(r(56),r(12)),v=(r(209),r(34)),_=r(14),E=r.n(_),w=r(1201),A=r.n(w),O=r(469),S=r(1378),N=r.n(S),P=r(61),T=r.n(P),j=r(45),M=r(789),C=r(51),I=(r(303),r(94)),k="index-module_right_3Ce8Y",L="index-module_detailsWrapper_rnkfa",x="index-module_detailTitle_-gjun",R="index-module_details_E5fEt",D="index-module_detailRow_e7YNK",B="index-module_summary_TYNAM",Y="index-module_left_m83qX",z="index-module_summaryTitle_FTeFf",U="index-module_price_5CyQB",F="index-module_divider_Rppou",q=function(e){var t=e.totalAmount,r=e.discountAmount,n=e.details;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:L},o.a.createElement("div",{className:x},__("费用明细")),o.a.createElement("div",{className:R},(null==n?void 0:n.length)>0&&n.map((function(e){return o.a.createElement("div",{className:D},o.a.createElement("span",null,null==e?void 0:e.label),o.a.createElement("span",null,null==e?void 0:e.price))}))),o.a.createElement(I.a,{className:F}),o.a.createElement("div",{className:B},o.a.createElement("div",{className:Y},o.a.createElement("div",{className:z},__("总计")),o.a.createElement("span",{style:{fontSize:"14px"}},__("支持电子发票或专用发票开具"))),o.a.createElement("div",{className:k},o.a.createElement("span",{className:U},"¥",r||t)))))};q.propTypes={totalAmount:l.a.number,discountAmount:l.a.number,details:l.a.number};var W=q,G=(r(131),r(43)),Q=(r(142),r(28)),H=r(423),V=r(791),K={paymentSelector:"index-module_paymentSelector_60wvq",paymentItem:"index-module_paymentItem_86B2e",header:"index-module_header_KM0S4",title:"index-module_title_87CwY",icon:"index-module_icon_sjp+e",paymentType:"index-module_paymentType_rBxoj",price:"index-module_price_n7XGL",priceNumber:"index-module_priceNumber_6EuVJ",priceUnit:"index-module_priceUnit_xqqPQ",oldMemberPrice:"index-module_oldMemberPrice_4QJhr",desc:"index-module_desc_5wzpx",active:"index-module_active_HZTq5",disable:"index-module_disable_+DYkl",tooltip:"index-module_tooltip_lMvUZ"};function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function J(e,t,r){return t=function(e){var t=function(e,t){if("object"!==Z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Z(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}E.a.extend(A.a);var ee=Object(O.d)((function(e){return e}))((function(e){var t,r,n=e.className,i=e.actionType,l=e.paymentType,u=e.onPaymentChange,s=e.organization,m=i===c.PAY_MODAL_ACTION.upgrade,d=i===c.PAY_MODAL_ACTION.trial,p=i===c.PAY_MODAL_ACTION.renew,y=V.a.isExpired(s),b=window.appData.organization.memberPrice,g=(r=V.a.isFree(s)?null:s.payment_type,d?r?[r]:[c.PAYMENT_TYPE.pro,c.PAYMENT_TYPE.enterprise]:m?[c.PAYMENT_TYPE.enterprise]:[c.PAYMENT_TYPE.pro,c.PAYMENT_TYPE.enterprise]),v=X(Object(a.useState)(l),2),_=v[0],w=v[1],A=function(e){var t=Math.max(E()(s.expired_at).diff(Date.now(),"day"),1)<=P.MAX_ORG_ALLOW_DOWNGRADE_DAYS;return e===c.PAYMENT_TYPE.pro&&!t&&p&&V.a.isEnterprise(s)},O=(J(t={},c.PAY_MODAL_ACTION.trial,__("选择适合你的空间版本")),J(t,c.PAY_MODAL_ACTION.buy,__("选择适合你的空间版本")),J(t,c.PAY_MODAL_ACTION.upgrade,__("版本升级")),J(t,c.PAY_MODAL_ACTION.renew,__("当前为{payment}，{memberCount}人，有效期至 {expiredAt}",{payment:V.a.PAYMENT_MAP[s.payment_type],memberCount:s.max_member,expiredAt:E()(s.expired_at).format("YYYY-MM-DD")})),t);return o.a.createElement("div",{className:f()(K.paymentSelector,n)},o.a.createElement("h4",null,y?O[c.PAY_MODAL_ACTION.buy]:O[i]),o.a.createElement(G.a,{className:K.paymentList,gutter:[8,0]},g.map((function(e,t){var r=P.ORG_AMOUNT_MAP[e],n=A(e),a=(null==s?void 0:s.trialStatus)===H.TRIAL_STATUS.on,i=V.a.isPremium(s),l=e===c.PAYMENT_TYPE.enterprise&&i&&!a?b:0,m=o.a.createElement("div",{className:f()(K.paymentItem,J({},K.active,e===_),J({},K.disable,n)),onClick:function(){return function(e){A(e)||(w(e),null==u||u(e))}(e)}},o.a.createElement("div",{className:K.header},o.a.createElement("div",{className:K.title},o.a.createElement(j.b,{name:r.icon,size:18}),o.a.createElement("span",{className:K.paymentType},V.a.PAYMENT_MAP[e])),o.a.createElement("div",{className:K.price},o.a.createElement("span",{className:K.priceNumber},"¥",l>0?l:r.price),o.a.createElement("span",{className:K.priceUnit},__("/人/年")))),l>0&&o.a.createElement("span",{className:K.oldMemberPrice},r.price,__("/人/年")));return o.a.createElement(Q.a,{span:24/g.length,key:t},n?o.a.createElement(h.a,{title:o.a.createElement("div",{className:K.tooltip},o.a.createElement("span",null,__("旗舰版到期前 30 天开放选择")),o.a.createElement("a",{href:"https://www.yuque.com/yuque/ng1qth/member-privilege#p5KMh"},__("查看帮助"))),overlayInnerStyle:{display:"inline-block"}},m):m)}))))})),te={row:"BuyModal-module_row_k9bGD",left:"BuyModal-module_left_U5aM7",right:"BuyModal-module_right_-+dqF",payModal:"BuyModal-module_payModal_RkJau",channel:"BuyModal-module_channel_aD1hq",payBtn:"BuyModal-module_payBtn_JujzZ",promoCode:"BuyModal-module_promoCode_IT7ha",tips:"BuyModal-module_tips_fuHYC",pricingContainer:"BuyModal-module_pricingContainer_tqVEA",pro:"BuyModal-module_pro_J6mfJ",enterprise:"BuyModal-module_enterprise_KQPTt",pricingLeft:"BuyModal-module_pricingLeft_X4ns6",payment:"BuyModal-module_payment_jheFG",icon:"BuyModal-module_icon_UPf-t",paymentDesc:"BuyModal-module_paymentDesc_7e1Uv",paymentCaption:"BuyModal-module_paymentCaption_sAndL",benefitItem:"BuyModal-module_benefitItem_4iuZe",iconWarpper:"BuyModal-module_iconWarpper_j2vhb",title:"BuyModal-module_title_aoygt",desc:"BuyModal-module_desc_nWmKR",pricingRight:"BuyModal-module_pricingRight_p54lJ",avatar:"BuyModal-module_avatar_SRhTt",termsContainer:"BuyModal-module_termsContainer_i187T",statsWrapper:"BuyModal-module_statsWrapper_ZDvF1",statsDesc:"BuyModal-module_statsDesc_1iKOA",compact:"BuyModal-module_compact_qVAW5",active:"BuyModal-module_active_SC0g+",settle:"BuyModal-module_settle_6sm-p",name:"BuyModal-module_name_bL3Ia",memberSizeInput:"BuyModal-module_memberSizeInput_xIYHO",errorMsg:"BuyModal-module_errorMsg_ZbqFE",footer:"BuyModal-module_footer_eF3uw"};function re(){return o.a.createElement("span",null,__("正在准备账户信息，请5分钟后再尝试，如一直未成功，请"),o.a.createElement("a",{href:"/feedbacks/new",target:"_blank"},__("联系语雀")),__("进行处理。"))}function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function ae(e,t,r){return t=function(e){var t=function(e,t){if("object"!==ne(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ne(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oe(){oe=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),l=new M(n||[]);return a(i,"_invoke",{value:N(e,r,l)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",d="suspendedYield",p="executing",y="completed",h={};function b(){}function g(){}function v(){}var _={};u(_,i,(function(){return this}));var E=Object.getPrototypeOf,w=E&&E(E(C([])));w&&w!==r&&n.call(w,i)&&(_=w);var A=v.prototype=b.prototype=Object.create(_);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(a,o,i,l){var c=m(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==ne(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function N(t,r,n){var a=f;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=P(l,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var u=m(t,r,n);if("normal"===u.type){if(a=n.done?y:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=y,n.method="throw",n.arg=u.arg)}}}function P(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=m(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,h;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(ne(t)+" is not iterable")}return g.prototype=v,a(A,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:g,configurable:!0}),g.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new S(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(A),u(A,c,"Generator"),u(A,i,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return l.type="throw",l.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function ie(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function le(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ie(o,n,a,i,l,"next",e)}function l(e){ie(o,n,a,i,l,"throw",e)}i(void 0)}))}}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}E.a.extend(A.a);var se=v.a.Option,me=function(e){var t,r,i,l,s=e.targetLevel,m=e.actionType,d=e.buyLoading,_=e.handleSubmitBuy,w=e.subAccountInfo,A=e.organization,O=e.paySource,S=m===c.PAY_MODAL_ACTION.upgrade,T=m===c.PAY_MODAL_ACTION.trial,I=u.a.isExpired(A),k=window.appData.interest.usage.member_count,L=function(e,t){var r=window.appData.organization,n=c.PAYMENT_TYPE.pro,a=0;return e===c.PAY_MODAL_ACTION.buy&&(n=t||(r.payment_type===c.PAYMENT_TYPE.free?c.PAYMENT_TYPE.pro:r.payment_type),a=window.appData.interest.usage.member_count),e===c.PAY_MODAL_ACTION.upgrade&&(n=c.PAYMENT_TYPE.enterprise,a=r.max_member),e===c.PAY_MODAL_ACTION.renew&&(n=r.payment_type,a=r.max_member),e===c.PAY_MODAL_ACTION.trial&&(n=(u.a.isFree(r)?null:r.payment_type)||c.PAYMENT_TYPE.pro),{initOrgPayment:n,initMemberSize:a}}(m,s),x=L.initOrgPayment,R=L.initMemberSize,D=ce(Object(a.useState)(x),2),B=D[0],Y=D[1],z=ce(Object(a.useState)(P.PAYMENT_TYPE.normal),2),U=z[0],F=z[1],q=ce(Object(a.useState)(R),2),G=q[0],Q=q[1],H=ce(Object(a.useState)(R),2),V=H[0],K=H[1],Z=ce(Object(a.useState)(!1),2),J=Z[0],X=Z[1],$=ce(Object(a.useState)(1),2),ne=$[0],ie=$[1],ue=(r=A.expired_at,i=E()(r).diff(Date.now(),"day")||1,l=r&&i>=0?r:E()().endOf("day"),E()(l).add(ne,"year")),me=ce(Object(a.useState)(),2),fe=me[0],de=me[1],pe=ce(Object(a.useState)(),2),ye=pe[0],he=pe[1],be=ce(Object(a.useState)(),2),ge=be[0],ve=be[1],_e=ce(Object(a.useState)(!1),2),Ee=_e[0],we=_e[1],Ae=Object(a.useRef)(null),Oe=function(){Ee?J||_({memberSize:G,duration:ne,promoCode:ye,paymentType:U,packageType:B,orderType:I?c.PAY_MODAL_ACTION.buy:m}):n.a.info(__("需阅读并同意《语雀空间服务协议》后才能支付"))},Se=function(){var e=le(oe().mark((function e(){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ee){e.next=3;break}return n.a.info(__("需阅读并同意《语雀空间服务协议》后才能试用")),e.abrupt("return");case 3:if(!J){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,C.a.organizations.trial({id:A.id,trial_type:B},{ignoreGlobalMessage:!0});case 8:e.sent&&(window.location.search=""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),n.a.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),Ne=function(e){F(e)},Pe=function(e){var t="",r=e.target.value;if(!r)return Q("");if(/^[0-9]*$/g.test(r)){var n=Math.max(E()(A.expired_at).diff(Date.now(),"day"),1)<=P.MAX_ORG_ALLOW_DOWNGRADE_DAYS;r<k&&(t="购买人数应大于等于空间人数"),u.a.isEnterprise(A)&&!n&&r<A.max_member&&(t="旗舰版到期前 30 天可降级人数"),X(t||null),Q(Math.min(r,c.MAX_MEMBER_LIMIT)),t||K(Math.min(r,c.MAX_MEMBER_LIMIT))}},Te=Object(a.useCallback)(N()(function(){var e=le(oe().mark((function e(t){var r,a,o,i,l,c,u;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.actionType,a=t.orderPayment,o=t.orgPayment,i=t.duration,l=t.memberSize,c=t.validPromoCode,!(T||l<=0)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,C.a.pay.amount({order_type:r,payment_type:a,package_type:o,duration:i,member_size:l,promo_code:c});case 6:u=e.sent,ve(u),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n.a.warn(__("加载失败"));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),500),[]);Object(a.useEffect)((function(){Te({actionType:m,orderPayment:U,orgPayment:B,duration:ne,memberSize:V,validPromoCode:ye})}),[B,U,V,ne,ye]),Object(a.useEffect)((function(){Te({actionType:m,orderPayment:U,orgPayment:B,duration:ne,memberSize:V,validPromoCode:ye})}),[]);var je,Me,Ce;return o.a.createElement("div",{className:f()(te.pricingContainer,te.payModal,(t={},ae(t,te.pro,B===c.PAYMENT_TYPE.pro),ae(t,te.enterprise,B===c.PAYMENT_TYPE.enterprise),t)),"data-testid":"renew-package",ref:Ae},o.a.createElement("div",{className:te.pricingLeft},(je=B,Me=P.ORG_AMOUNT_MAP[je],Ce=u.a.PAYMENT_MAP[je],o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",{className:te.payment},Ce,__("空间"),o.a.createElement(j.b,{name:null==Me?void 0:Me.icon,className:te.icon,size:28})),o.a.createElement("div",{className:te.paymentDesc},Me.desc),o.a.createElement("a",{className:te.paymentCaption,href:"https://www.yuque.com/about/price",target:"_blank"},__("查看完整权益介绍"),o.a.createElement(j.b,{name:"arrow-right",size:16,className:te.icon})),o.a.createElement("ul",{className:te.benefitList},Me.introList.map((function(e,t){return o.a.createElement("li",{className:te.benefitItem,key:null==e?void 0:e.title},o.a.createElement("div",{className:te.iconWarpper},o.a.createElement(j.b,{className:te.icon,name:null==e?void 0:e.icon,size:24})),o.a.createElement("h4",{className:te.title},null==e?void 0:e.title),o.a.createElement("p",{className:te.desc},null==e?void 0:e.desc))})))))),o.a.createElement("div",{className:te.pricingRight},o.a.createElement(ee,{actionType:m,paymentType:B,onPaymentChange:function(e){return Y(e)}}),o.a.createElement("div",{className:te.row,style:{alignItems:"flex-start"}},S?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:te.left},o.a.createElement("div",null,__("空间人数"))),o.a.createElement("div",{className:te.right},o.a.createElement("div",null,__("{memberSize} 人",{memberSize:A.max_member})))):T?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:te.left},o.a.createElement("div",null,__("试用人数")),o.a.createElement("p",{className:te.tips},__("当前空间 {memberSize} 人",{memberSize:k}))),o.a.createElement("div",{className:te.right},o.a.createElement("div",null,__("{memberSize} 人",{memberSize:u.a.isFree(A)?c.TRAIL_MAX_MEMBER:A.max_member})))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:te.left},o.a.createElement("div",null,o.a.createElement("div",null,__("购买人数")),o.a.createElement("p",{className:te.tips},__("当前空间席位 {memberSize} 人",{memberSize:A.maxMember})))),o.a.createElement("div",{className:te.right},o.a.createElement("div",{className:te.memberSizeInput},o.a.createElement(g.a,{value:G,onChange:Pe,style:{width:100},suffix:__("人")}),J&&o.a.createElement("div",{className:te.errorMsg},J))))),T&&o.a.createElement("div",{className:te.row,style:{alignItems:"flex-start"}},o.a.createElement("div",{className:te.left},__("试用期限")),o.a.createElement("div",{className:te.right},__("可使用至 {date}",{date:E()().add(c.TRIAL_DAYS,"day").format("YYYY-MM-DD")}))),!T&&!S&&o.a.createElement("div",{className:te.row},o.a.createElement("div",{className:te.left},__("购买时长"),o.a.createElement("p",{className:te.tips},__("可使用至")," ",ue.format("YYYY-MM-DD"))),o.a.createElement("div",{className:te.right},o.a.createElement("div",{className:te.inputNumber},o.a.createElement(v.a,{className:te.select,defaultValue:1,value:ne,onChange:function(e){return ie(e)},style:{width:100}},[1,2,3].map((function(e){return o.a.createElement(se,{value:e,key:e},e,__("年"))})))))),!T&&o.a.createElement("div",{className:te.row},o.a.createElement("div",{className:te.left},__("支付方式")),o.a.createElement("div",{className:te.right},o.a.createElement(b.a,{className:f()(te.channel,ae({},te.active,U===P.PAYMENT_TYPE.normal)),onClick:function(){return Ne(P.PAYMENT_TYPE.normal)},icon:o.a.createElement(j.b,{name:"icon-zhi",size:16})},__("支付宝")),w?o.a.createElement(b.a,{className:f()(te.channel,te.settle,ae({},te.active,U===P.PAYMENT_TYPE.settle)),onClick:function(){return Ne(P.PAYMENT_TYPE.settle)},icon:o.a.createElement(j.b,{name:"icon-bank",size:16})},__("银行转账")):o.a.createElement(h.a,{title:o.a.createElement(re,null),placement:"top"},o.a.createElement(b.a,{className:f()(te.channel,te.settle),icon:o.a.createElement(j.b,{name:"icon-bank",size:16}),disabled:!0},__("银行转账"))))),!T&&!S&&o.a.createElement("div",{className:te.row},o.a.createElement("div",{className:te.left},__("优惠码#upper")),o.a.createElement("div",{className:te.right},o.a.createElement("div",{style:{width:172},className:te.promoCode},o.a.createElement(M.a,{value:fe,orderType:m,packageType:B,promoUsage:"organization",onChange:function(e){return de(e)},onVerifySuccess:function(e){return he(null==e?void 0:e.code)}})))),!T&&ge&&o.a.createElement(W,{totalAmount:ge.totalAmount,discountAmount:ge.discountAmount,details:ge.details}),o.a.createElement("div",{className:te.footer},T?o.a.createElement(b.a,{"data-testid":"buy-button",type:"primary",onClick:Se,className:te.payBtn},__("免费试用 15 天")):o.a.createElement(b.a,{"data-aspm-click":p.ORG_LIMIT_SPM.create_order,"data-aspm-param":"pay_source=".concat(O,"^org_id=").concat(null==A?void 0:A.id,"^org_payment_type=").concat(null==A?void 0:A.payment_type,"^"),"data-testid":"buy-button",type:"primary",loading:d,onClick:Oe,className:te.payBtn},d?__("购买中"):__("确认购买")),o.a.createElement("p",{className:te.termsContainer},o.a.createElement(y.a,{onChange:function(){return we(!Ee)},checked:Ee,"data-testid":"check-terms"},__("我已阅读并同意")),o.a.createElement("a",{target:"_blank",href:"/org-terms"},__("《语雀空间服务协议》"))))))};me.propTypes={actionType:l.a.number,buyLoading:l.a.bool,handleSubmitBuy:l.a.func,max_member:l.a.number,subAccountInfo:l.a.object,targetLevel:l.a.oneOf([c.PAYMENT_TYPE.pro,c.PAYMENT_TYPE.enterprise]),organization:l.a.object,paySource:l.a.string};var fe=Object(O.d)((function(e){return e}))(me),de={row:"BuyMember-module_row_9srYf",left:"BuyMember-module_left_kE3og",right:"BuyMember-module_right_Oni7O",payModal:"BuyMember-module_payModal_ID058",channel:"BuyMember-module_channel_oCioT",payBtn:"BuyMember-module_payBtn_2QBqR",promoCode:"BuyMember-module_promoCode_3q8my",tips:"BuyMember-module_tips_0MaeW",pricingContainer:"BuyMember-module_pricingContainer_oSImw",expiredDesc:"BuyMember-module_expiredDesc_kyKaA",active:"BuyMember-module_active_hyrgK"};function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function ye(e,t,r){return t=function(e){var t=function(e,t){if("object"!==pe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function he(){he=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),l=new M(n||[]);return a(i,"_invoke",{value:N(e,r,l)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",d="suspendedYield",p="executing",y="completed",h={};function b(){}function g(){}function v(){}var _={};u(_,i,(function(){return this}));var E=Object.getPrototypeOf,w=E&&E(E(C([])));w&&w!==r&&n.call(w,i)&&(_=w);var A=v.prototype=b.prototype=Object.create(_);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(a,o,i,l){var c=m(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==pe(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function N(t,r,n){var a=f;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=P(l,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var u=m(t,r,n);if("normal"===u.type){if(a=n.done?y:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=y,n.method="throw",n.arg=u.arg)}}}function P(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=m(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,h;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(pe(t)+" is not iterable")}return g.prototype=v,a(A,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:g,configurable:!0}),g.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new S(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(A),u(A,c,"Generator"),u(A,i,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return l.type="throw",l.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function be(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _e=function(e){var t,r=e.buyLoading,i=e.handleSubmitBuy,l=e.subAccountInfo,s=e.organization,m=e.paySource,d=c.ORDER_TYPE.buyMember,v=ge(Object(a.useState)(!1),2),_=v[0],w=v[1],A=ge(Object(a.useState)(1),2),O=A[0],S=A[1],N=Object(a.useRef)(null),T=ge(Object(a.useState)(P.PAYMENT_TYPE.normal),2),M=T[0],I=T[1],k=ge(Object(a.useState)(),2),L=k[0],x=k[1],R=(null==s?void 0:s.max_member)+Number(O),D=function(){var e,t=(e=he().mark((function e(){var t;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(O<=0)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,C.a.pay.amount({order_type:d,payment_type:M,package_type:s.payment_type,member_size:R});case 5:t=e.sent,x(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n.a.warn(__("加载失败"));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){be(o,n,a,i,l,"next",e)}function l(e){be(o,n,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){D()}),[O]),Object(a.useEffect)((function(){D()}),[]),o.a.createElement("div",{className:f()(de.pricingContainer,de.payModal),"data-testid":"buy-member-modal",ref:N},o.a.createElement("h2",null,__("人数扩容")),o.a.createElement("p",{className:de.expiredDesc},__("扩容后有效期至：{date}",{date:E()(null==s?void 0:s.expired_at).format("YYYY-MM-DD")})),o.a.createElement("div",{className:de.row},o.a.createElement("div",{className:de.left},__("当前版本")),o.a.createElement("div",{className:de.right},null===(t=u.a.PAYMENT_MAP)||void 0===t?void 0:t[null==s?void 0:s.payment_type])),o.a.createElement("div",{className:de.row},o.a.createElement("div",{className:de.left},o.a.createElement("div",null,o.a.createElement("div",null,__("增购人数")),o.a.createElement("p",{className:de.tips},__("已购空间席位 {memberSize} 人，购买后共 {newMemberSize} 人",{memberSize:s.maxMember,newMemberSize:R})))),o.a.createElement("div",{className:de.right},o.a.createElement("div",{className:de.memberSizeInput},o.a.createElement(g.a,{value:O,onChange:function(e){var t=e.target.value;if(!t)return S("");!/^[0-9]*$/g.test(t)||t<0||S(Math.min(t,c.MAX_MEMBER_LIMIT))},style:{width:100},suffix:__("人")})))),o.a.createElement("div",{className:de.row},o.a.createElement("div",{className:de.left},__("支付方式")),o.a.createElement("div",{className:de.right},o.a.createElement(b.a,{className:f()(de.channel,ye({},de.active,M===P.PAYMENT_TYPE.normal)),onClick:function(){return I(P.PAYMENT_TYPE.normal)},icon:o.a.createElement(j.b,{name:"icon-zhi",size:16})},__("支付宝")),l?o.a.createElement(b.a,{className:f()(de.channel,ye({},de.active,M===P.PAYMENT_TYPE.settle)),style:{marginLeft:"12px"},onClick:function(){return I(P.PAYMENT_TYPE.settle)},icon:o.a.createElement(j.b,{name:"icon-bank",size:16})},__("银行转账")):o.a.createElement(h.a,{title:o.a.createElement(re,null),placement:"top"},o.a.createElement(b.a,{className:de.channel,icon:o.a.createElement(j.b,{name:"icon-bank",size:16}),disabled:!0},__("银行转账"))))),L&&o.a.createElement(W,{totalAmount:L.totalAmount,discountAmount:L.discountAmount,details:L.details}),o.a.createElement("div",{className:de.footer},o.a.createElement(b.a,{"data-aspm-click":p.ORG_LIMIT_SPM.create_order,"data-aspm-param":"pay_source=".concat(m,"^org_id=").concat(null==s?void 0:s.id,"^org_payment_type=").concat(null==s?void 0:s.payment_type,"^"),"data-testid":"buy-button",type:"primary",loading:r,onClick:function(){_?O<=0||i({memberIntrement:O,paymentType:M,orderType:d}):n.a.info(__("需阅读并同意《语雀空间服务协议》后才能支付"))},className:de.payBtn},r?__("购买中"):__("确认升级")),o.a.createElement("p",{className:de.termsContainer},o.a.createElement(y.a,{onChange:function(){w(!_)},checked:_,"data-testid":"check-terms"},__("我已阅读并同意")),o.a.createElement("a",{target:"_blank",href:"/org-terms"},__("《语雀空间服务协议》")))))};_e.propTypes={buyLoading:l.a.bool,handleSubmitBuy:l.a.func,subAccountInfo:l.a.object,organization:l.a.object,paySource:l.a.string};var Ee=Object(O.d)((function(e){return e}))(_e),we=(r(163),r(37)),Ae=r(1421),Oe=r.n(Ae),Se=r(1211),Ne="Pay-module_left_u3-Jq",Pe="Pay-module_totalInfo_YM7Fb",Te="Pay-module_footer_MsuSK",je="Pay-module_termsContainer_MMlAf",Me="Pay-module_pricingContainer_hjkUd",Ce="Pay-module_desc_a1fXI",Ie="Pay-module_dashline_y-S0k",ke="Pay-module_inputNumber_Uaz26",Le="Pay-module_priceTag_ot6Kz",xe="Pay-module_hasDiscount_KLNoP",Re="Pay-module_discountPrice_HbCLz",De="Pay-module_discountPriceValue_CUsg2",Be="Pay-module_uploadPackages_VO59r",Ye="Pay-module_uploadPackageCard_6UXsL",ze="Pay-module_selectedUploadCard_yWd2Y",Ue="Pay-module_uploadSize_WpwBc",Fe="Pay-module_uploadPackagePrice_zQPrm",qe="Pay-module_promo_sD6ap";function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qe=function(e){var t=e.buyLoading,r=e.handleSubmitBuy,i=e.promoCode,l=e.setPromoCode,u=e.handlePaymentTypeChange,s=e.subAccountInfo,m=We(Object(a.useState)(!1),2),f=m[0],d=m[1],p=We(Object(a.useState)(!1),2),g=p[0],v=p[1],_=We(Object(a.useState)(P.ORG_UPLOAD_SIZE_MAP["100G"].value),2),E=_[0],w=_[1],A=Oe()({order_type:c.ORDER_TYPE.data,upload_size:E}),O=Object(Se.a)({totalAmount:A,setPromoCode:l}),S=O.totalAmountWithPromo,N=O.onVerifySuccess,T=O.handlePromoChange,C=window.appData.organization,I=void 0===C?{}:C;return o.a.createElement("div",{className:Me,"data-testid":"buy-upload"},o.a.createElement("div",{className:Ce},__("流量购买后对{orgName}空间账户长期有效",{orgName:I.name})),o.a.createElement("h3",null,__("流量包")),o.a.createElement("div",{className:Be},Object.keys(P.ORG_UPLOAD_SIZE_MAP).map((function(e){return o.a.createElement("div",{key:P.ORG_UPLOAD_SIZE_MAP[e].value,className:"".concat(Ye," ").concat(E===P.ORG_UPLOAD_SIZE_MAP[e].value?ze:""),onClick:function(){return w(P.ORG_UPLOAD_SIZE_MAP[e].value)}},o.a.createElement("div",{className:Ue},e),o.a.createElement("div",{className:Fe},P.ORG_UPLOAD_SIZE_MAP[e].price," ",__("元")))}))),o.a.createElement("h3",null,__("支付方式")),o.a.createElement(we.a.Group,{defaultValue:P.PAYMENT_TYPE.normal,onChange:function(e){return u(e.target.value)},style:{marginTop:8}},o.a.createElement(we.a.Button,{value:P.PAYMENT_TYPE.normal},__("支付宝")),s?o.a.createElement(we.a.Button,{value:P.PAYMENT_TYPE.settle},__("银行转账")):o.a.createElement(h.a,{title:o.a.createElement(re,null),placement:"top"},o.a.createElement(we.a.Button,{value:P.PAYMENT_TYPE.settle,disabled:!0},__("银行转账")))),o.a.createElement("div",{className:qe,style:{marginTop:24}},o.a.createElement("div",{className:Ne,onClick:function(){d(!f)}},o.a.createElement(j.b,{name:"promo",width:18})," ",__("优惠码")),f&&o.a.createElement("div",{style:{width:240},className:ke},o.a.createElement(M.a,{value:i,promoUsage:"organization",onChange:T,onVerifySuccess:N}))),o.a.createElement("p",{className:Ie}),o.a.createElement("h3",null,__("费用总计"),"："),o.a.createElement("div",{className:Pe},o.a.createElement("span",{className:"".concat(Le," ").concat(S?xe:"")},A)," ",__("元"),S&&o.a.createElement("span",{className:Re},__("优惠价")," ",o.a.createElement("span",{className:De},S||A)," ",__("元"))),o.a.createElement("div",{className:Te},o.a.createElement(b.a,{"data-testid":"buy-button",type:"primary",loading:t,onClick:function(){g?r({uploadSize:E,total_amount:A}):n.a.info(__("需阅读并同意《语雀空间服务协议》后才能支付"))}},t?__("购买中"):__("立即支付")),o.a.createElement("p",{className:je},o.a.createElement(y.a,{onChange:function(){v(!g)},checked:g,"data-testid":"check-terms"},__("我已阅读并同意")),o.a.createElement("a",{target:"_blank",href:"/org-terms"},"《语雀空间服务协议》"))))};Qe.propTypes={buyLoading:l.a.bool,handleSubmitBuy:l.a.func,promoCode:l.a.string,setPromoCode:l.a.func,handlePaymentTypeChange:l.a.func,subAccountInfo:l.a.object};var He=Qe,Ve="Qrcode-module_qrcodeImageCon_yy+Gi",Ke="Qrcode-module_alipayIconInQrCode_5Ng19",Ze="Qrcode-module_qrcodeContainer_c79eX",Je="Qrcode-module_qrcodeImage_UEIyZ",Xe="Qrcode-module_desc1_ArZR9",$e="Qrcode-module_desc2_E5sDl",et="Qrcode-module_qrcodeTitleCon_-LJr2",tt="Qrcode-module_qrcodeTitleDesc_OOQby",rt="Qrcode-module_qrcodeTitleValue_PBwE+",nt=function(e){var t=e.qrcodeUrl,r=e.totalAmount;return o.a.createElement("div",{className:Ze,"data-testid":"qrcode"},o.a.createElement("div",{className:et},o.a.createElement("div",{className:tt},__("扫一扫付款 (元)")),o.a.createElement("div",{className:rt},r)),o.a.createElement("div",{className:Ve},o.a.createElement("div",{className:Ke},o.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*GE2FQLYZ4kAAAAAAAAAAAABjARQnAQ"})),o.a.createElement("img",{className:Je,src:t})),o.a.createElement("div",{className:Xe},__("打开手机支付宝，扫一扫继续付款")),o.a.createElement("div",{className:$e},__("付款后可在线申请发票")))};nt.propTypes={qrcodeUrl:l.a.string,totalAmount:l.a.number};var at=nt,ot="PayModal-module_noLineModal_r4djn",it="PayModal-module_payModal_1VmRL",lt="PayModal-module_largeModal_reIw0";function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function st(e,t,r){return t=function(e){var t=function(e,t){if("object"!==ct(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ct(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mt,ft=function(e){var t,r=e.type,n=e.targetLevel,i=e.qrcodeUrl,l=e.visible,u=e.onCancel,m=e.buyLoading,y=e.memberSize,h=e.max_member,b=e.handleMemberChange,g=e.handleSubmitBuy,v=e.handleSelectPackage,_=e.duration,E=e.handleDurationChange,w=e.remaining,A=e.totalAmount,O=e.organizationInfo,S=void 0===O?{}:O,N=e.promoCode,P=e.setPromoCode,T=e.currentMember,j=e.subAccountInfo,M=e.paySource,C=null,I=[c.PAY_MODAL_ACTION.upgrade,c.PAY_MODAL_ACTION.renew,c.PAY_MODAL_ACTION.trial,c.PAY_MODAL_ACTION.buy].includes(r);switch(r){case"qrcode":C=o.a.createElement(at,{qrcodeUrl:i,totalAmount:A});break;case c.PAY_MODAL_ACTION.buy:case c.PAY_MODAL_ACTION.upgrade:case c.PAY_MODAL_ACTION.renew:case c.PAY_MODAL_ACTION.trial:C=o.a.createElement(fe,{actionType:r,targetLevel:n,handleSelectPackage:v,remaining:w,max_member:h,memberSize:y,handleMemberChange:b,duration:_,handleDurationChange:E,buyLoading:m,handleSubmitBuy:g,organizationInfo:S,promoCode:N,setPromoCode:P,currentMember:T,subAccountInfo:j,paySource:M});break;case c.PAY_MODAL_ACTION.buyMember:C=o.a.createElement(Ee,{max_member:h,memberSize:y,handleMemberChange:b,buyLoading:m,handleSubmitBuy:g,organizationInfo:S,promoCode:N,setPromoCode:P,currentMember:T,subAccountInfo:j,paySource:M});break;case c.PAY_MODAL_ACTION.data:C=o.a.createElement(He,{buyLoading:m,handleSubmitBuy:g,promoCode:N,setPromoCode:P,subAccountInfo:j})}var k=[c.PAY_MODAL_ACTION.renew,c.PAY_MODAL_ACTION.buyMember].includes(r)?"":ot,L=(st(t={},c.PAY_MODAL_ACTION.upgrade,860),st(t,c.PAY_MODAL_ACTION.renew,860),st(t,c.PAY_MODAL_ACTION.trial,860),st(t,c.PAY_MODAL_ACTION.buy,860),st(t,c.PAY_MODAL_ACTION.buyMember,420),t);return Object(a.useEffect)((function(){var e=[c.PAY_MODAL_ACTION.trial].includes(r);if(l&&e)Object(d.spmClick)(p.ORG_LIMIT_SPM.start_trial,{pay_source:M,org_id:S.id,org_payment_type:S.payment_type});else{var t=[c.PAY_MODAL_ACTION.buy,c.PAY_MODAL_ACTION.renew,c.PAY_MODAL_ACTION.upgrade,c.PAY_MODAL_ACTION.buyMember].includes(r);l&&t&&Object(d.spmClick)(p.ORG_LIMIT_SPM.start_pay,{pay_source:M,order_type:r,org_id:S.id,org_payment_type:S.payment_type,org_trial_status:S.trialStatus})}}),[]),o.a.createElement(s.a,{visible:l,maskClosable:!1,onCancel:u,footer:null,width:L[r]||560,centered:!0,className:f()(k,it,st({},lt,I))},o.a.createElement("div",{"data-testid":"pay-modal"},C))};ft.propTypes={type:l.a.oneOf(["qrcode"].concat((mt=Object.values(c.PAY_MODAL_ACTION),function(e){if(Array.isArray(e))return ut(e)}(mt)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(mt)||function(e,t){if(e){if("string"==typeof e)return ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ut(e,t):void 0}}(mt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))),visible:l.a.bool,qrcodeUrl:l.a.string,onCancel:l.a.func,buyLoading:l.a.bool,memberSize:l.a.number,max_member:l.a.number,handleMemberChange:l.a.func,handleSubmitBuy:l.a.func,handleSelectPackage:l.a.func,duration:l.a.number,handleDurationChange:l.a.func,remaining:l.a.number,totalAmount:l.a.number,organizationInfo:l.a.object,promoCode:l.a.string,setPromoCode:l.a.func,handlePaymentTypeChange:l.a.func,currentMember:l.a.number,subAccountInfo:l.a.object,paySource:l.a.string};var dt=ft,pt="ProcessingModal-module_processContainer_dOZ9t",yt="ProcessingModal-module_processImg_Fl+7o",ht="ProcessingModal-module_processInfo_VPh0u",bt=function(e){var t=e.visible;return o.a.createElement(s.a,{title:null,visible:t,maskClosable:!1,closable:!1,footer:null,centered:!0,width:480},o.a.createElement("div",{className:pt,"data-testid":"processing-modal"},o.a.createElement("img",{className:yt,src:"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*7q7fR4_EUQQAAAAAAAAAAABjARQnAQ"}),o.a.createElement("p",{className:ht},__("付费更新中，请稍后..."))))};bt.propTypes={visible:l.a.bool};var gt=bt,vt=r(259),_t=r(152),Et="PaidSuccessModal-module_successModalContainer_gb6Iw",wt="PaidSuccessModal-module_successModalInfoCon_aLoy0",At="PaidSuccessModal-module_successModalButtonCon_BP8Ns",Ot="PaidSuccessModal-module_applyReceiptButton_BrptN",St="PaidSuccessModal-module_checkUploadButton_n0Sct",Nt="PaidSuccessModal-module_successModalSubTitle_Hq8oy",Pt="PaidSuccessModal-module_successModalItem_EBnTl",Tt="PaidSuccessModal-module_successModalBlank_3ENdm",jt=function(e){var t,r=e.organizationInfo,n=void 0===r?{}:r,a=e.visible,i=e.onClose,l=e.onClickApplyReceipt,m=window.appData.me,f=n.name,d=n.expired_at,p=n.order_id,y=n.order_type,h=n.package_type,g=n.duration,v=n.upload_size,_=n.max_member,w=n.member_increment,A=n.amount,O=n.order_updated_at,S="",N="",P="",T=!1,j=!1,M=!1,C=!1,I="",k="";switch(y){case c.ORDER_TYPE.buy:S=__(__("恭喜你，语雀空间成功升级为{payment}",{payment:u.a.PAYMENT_MAP[h]})),N=__("套餐"),P=__("{payment}｜{max_member}人套餐",{payment:u.a.PAYMENT_MAP[h],max_member:_}),T=!0,j=!0,M=!1,I="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*Jr-6TomkfQ0AAAAAAAAAAAAAARQnAQ",k="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*v1AKQ5xxigYAAAAAAAAAAAAAARQnAQ";break;case c.ORDER_TYPE.renew:S=__("恭喜你，语雀空间{action}成功",{action:u.a.getPaymentAction(null===(t=window.appData.organization)||void 0===t?void 0:t.payment_type)}),N=__("套餐"),P=__("{payment}｜{max_member}人套餐",{payment:u.a.PAYMENT_MAP[h],max_member:_}),T=!0,j=!0,M=!1,I="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*Jr-6TomkfQ0AAAAAAAAAAAAAARQnAQ",k="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*v1AKQ5xxigYAAAAAAAAAAAAAARQnAQ";break;case c.ORDER_TYPE.upgrade:S=__("恭喜你，语雀空间升级成功"),N=__("套餐"),P=__("{payment}｜{max_member}人套餐",{payment:u.a.PAYMENT_MAP[h],max_member:_}),T=!0,j=!1,M=!1,I="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*Jr-6TomkfQ0AAAAAAAAAAAAAARQnAQ",k="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*v1AKQ5xxigYAAAAAAAAAAAAAARQnAQ";break;case c.ORDER_TYPE.buyMember:S=__("恭喜你，空间人数规模升级成功"),M=!1,C=!0,I="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*Jr-6TomkfQ0AAAAAAAAAAAAAARQnAQ",k="//gw.alipayobjects.com/mdn/prod_resou/afts/img/A*v1AKQ5xxigYAAAAAAAAAAAAAARQnAQ";break;case c.ORDER_TYPE.data:S=__("恭喜你，上传流量购买成功"),N=__("上传流量"),P="".concat(Object(_t.getSizeValue)(v).value).concat(Object(_t.getSizeValue)(v).unit),I="https://gw.alipayobjects.com/zos/basement_prod/39563d69-6bdd-4ee3-8844-0f549452d13f.svg"}return o.a.createElement(s.a,{className:"paid-success-modal",title:null,visible:a,maskClosable:!1,onCancel:i,footer:null,centered:!0,width:480},o.a.createElement("div",{className:Et,"data-testid":"paid-success-modal"},o.a.createElement(vt.a,{src:I,darkSrc:k}),o.a.createElement("div",{className:wt},o.a.createElement("h1",{style:{fontSize:"18px"}},S),o.a.createElement("p",{className:Tt}),o.a.createElement("p",{className:Nt},__("订单信息")),o.a.createElement("p",{className:Pt},__("空间名称"),"：",f),o.a.createElement("p",{className:Pt},__("订单号"),"：",p),N&&o.a.createElement("p",{className:Pt},N,"：",P),j&&o.a.createElement("p",{className:Pt},__("购买时长"),"：",g," ",__("年")),M&&o.a.createElement("p",{className:Pt},__("人数规模"),"：",__("{max_member}人",{max_member:_})),C&&o.a.createElement("p",{className:Pt},__("增购人数"),"：",__("{member_increment} 人",{member_increment:w})),o.a.createElement("p",{className:Pt},__("付款金额"),"：",A," ",__("元")),o.a.createElement("p",{className:Pt},__("付款人"),"：",m&&m.name),o.a.createElement("p",{className:Pt},__("付款时间"),"：",E()(O).format("YYYY-MM-DD HH:mm:ss")),T&&o.a.createElement("p",{className:Pt},__("到期时间"),"：",E()(d).format("YYYY-MM-DD HH:mm:ss")),o.a.createElement("div",{className:At},o.a.createElement(b.a,{type:"primary",onClick:i,"data-testid":"close-button"},__("立即使用")),o.a.createElement(b.a,{className:Ot,onClick:function(){return l()}},__("申请开票")),y===c.ORDER_TYPE.data&&o.a.createElement(b.a,{className:St,href:"/r/organizations/dashboard/cashier"},__("查看上传流量"))))))};jt.propTypes={organizationInfo:l.a.object.isRequired,visible:l.a.bool,onClose:l.a.func,onClickApplyReceipt:l.a.func};var Mt=jt,Ct=(r(187),r(48)),It=r(556),kt=r(555),Lt={contactTips:"ReceiptModal-module_contactTips_f0fAJ",receiptTypeTitle:"ReceiptModal-module_receiptTypeTitle_mZi8G",receiptTypeTitleText:"ReceiptModal-module_receiptTypeTitleText_QQBhY",receiptDesc:"ReceiptModal-module_receiptDesc_fY2bw"};function xt(e){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(e)}function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){Bt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bt(e,t,r){return t=function(e){var t=function(e,t){if("object"!==xt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xt(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ut=T.a.RECEIPT_TYPES,Ft=Ct.a.create()(It.a),qt=Ct.a.create()(kt.a),Wt=function(e){var t=e.visible,r=e.organizationInfo,i=e.handleApplyReceiptCancel,l=e.hasReceipt,c=e.setHasReceipt,u=(window.appData||{}).organization,m=void 0===u?{}:u,f=(window.appData.paymentInfo||{}).receipt,d=f&&void 0!==f.type?f.type:1,p=Yt(Object(a.useState)(d),2),y=p[0],h=p[1],b=Yt(Object(a.useState)(!0),2),g=b[0],v=b[1],_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";(0,e.form.validateFields)((function(e,a){if(!e){var o=Ut[t];C.a.organizationReceipts.create(Dt(Dt({},a),{},{type:o,order_id:r.order_id,organization_id:m.id})).then((function(e){n.a.success(__("已成功提交发票申请")),c(!0),i()}))}}))};return o.a.createElement(s.a,{className:"receipt-success-modal",title:o.a.createElement(o.a.Fragment,null,l?__("已提交申请"):__("申请发票"),o.a.createElement("p",{className:Lt.receiptDesc},__("发票将在申请后的 7 个工作日内开具"))),visible:t,maskClosable:!1,closable:l,onCancel:i,footer:null,centered:!0,width:500},o.a.createElement("div",{className:Lt.receiptContainer,"data-testid":"receipt-modal"},l?o.a.createElement("p",{className:Lt.contactTips},__("如需帮助请联系"),"：support@yuque.com"):o.a.createElement("div",{className:Lt.receiptTypeTitle},o.a.createElement(we.a.Group,{disabled:l||!g,onChange:function(){h(0===y?1:0)},value:y},o.a.createElement(we.a,{value:1},__("专用发票")),o.a.createElement(we.a,{value:0},__("普通电子发票")))),0===y?o.a.createElement(Ft,{handleClickReceiptConfirm:_,handleApplyReceiptCancel:i,handleReceiptChange:v,data:f,isFinished:l,isOrganization:!0}):o.a.createElement(qt,{handleClickReceiptConfirm:_,handleApplyReceiptCancel:i,handleReceiptChange:v,data:f,isFinished:l})))};Wt.propTypes={visible:l.a.bool,organizationInfo:l.a.object,handleApplyReceiptCancel:l.a.func,hasReceipt:l.a.bool,setHasReceipt:l.a.func};var Gt,Qt=Wt,Ht=(r(176),r(64)),Vt=r(1402),Kt={wrapper:"SubAccountInfoModal-module_wrapper_P6mlj",infoField:"SubAccountInfoModal-module_infoField_IMZ6p",infoFieldTitle:"SubAccountInfoModal-module_infoFieldTitle_tgwmv",infoFieldPaymentAlert:"SubAccountInfoModal-module_infoFieldPaymentAlert_UOLk7",buttons:"SubAccountInfoModal-module_buttons_rfW-e",btn:"SubAccountInfoModal-module_btn_WuNy4",loading:"SubAccountInfoModal-module_loading_sNKQL",loadingIcon:"SubAccountInfoModal-module_loadingIcon_M7IJr",loadingCircle:"SubAccountInfoModal-module_loadingCircle_mPmQ5",loadingDesc:"SubAccountInfoModal-module_loadingDesc_QHGbP"};function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){tr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return er(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return er(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tr(e,t,r){return t=function(e){var t=function(e,t){if("object"!==Zt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zt(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rr=(tr(Gt={},c.ORDER_TYPE.buy,__("购买空间")),tr(Gt,c.ORDER_TYPE.upgrade,__("升级空间")),tr(Gt,c.ORDER_TYPE.renew,__("续费空间")),tr(Gt,c.ORDER_TYPE.buyMember,__("购买空间人数")),tr(Gt,c.ORDER_TYPE.data,__("购买空间流量")),tr(Gt,c.ORDER_TYPE.downgrade,__("降级空间")),Gt),nr=function(e){var t,r=(window.appData.paymentInfo||{}).order_type,n=function(e){var t=void 0!==e.orderTypeFromAppData,r=$t(Object(a.useState)(!t),2),n=r[0],o=r[1],i=rr[e.orderTypeFromAppData]||"";return{state:Xt(Xt({},e),{},{showExistedTips:t,showMainField:n,orderTypeName:i}),setShowMainField:o}}(Xt(Xt({},e),{},{orderTypeFromAppData:r})),i=n.state,l=i.visible,c=i.subAccountInfo,u=i.closeSettleOrder,m=i.closeAccountInfoModal,f=i.showExistedTips,d=i.showMainField,p=i.orderTypeName,y=n.setShowMainField;return o.a.createElement(s.a,{title:__("购买空间套餐"),visible:l,maskClosable:!1,closable:!0,footer:null,centered:!0,width:550,onCancel:m},c&&c.order?o.a.createElement("div",{className:Kt.wrapper,"data-testid":"subaccount-modal"},f&&!d&&o.a.createElement("div",{className:Kt.tips},o.a.createElement("div",null,__("你有订单尚未完成，请先完成订单或取消订单")),o.a.createElement("div",{className:Kt.buttons},o.a.createElement(b.a,{type:"primary",onClick:function(){return y(!0)},className:Kt.btn},__("去查看")))),d&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Kt.infoField},r&&o.a.createElement("p",null,o.a.createElement("span",{className:Kt.infoFieldTitle},__("订单类型")),p),o.a.createElement("p",null,o.a.createElement("span",{className:Kt.infoFieldTitle},__("转账金额")),c.order.amount," ",__("元")),o.a.createElement("p",null,o.a.createElement("span",{className:Kt.infoFieldTitle},__("收款公司")),c.local_account_name),o.a.createElement("p",null,o.a.createElement("span",{className:Kt.infoFieldTitle},__("收款账户")),c.account_no_4_credit_transfer),o.a.createElement("p",null,o.a.createElement("span",{className:Kt.infoFieldTitle},__("开户行")),c.local_bank_name_4_transfer)),o.a.createElement("div",{className:Kt.infoField},o.a.createElement("p",null,o.a.createElement("span",{className:Kt.infoFieldTitle},__("订单号")),c.order.order_id),o.a.createElement("div",null,__("请于 10 日内转账付款，银行转账有延迟，稍后将以短信形式通知您开通情况。")),o.a.createElement("div",null,__("如有任何疑问，请发邮件到")," ",o.a.createElement("a",{href:"mailto:support@yuque.com"},"support@yuque.com")," ",__("，会有专人协助您解决。"))),o.a.createElement("div",{className:Kt.buttons},o.a.createElement(Ht.a,{title:__("你确定取消订单吗？"),onConfirm:u,okText:__("取消订单"),cancelText:__("再想想")},o.a.createElement(b.a,{type:"danger",className:Kt.btn},__("取消订单")))))):(t=__("正在准备相关信息，可能需等待 1-5 分钟"),o.a.createElement("div",{className:Kt.loading},o.a.createElement(Vt.default,{className:Kt.loadingIcon}),t&&o.a.createElement("div",{className:Kt.loadingDesc},t))))};nr.propTypes={visible:l.a.bool,subAccountInfo:l.a.object,closeSettleOrder:l.a.func,closeAccountInfoModal:l.a.func};var ar,or=nr,ir=r(1208),lr=r.n(ir),cr=r(1207),ur=r.n(cr),sr=r(89),mr=r.n(sr);function fr(e){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(e)}function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(r),!0).forEach((function(t){br(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function br(e,t,r){return t=function(e){var t=function(e,t){if("object"!==fr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==fr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fr(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gr,vr=!1,_r=function(e,t){if(e.max_member<t){var r=c.PRICE_STAGES.find((function(e){return e.member>t}));if(r)return r.member}return e.max_member},Er=C.a.pay,wr=Er.create,Ar=Er.buyMember,Or=Er.buyUpload,Sr=Er.downgrade,Nr=Er.upgrade,Pr=Er.renew,Tr=(br(ar={},c.ORDER_TYPE.buy,wr),br(ar,c.ORDER_TYPE.upgrade,Nr),br(ar,c.ORDER_TYPE.renew,Pr),br(ar,c.ORDER_TYPE.buyMember,Ar),br(ar,c.ORDER_TYPE.data,Or),br(ar,c.ORDER_TYPE.downgrade,Sr),ar),jr=function(e){var t,r=e.organization,n=void 0===r?{}:r,o=e.visible,i=void 0!==o&&o,l=e.type,u=void 0===l?"buyModal":l,s=e.actionType,m=e.onClose,f=window.appData.paymentInfo||{},d=f.order_id,p=f.receipt,y=f.isSettleOrder,h=yr(Object(a.useState)(!1),2),b=h[0],g=h[1],v=yr(Object(a.useState)(!1),2),_=v[0],w=v[1],A=yr(Object(a.useState)(!1),2),O=A[0],S=A[1],N=yr(Object(a.useState)(!1),2),T=N[0],j=N[1],M=yr(Object(a.useState)(!1),2),I=M[0],k=M[1],L=yr(Object(a.useState)(null),2),x=L[0],R=L[1],D=yr(Object(a.useState)(!!p),2),B=D[0],Y=D[1],z=yr(Object(a.useState)(!1),2),U=z[0],F=z[1],q=yr(Object(a.useState)(pr(pr({},n),{},{order_id:d})),2),W=q[0],G=q[1],Q=yr(Object(a.useState)(1===n.payment_type),2),H=Q[0],V=Q[1],K=yr(Object(a.useState)(null),2),Z=K[0],J=K[1],X=yr(Object(a.useState)(null),2),$=X[0],ee=X[1],te=yr(Object(a.useState)(n.members_count||n.max_member),2),re=te[0],ne=te[1],ae=s===c.ORDER_TYPE.renew?_r(W,re):null===(t=c.PRICE_STAGES.find((function(e){return e.member>=n.max_member})))||void 0===t?void 0:t.member,oe=yr(Object(a.useState)(ae),2),ie=oe[0],le=oe[1],ce=yr(Object(a.useState)(1),2),ue=ce[0],se=ce[1],me=yr(Object(a.useState)(0),2),fe=me[0],de=me[1],pe=yr(Object(a.useState)(),2),ye=pe[0],he=pe[1],be=Object(a.useRef)(null),ge=function(){S(!1),j(!0)},ve=function e(t){C.a.pay.query({order_id:t}).then((function(r){return r.isFinished?(g(!1),w(!1),S(!0),V(!0),void G(r)):(r.isPaid&&(g(!1),w(!0),V(!0)),r.isClosed?(g(!1),w(!1),void S(!1)):void((r.isPaid||r.needQuery)&&(be.current=setTimeout((function(){return e(t)}),3e3))))}))},_e=function e(t){C.a.pay.query({order_id:t}).then((function(r){return r.isFinished?(g(!1),w(!1),S(!0),V(!0),void G(r)):r.isClosed?(g(!1),w(!1),void S(!1)):(r.account_no&&(R(r),g(!1),k(!0)),void(r.needQuery&&(g(!1),k(!0),be.current=setTimeout((function(){return e(t)}),3e3))))}))},Ee=function(){if(gr||y)return k(!0),void _e(gr||d);if(s===c.ORDER_TYPE.buyMember){var e=c.PRICE_STAGES.find((function(e){return e.member>n.max_member}));le(e?e.member:c.MAX_MEMBER_LIMIT)}J(null),F(!1),g(!0)};Object(a.useEffect)((function(){if(i){switch(u){case"buyModal":Ee();break;case"receiptModal":ge()}C.a.organizations.membersCount({id:n.id}).then(ne),x||C.a.pay.getSettleAccount({order_id:gr||d}).then(R)}}),[i]),Object(a.useEffect)((function(){if(!vr&&(vr=!0,!H&&window.appData.paymentInfo&&!y)){var e=lr.a.parse(window.location.search).order_id,t=window.appData.paymentInfo,r=t.orderExpired,n=t.isFinished;if(d&&!n)return function(e){var t=window.location,r="".concat(t.protocol,"//").concat(t.host).concat(t.pathname,"?order_id=").concat(e);t.href=r}(d);r?window.location.href=window.location.pathname:e&&(w(!0),ve(e))}}),[b]),Object(a.useEffect)((function(){return function(){be.current&&(clearTimeout(be.current),be.current=null)}}),[]);var we=n.max_member;if(Object(a.useEffect)((function(){if(s===c.ORDER_TYPE.renew){var e=_r(W,re);le(e)}}),[ae]),!window.appData.paymentInfo)return{};var Ae=function(e,t){m&&m(),e&&window.location.assign(t||window.location.origin+window.location.pathname)},Oe=W.expired_at,Se=E()(Oe).diff(Date.now(),"day")||1;return{payModalVisible:b,processModalVisible:_,successModalVisible:O,receiptModalVisible:T,subAccountInfoModalVisible:I,subAccountInfo:x,startToApplyReceipt:ge,buyLoading:U,organizationInfo:W,payModalType:Z?"qrcode":s,qrcodeUrl:$,handleSubmitBuy:function(e){var t=e.orderType||c.ORDER_TYPE.buy;if(!U){F(!0);var r={member_increment:null==e?void 0:e.memberIntrement,member_size:null==e?void 0:e.memberSize,duration:null==e?void 0:e.duration,promo_code:null==e?void 0:e.promoCode,payment_type:null==e?void 0:e.paymentType,package_type:null==e?void 0:e.packageType};(null==e?void 0:e.paymentType)===P.PAYMENT_TYPE.settle?Tr[t](r).then((function(e){F(!1);var t=e.order_id;de(+e.amount),gr=t,_e(t)})).catch((function(){F(!1)})):Tr[t](r).then((function(e){F(!1);var t=e.out_trade_no;J({orderId:t,url:e.qr_code}),ur.a.toDataURL(e.qr_code,(function(e,t){ee(t)})),de(+e.totalAmount),ve(t)})).catch((function(){F(!1)}))}},handlePayModalCancel:function(){g(!1),Ae(!1)},handleApplyReceiptCancel:function(){j(!1),Ae(!0,"/r/organizations/dashboard/cashier/orders")},handleMemberChange:function(e){le(e)},closePaidSuccessModal:function(){S(!1),Ae(!0)},memberSize:ie,hasReceipt:B,setHasReceipt:Y,duration:ue,handleDurationChange:function(e){se(e)},remaining:Se,totalAmount:fe,promoCode:ye,setPromoCode:he,closeAccountInfoModal:function(){m&&m(),be.current&&(clearTimeout(be.current),be.current=null),k(!1)},closeSettleOrder:function(){var e=mr()(x,"order.order_id");e&&C.a.pay.close({order_id:e}).then((function(){window.location.reload()}))},currentMember:re,maxMember:we}},Mr=function(e){var t=e.organization,r=e.visible,a=e.type,i=e.actionType,l=e.targetLevel,s=e.onClose,m=e.paySource,f=jr({organization:t,visible:r,type:a,actionType:i,onClose:s}),d=f.payModalVisible,p=f.processModalVisible,y=f.successModalVisible,h=f.receiptModalVisible,b=f.subAccountInfoModalVisible,g=f.subAccountInfo,v=f.startToApplyReceipt,_=f.buyLoading,E=f.organizationInfo,w=void 0===E?{}:E,A=f.payModalType,O=f.qrcodeUrl,S=f.handleSubmitBuy,N=f.handlePayModalCancel,P=f.handleApplyReceiptCancel,T=f.handleMemberChange,j=f.closePaidSuccessModal,M=f.hasReceipt,C=f.setHasReceipt,I=f.duration,k=f.handleDurationChange,L=f.remaining,x=f.totalAmount,R=f.closeAccountInfoModal,D=f.closeSettleOrder,B=u.a.isPremium(t),Y=u.a.isFree(t);return i===c.PAY_MODAL_ACTION.buy&&B?(n.a.warning(__("已付费空间不允许重复购买")),null):i!==c.PAY_MODAL_ACTION.upgrade||B?i===c.PAY_MODAL_ACTION.renew&&Y?(n.a.warning(__("标准版空间无法续费，请直接购买")),null):o.a.createElement("div",{"data-testid":"org-pay-flow"},o.a.createElement(dt,{key:"pay-modal-".concat(d),visible:d,type:A,targetLevel:l,qrcodeUrl:O,onCancel:N,buyLoading:_,handleMemberChange:T,handleSubmitBuy:S,duration:I,handleDurationChange:k,remaining:L,organizationInfo:w,totalAmount:x,subAccountInfo:g,paySource:m}),o.a.createElement(gt,{key:"process-modal-".concat(p),visible:p}),o.a.createElement(Mt,{key:"success-modal-".concat(y),visible:y,organizationInfo:w,onClose:j,onClickApplyReceipt:v}),o.a.createElement(Qt,{key:"receipt-modal-".concat(h),visible:h,organizationInfo:w,handleApplyReceiptCancel:P,hasReceipt:M,setHasReceipt:C}),o.a.createElement(or,{key:"subaccount-modal-".concat(b),visible:b,subAccountInfo:g,closeAccountInfoModal:R,closeSettleOrder:D})):(n.a.warning(__("非付费空间无法升级")),null)};Mr.propTypes={organization:l.a.object.isRequired,type:l.a.oneOf(["buyModal","receiptModal"]),actionType:l.a.oneOf(Object.values(c.PAY_MODAL_ACTION)),visible:l.a.bool,onClose:l.a.func,targetLevel:l.a.oneOf([c.PAYMENT_TYPE.pro,c.PAYMENT_TYPE.enterprise]),paySource:l.a.string};t.a=Mr},704:function(e,t,r){"use strict";t.a={contactInfoTitle:"receipt-module_contactInfoTitle_+WTvl",receiptButtons:"receipt-module_receiptButtons_tBTuB",cancelButton:"receipt-module_cancelButton_1xXKN"}},784:function(e,t){let r;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return n[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');r=e},t.isKanjiModeEnabled=function(){return void 0!==r},t.toSJIS=function(e){return r(e)}},785:function(e,t,r){const n=r(1394),a=r(1395);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!n.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return a.testNumeric(e)?t.NUMERIC:a.testAlphanumeric(e)?t.ALPHANUMERIC:a.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,r){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return r}}},789:function(e,t,r){"use strict";r(42);var n=r(9),a=(r(56),r(12)),o=r(0),i=r.n(o),l=r(2),c=r.n(l),u=r(45),s=r(5),m=r.n(s),f=r(51),d="index-module_mainInput_x4D9t",p="index-module_verifyResult_pdxsH",y="index-module_success_NhSta",h="index-module_inputVerify_kl-bC",b="index-module_editIcon_eXpln",g="index-module_promoCodeDefault_6iUh6";function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function _(e,t,r){return t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(){E=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),l=new I(n||[]);return a(i,"_invoke",{value:T(e,r,l)}),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",d="suspendedYield",p="executing",y="completed",h={};function b(){}function g(){}function _(){}var w={};u(w,i,(function(){return this}));var A=Object.getPrototypeOf,O=A&&A(A(k([])));O&&O!==r&&n.call(O,i)&&(w=O);var S=_.prototype=b.prototype=Object.create(w);function N(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function r(a,o,i,l){var c=m(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==v(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,r,n){var a=f;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var l=n.delegate;if(l){var c=j(l,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var u=m(t,r,n);if("normal"===u.type){if(a=n.done?y:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=y,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=m(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,h;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(v(t)+" is not iterable")}return g.prototype=_,a(S,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:g,configurable:!0}),g.displayName=u(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},N(P.prototype),u(P.prototype,l,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new P(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},N(S),u(S,c,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return l.type="throw",l.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function w(e,t,r,n,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){w(o,n,a,i,l,"next",e)}function l(e){w(o,n,a,i,l,"throw",e)}i(void 0)}))}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var N=function(e){var t=e.value,r=e.orderType,l=e.packageType,c=e.promoUsage,s=e.onChange,v=e.onVerifySuccess,w=e.verifyStyle,S=O(Object(o.useState)(!1),2),N=S[0],P=S[1],T=O(Object(o.useState)({}),2),j=T[0],M=T[1],C=O(Object(o.useState)(!1),2),I=C[0],k=C[1],L=function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.a.promo.verify({code:t,promoUsage:c,order_type:r,package_type:l},{ignoreGlobalMessage:!0}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=A(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.isSpace?f.a.pay.close:f.a.memberPay.close,e.abrupt("return",t({order_id:j.order_id},{ignoreGlobalMessage:!0}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){L().then((function(e){k(!1),M(e),e.success&&v(e.promo)})).catch((function(){k(!1),M({success:!1,message:__("优惠码无效")})}))},D=function(e){j.success&&M({success:!1,message:__("优惠码已修改，请重新验证")}),s&&s(e)},B=function(){var e=A(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,x();case 4:return e.next=6,R();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),k(!1),M({success:!1,message:__("解绑失败")});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Y=m()(p,_({},y,j.success));return N?i.a.createElement("span",null,i.a.createElement(a.a,{"data-testid":"verifier-input",type:"text",value:t,onChange:function(e){return D(e.target.value&&e.target.value.trim())},suffix:i.a.createElement("a",{className:m()(w,h),onClick:R,disabled:I,"data-testid":"verifier-a"},__("验证")),className:d,placeholder:__("在此输入")}),i.a.createElement("div",{className:Y,"data-testid":"verifier-message"},i.a.createElement("span",null,j.message),j.isLocked?i.a.createElement(n.a,{type:"link",disabled:I,onClick:B},I?__("解绑中"):__("解绑")):null)):i.a.createElement("span",{className:g,onClick:function(){return P(!0)}},__("填写优惠码"),i.a.createElement(u.b,{name:"edit-border",className:b,width:14,height:14}))};N.propTypes={value:c.a.string,promoUsage:c.a.string,orderType:c.a.number,packageType:c.a.number,onChange:c.a.func,onVerifySuccess:c.a.func};t.a=N},791:function(e,t,r){"use strict";var n=r(57);t.a=n.a},94:function(e,t,r){"use strict";r(2909);var n=r(1229);r(303);t.a=n.a},951:function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return s}));var n=r(0),a=r.n(n),o=r(161),i=r(24);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(){var e=l(a.a.useState(o.b.onLine),2),t=e[0],r=e[1];return a.a.useEffect((function(){function e(e){r(e)}return o.b.on(o.a,e),function(){o.b.off(o.a,e)}}),[]),t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=u(),o=Array.from(t);o.push(n),a.a.useEffect((function(){n||!i.g?e():null==r||r()}),o)}},953:function(e,t,r){"use strict";function n(){return window.appData.isDesktopApp&&!window.appData.interest?{interests:{open_ocr:!window.appData.isYuque||(window.appData.currentOrganization&&0!==window.appData.currentOrganization.id?null===(a=window.appData.currentOrganization)||void 0===a?void 0:a.isPremium:"Group"===(null===(r=window.appData.group)||void 0===r?void 0:r.type)||(null===(n=window.appData.me)||void 0===n?void 0:n.isPaid)),create_public_resource:!window.appData.isYuque||(window.appData.currentOrganization&&0!==window.appData.currentOrganization.id?(null===(t=window.appData.currentOrganization)||void 0===t?void 0:t.isPremium)&&window.appData.currentOrganization.share_to_outside_enable:null===(e=window.appData.me)||void 0===e?void 0:e.isPaid)}}:window.appData.interest||{interests:{}};var e,t,r,n,a}r.r(t),r.d(t,"getInterest",(function(){return n}))}}]);