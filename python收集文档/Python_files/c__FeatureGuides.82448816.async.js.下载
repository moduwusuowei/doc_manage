(window.webpackJsonp=window.webpackJsonp||[]).push([[1218,246],{1625:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-close",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M34.41 34.499c3.906-3.905 10.238-3.905 14.143 0l79.903 79.902 79.903-79.902c3.905-3.905 10.237-3.905 14.142 0 3.905 3.905 3.905 10.237 0 14.142l-79.903 79.903 79.903 79.903c3.834 3.834 3.904 10.008.21 13.927l-.21.215c-3.905 3.906-10.237 3.906-14.142 0l-79.903-79.903-79.903 79.903c-3.905 3.906-10.237 3.906-14.142 0-3.906-3.905-3.906-10.237 0-14.142l79.902-79.903L34.41 48.641c-3.835-3.834-3.904-10.007-.21-13.927Z",fill:"currentColor",fillRule:"evenodd"}))},3552:function(e,t,r){"use strict";r(151);var n=r(66),i=(r(42),r(9)),a=r(0),o=r(315),l=r(1625),u="index-module_container_YifTz",c="index-module_titleContainer_E19Ts",s="index-module_content_u6ksX",d="index-module_close_xIF4s",f=function(e){var t=e.onReadGuide,r=e.sign,f=e.visible,p=e.arrowPointAtCenter,m=e.placement;return a.createElement(n.a,{overlayClassName:u,arrowPointAtCenter:p,destroyTooltipOnHide:!0,autoAdjustOverflow:!0,getPopupContainer:function(){return document.querySelector("#dragBarContainer")},title:a.createElement("div",{className:c},a.createElement("div",{className:s},a.createElement(o.a,{variant:"caption",mt:4,mb:4},__("知识库全新升级，来看看吧"))),a.createElement(i.a,{onClick:t,icon:a.createElement(l.default,{width:14,height:14}),type:"text",className:d})),placement:m,visible:f,align:{targetOffset:[0,4]}},r)},p={FEATURES:[{area:"GROUP_PAGE",enable:!0,type:"custom",tip_id:"feature_group_introduce",tip:__("功能说明"),createdAt:"2022-09-20"},{area:"WIKI_PAGE",enable:!0,type:"custom",tip_id:"feature_org_wiki_introduce",tip:__("功能说明"),createdAt:"2022-09-20"},{area:"GROUP_PAGE",enable:!0,type:"custom",tip_id:"feature_group_introduce",tip:__("功能说明"),createdAt:"2022-10-27"},{area:"GARDEN_PAGE",enable:!0,type:"custom",tip_id:"feature_garden_introduce",tip:__("功能说明"),createdAt:"2022-11-17"},{area:"DASHBOARD_BOOK_MENU",type:"custom",enable:!0,tip_id:"desktop_online_book_entry_tip",customRender:f,placement:"right",containerSelector:'[data-feature-guide-container="desktop_online_book_entry_tip"]',readTrigger:["click"],createdAt:"2023-06-26",styleFix:function(e){e.style.position="absolute",e.style.transform="translateY(-21px)",e.style.left="50px",e.style.zIndex=4},closeGuide:function(e){e.target.closest(".larkui-feature-guide")&&(e.preventDefault(),e.stopPropagation())}},{area:"DASHBOARD_BOOK_MENU_COLLAPSED",type:"custom",enable:!0,tip_id:"desktop_online_book_entry_tip_isCollapsed",customRender:f,placement:"right",containerSelector:'[data-feature-guide-container="desktop_online_book_entry_tip_isCollapsed"]',readTrigger:["click"],createdAt:"2023-06-26",styleFix:function(e){e.style.position="absolute",e.style.left="17px",e.style.top="-30px",e.style.zIndex=4},closeGuide:function(e){e.target.closest(".larkui-feature-guide")&&(e.preventDefault(),e.stopPropagation())}}]},m=r(51),y=r(188),g=p.FEATURES,b={readLiteFeatureGuide:function(e){if("function"==typeof navigator.sendBeacon){var t=new URLSearchParams;t.set("ctoken",Object(y.a)(window)),t.set("type",e.tip_id),navigator.sendBeacon("/api/mine/read_guide?".concat(t.toString()))}else m.a.mine.readGuide({type:e.tip_id});var r=e.containerSelector&&document.querySelector(e.containerSelector);if(r){var n=r.querySelector(".larkui-feature-guide");if(!n)return;n.style.display="none"}},readMiniFeatureGuide:function(e,t){var r=e.tip_id;m.a.mine.readGuide({type:r}),t({type:"guide/readFeatureGuide",payload:{tip_id:r}})},findFeatureGuide:function(e){var t=e.tip_id,r=e.type;return g.find((function(e){return e.tip_id===t&&e.type===r}))},needDisplayGuide:function(e){if("#guide"===window.location.hash)return!0;var t=window.appData.readTip;return!t||!t[e]}};b.FEATURES=g;t.a=b},3638:function(e,t,r){"use strict";r(151);var n=r(66),i=r(0),a=r.n(i),o=r(2),l=r.n(o),u=r(62),c=r.n(u),s=r(1625);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){return a.a.createElement("span",{className:"larkui-feature-guide-sign",style:t,onClick:e,"data-testid":"feature-guide-sign"},a.a.createElement("span",{className:"larkui-feature-guide-sign-spirit-outer"}),a.a.createElement("span",{className:"larkui-feature-guide-sign-spirit-inner"}))}function v(e){var t=e.type,r=void 0===t?"lite":t,o=e.tip,l=e.enableMultiLines,u=e.guideSignContainerStyle,d=y(Object(i.useState)(!0),2),f=d[0],m=d[1];if(!f)return null;var g=document.querySelector(e.containerSelector);if(!g)return null;var v=function(){m(!1),e.onRead()},_=function(){var t=g.querySelector(".larkui-feature-guide");if(t)return t;(t=document.createElement("div")).classList.add("larkui-feature-guide");if(t.classList.add({lite:"larkui-feature-guide-lite",mini:"larkui-feature-guide-mini",custom:"larkui-feature-guide-custom"}[r]),t.setAttribute("data-testid","feature-guide"),["lite","custom"].includes(r)){g.style.position="relative";var n=g.getBoundingClientRect();switch(e.placement){case"right":t.style.left="".concat(n.width+2,"px");break;case"left":t.style.left="-14px";break;case"top":t.style.bottom="".concat((e.offsetY?parseInt(e.offsetY,10):0)+n.height,"px"),t.style.left="".concat(n.width/2-6,"px");break;default:t.style.left="".concat((n.width-12)/2,"px"),t.style.bottom=e.offsetY||"0"}e.styleFix&&e.styleFix(t)}var i=e.readTrigger||[],a=function t(r){r.target.closest(".larkui-feature-guide")&&(r.preventDefault(),r.stopPropagation()),m(!1),e.onRead(),i.forEach((function(r){g.removeEventListener(r,e.closeGuide||t)}))};return i.forEach((function(t){g.addEventListener(t,e.closeGuide||a)})),g.appendChild(t),t}(),h=b(v,u),w=l?"larkui-feature-guide-lite-close-multi-line":"larkui-feature-guide-lite-close";if("mini"===r)return c.a.createPortal(h,_);var E="center"!==e.placement&&"top"!==e.placement;return"custom"===r?c.a.createPortal(a.a.createElement(e.customRender,p(p({},e),{},{sign:h,visible:f,arrowPointAtCenter:E,portalDom:_,onReadGuide:v,setVisible:m})),_):"lite"===r?c.a.createPortal(a.a.createElement(n.a,{overlayClassName:"larkui-feature-guide-lite-tip",arrowPointAtCenter:E,autoAdjustOverflow:!1,defaultVisible:!0,title:a.a.createElement(a.a.Fragment,null,l?a.a.createElement("div",{className:"larkui-feature-guide-content",onClick:v},o):a.a.createElement("span",{className:"larkui-feature-guide-lite-content"},a.a.createElement("strong",null,o)),a.a.createElement("span",{onClick:v,className:w},a.a.createElement(s.default,{width:16,height:16}))),placement:e.placement,visible:f,align:{targetOffset:[0,4]}},h),_):void 0}v.Mini=function(){return a.a.createElement("span",{className:"larkui-feature-guide-mini","data-testid":"standalone-mini-guide"},b((function(){})))},v.defaultProps={enableMultiLines:!1},v.propTypes={type:l.a.oneOf(["lite","mini","custom"]),tip:l.a.oneOfType([l.a.string,l.a.node]),containerSelector:l.a.string.isRequired,readTrigger:l.a.array,placement:l.a.oneOf(["bottomRight","bottomLeft","bottom","right","left","top"]),offsetY:l.a.string,onRead:l.a.func.isRequired,guideSignContainerStyle:l.a.object,enableMultiLines:l.a.bool,customRender:l.a.element,styleFix:l.a.func,closeGuide:l.a.func};t.a=v},5716:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),a=r(469),o=r(65),l=r.n(o),u=r(3552),c=r(302),s=r(3638);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=new l.a("sys:guide");t.default=Object(c.b)(Object(a.d)((function(e){return{guide:e.guide,me:e.me}}))((function(e){var t=e.guide,r=e.me,a=new Date(r.created_at).getTime(),o=u.a.FEATURES.filter((function(e){var t=!!e.enable,r=new Date(e.createdAt).getTime()>=a;return t&&r})),l=d(Object(n.useState)(!1),2),c=l[0],f=l[1];return Object(n.useEffect)((function(){setTimeout((function(){f(!0)}),1e3)}),[]),c?i.a.createElement(i.a.Fragment,null,o.map((function(r,n){if(p("process:","".concat(r.area,"_").concat(r.tip_id)),o=r.tip_id,"#guide"===window.location.hash||!t.readTip[o]){var a=r.containerSelector||'[data-feature-guide-portal="'.concat(r.tip_id,'"]');return p("selector to show guide",a),i.a.createElement("span",{key:r.tip_id+n,"data-testid":r.tip_id},i.a.createElement(s.a,{type:r.type,placement:r.placement,tip:r.tip,offsetY:r.offsetY,containerSelector:a,readTrigger:r.readTrigger||[],guideSignContainerStyle:r.guideSignContainerStyle,onRead:function(){!function(t){"lite"===t.type?u.a.readLiteFeatureGuide(t):u.a.readMiniFeatureGuide(t,e.dispatch)}(r)},customRender:r.customRender,styleFix:r.styleFix,enableMultiLines:r.enableMultiLines,closeGuide:r.closeGuide}))}var o;return p("guide already read, just render empty node"),i.a.createElement("span",{key:"".concat(r.tip_id,"-").concat(r.area,"-").concat(n),"data-testid":r.tip_id,"data-feature-guide-read":r.tip_id})}))):null})),!1)}}]);