(window.webpackJsonp=window.webpackJsonp||[]).push([[1311,956,957],{1965:function(e,t,n){"use strict";n.r(t);var a=n(0);t.default=e=>a.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-logo-weibo",e.className].filter(Boolean).join(" ")}),a.createElement("path",{d:"M10.718 12.727c-1.596-.415-3.398.38-4.092 1.785-.706 1.435-.024 3.026 1.589 3.547 1.669.539 3.637-.286 4.322-1.836.672-1.514-.169-3.07-1.819-3.496Zm-1.219 3.66c-.323.518-1.02.743-1.542.507-.516-.235-.668-.837-.342-1.34.32-.502.991-.727 1.51-.51.524.223.693.82.374 1.343Zm1.067-1.37c-.118.201-.378.297-.58.213-.199-.082-.262-.307-.15-.504.118-.197.366-.29.566-.214.203.075.276.303.164.504Zm7.84-4.622a.67.67 0 0 0 .84-.43 2.61 2.61 0 0 0-3.028-3.359.667.667 0 1 0 .28 1.304c.43-.091.897.042 1.216.392.316.351.403.83.265 1.249a.667.667 0 0 0 .426.844Zm2.339-4.829a5.36 5.36 0 0 0-5.103-1.652.776.776 0 0 0 .326 1.519 3.811 3.811 0 0 1 4.425 4.903.774.774 0 1 0 1.474.48v-.002a5.369 5.369 0 0 0-1.122-5.248Zm-3.66 6.13c-.285-.085-.48-.144-.33-.519.324-.813.357-1.516.008-2.015-.657-.94-2.457-.889-4.52-.026 0 0-.646.284-.482-.23.316-1.02.27-1.872-.225-2.367-1.118-1.12-4.092.042-6.645 2.592-1.907 1.91-3.016 3.935-3.016 5.686 0 3.35 4.294 5.386 8.496 5.386 5.508 0 9.171-3.2 9.171-5.742 0-1.535-1.294-2.405-2.456-2.766Zm-6.702 7.307c-3.352.33-6.246-1.183-6.464-3.387-.218-2.2 2.325-4.253 5.676-4.584 3.352-.333 6.246 1.184 6.464 3.384.216 2.201-2.325 4.254-5.676 4.587Z",fill:"currentColor",fillRule:"nonzero"}))},1966:function(e,t,n){"use strict";n.r(t);var a=n(0);t.default=e=>a.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-logo-weixin",e.className].filter(Boolean).join(" ")}),a.createElement("path",{d:"M16.174 8.845c.139 0 .277.005.413.012-.572-3.016-3.71-5.323-7.498-5.323C4.9 3.534 1.5 6.361 1.5 9.848c0 1.901 1.022 3.614 2.623 4.772a.504.504 0 0 1 .187.575c-.129.475-.333 1.237-.342 1.272-.016.061-.04.122-.04.185 0 .139.113.253.253.253a.296.296 0 0 0 .146-.046l1.661-.959a.79.79 0 0 1 .403-.117.8.8 0 0 1 .223.033 8.999 8.999 0 0 0 2.895.337 4.811 4.811 0 0 1-.256-1.547c0-3.183 3.099-5.76 6.921-5.76ZM11.62 6.818a1.01 1.01 0 1 1 0 2.02 1.012 1.012 0 0 1-1.012-1.01c0-.558.454-1.01 1.012-1.01Zm-5.06 2.02a1.01 1.01 0 1 1 0-2.02 1.01 1.01 0 1 1 0 2.02Zm13.753 9.74c1.334-.965 2.185-2.39 2.185-3.976 0-2.907-2.832-5.262-6.326-5.262-3.492 0-6.326 2.355-6.326 5.262 0 2.906 2.831 5.261 6.326 5.261a7.5 7.5 0 0 0 2.065-.288.622.622 0 0 1 .52.068l1.385.797c.04.023.078.04.122.04a.21.21 0 0 0 .15-.061.21.21 0 0 0 .061-.15c0-.052-.021-.103-.033-.155l-.286-1.062a.529.529 0 0 1-.02-.133.433.433 0 0 1 .177-.34Zm-6.246-4.816a.843.843 0 0 1-.844-.84.843.843 0 0 1 1.688 0c0 .463-.38.84-.844.84Zm4.217 0a.843.843 0 0 1-.844-.84.843.843 0 0 1 1.687 0 .846.846 0 0 1-.843.84Z",fill:"currentColor",fillRule:"nonzero"}))},4865:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(2),i=n.n(o),c=n(586),l=n(242),s=n.n(l),u=s.a.mobile||s.a.tablet,f=navigator.userAgent.toLowerCase(),m=f.indexOf("iphone")>=0&&f.indexOf("safari")>=0&&f.indexOf("mobile safari")<0,p=function(e){var t=e.tipText,n=e.visible;return r.a.createElement("div",{className:"social-share"},u&&n&&r.a.createElement("div",{className:"doc-share-guide"},m?r.a.createElement("div",{className:"share-guide-safari"},r.a.createElement("div",{className:"doc-share-content"}),r.a.createElement("div",{className:"btn-close",onClick:e.onCancel},r.a.createElement(c.default,null))):r.a.createElement("div",{className:"share-guide-default"},r.a.createElement("div",{className:"doc-share-content"},t||__("点击右上角菜单分享给朋友"),r.a.createElement("button",{type:"button",className:"btn-close",onClick:e.onCancel},__("知道了"))))))};p.propTypes={tipText:i.a.string,visible:i.a.bool,onCancel:i.a.func};t.a=p},5766:function(e,t,n){"use strict";n.r(t);n(782);var a=n(379),r=(n(151),n(66)),o=n(0),i=n.n(o),c=n(2),l=n.n(c),s=n(1965),u=n(1966),f=n(1207),m=n.n(f),p=n(242),d=n.n(p),b=n(4865);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,O(a.key),a)}}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=E(e);if(t){var r=E(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function N(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==h(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var j=d.a.mobile||d.a.tablet,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(l,e);var t,n,o,c=w(l);function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return N(g(e=c.call.apply(c,[this].concat(n))),"state",{qrcode:null,shareGuideVisible:!1}),N(g(e),"getWeiboShareUrl",(function(){var t=e.props.doc,n=t.cover,a=t.description,r=encodeURIComponent(window.location.href),o=encodeURIComponent(n),i=encodeURIComponent(a?"".concat(document.title," | ").concat(a):document.title);return"https://service.weibo.com/share/share.php?url=".concat(r,"&pic=").concat(o,"&title=").concat(i)})),N(g(e),"generateQrcode",(function(){m.a.toDataURL(window.location.href,(function(t,n){e.setState({qrcode:n})}))})),N(g(e),"toggleShareGuide",(function(){e.setState((function(e){return{shareGuideVisible:!e.shareGuideVisible}}))})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.generateQrcode()}},{key:"render",value:function(){var e=this.props.book,t=window.appData,n=t.isYuque,o=t.isEnterprise,c=t.organization;return 0===e.public||!n||o||c&&c.id?null:i.a.createElement("div",{className:"social-share"},j?i.a.createElement(i.a.Fragment,null,i.a.createElement(b.a,{visible:this.state.shareGuideVisible,onCancel:this.toggleShareGuide}),i.a.createElement("span",{className:"social-share-item",onClick:this.toggleShareGuide},__("分享："),i.a.createElement("span",{className:"larkicon larkicon-share"}))):i.a.createElement("span",null,__("分享到："),i.a.createElement(r.a,{title:"分享到微博"},i.a.createElement("a",{className:"social-share-item",target:"_blank",href:this.getWeiboShareUrl()},i.a.createElement(s.default,null))),i.a.createElement("span",{className:"social-share-item"},this.state.qrcode&&i.a.createElement(a.a,{getPopupContainer:function(e){return e.parentNode},overlayStyle:{width:200},placement:"top",content:i.a.createElement("div",{className:"qrcode-block"},i.a.createElement("span",{className:"img"},i.a.createElement("img",{src:this.state.qrcode})),i.a.createElement("div",{className:"text"},i.a.createElement("p",null,__("微信扫一扫分享"))))},i.a.createElement("a",{className:"social-share-wechat"},i.a.createElement(u.default,null))))))}}])&&v(t.prototype,n),o&&v(t,o),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.PureComponent);_.propTypes={book:l.a.object.isRequired,doc:l.a.object.isRequired};t.default=_}}]);