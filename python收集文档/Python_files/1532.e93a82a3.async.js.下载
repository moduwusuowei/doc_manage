/*! For license information please see 1532.e93a82a3.async.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1532,24,28,75,87,91,186,225,237,239,249,250,260,284,297,298,469,566,667,730,909,996,1013,1077,1084,1115,1246,1247,1284],{1012:function(e,t,r){"use strict";e.exports={DesktopBridgeBookEvents:{selectBook:"book.selectBook",addPin:"book.addPin",refreshPin:"app.refreshPin",addBook:"app.addBook"}}},1202:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(0);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){switch(t.type){case"init":return{response:null,error:null,loading:!0};case"success":return{response:t.response,error:null,loading:!1};case"error":return{response:null,error:t.error,loading:!1};default:return{response:null,error:null,loading:!1}}}function c(e){var t=Object(n.useRef)(0),r=o(Object(n.useReducer)(i,{response:null,loading:!1,error:null}),2),a=r[0],c=r[1];return{data:a.response,loading:a.loading,request:function(r,n){var o=++t.current;return c({type:"init"}),e(r,n).then((function(e){return o===t.current&&c({type:"success",response:e}),e})).catch((function(e){if(c({type:"error",error:e}),null!=n&&n.ignoreGlobalMessage)throw e;console.error(e)}))},error:a.error}}},121:function(e,t,r){"use strict";r(1451);var n=r(962);r(361);t.a=n.a},1212:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(){return o(Object(n.useReducer)((function(e){return e+1}),0),2)[1]}},1213:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{className:["larkui-icon","larkui-icon-check-outlined",e.className].filter(Boolean).join(" ")}),n.createElement("defs",null,n.createElement("path",{id:"2733936519a",d:"M0 0h256v256H0z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"2733936519b",fill:"#fff"},n.createElement("use",{xlinkHref:"#2733936519a"})),n.createElement("path",{d:"M221.256 54.188c4.315-4.277 11.28-4.247 15.556.068 4.202 4.239 4.246 11.036.155 15.329l-.223.227-133.162 132c-4.212 4.176-10.957 4.25-15.258.221l-.229-.22-68.838-68.217c-4.315-4.276-4.347-11.24-.07-15.556 4.2-4.24 10.997-4.344 15.326-.292l.23.221 61.094 60.543L221.256 54.188Z",fill:"currentColor",fillRule:"nonzero",mask:"url(#2733936519b)"})))},1214:function(e,t,r){"use strict";var n=r(211),o=r.n(n),a=r(80),i=r.n(a),c=r(145),l=r(426),u=r(113),s={getExportFormats:function(){return i.a.BOOK_EXPORT_FORMATS},adaptDocTypography:function(e){if(!e.doc_typography)return{type:c.DOC_TYPOGRAPHY.traditional,scope:"all"};var t=e.doc_typography.split("_");return 1===t.length?{type:t[0],scope:null}:{type:t[0],scope:t[1]}},actionsForNavMore:function(e,t,r){var n=e.abilities;if(!n)return[];var o=[];"Design"===e.type&&o.push({action:u.a.BOOK.manage_assets,can:n.create_doc}),o.push({action:u.a.BOOK.collaborators,can:n.create_doc}),s.isMixingType(e)&&o.push({action:u.a.BOOK.statistics,can:n.manage}),"Design"!==e.type&&o.push({action:u.a.BOOK.recycles,can:n.create_doc});var a=[];return a.push({action:u.a.BOOK.rename_book,can:n.modify_setting||n.manage}),a.push({action:u.a.BOOK.delete_book,can:n.destroy}),a.push({action:u.a.BOOK.settings,can:n.create_doc}),o.find((function(e){return e.can}))&&a.find((function(e){return e.can}))&&o.push({action:{cmd:"divider"}}),o.push.apply(o,a),o},sortByUpdatedAt:function(e,t){return new Date(e.content_updated_at)-new Date(t.content_updated_at)},sortByCreatedAt:function(e,t){return new Date(e.created_at)-new Date(t.created_at)},sortByTitle:function(e,t){return e.name.localeCompare(t.name,"zh-Hans-CN",{sensitivity:"accent"})},getBelong:function(e){var t={type:"",text:""};if(!e)return t;var r=e.user;return r?t={type:r.login,text:r.name}:t},getBelongs:function(e){var t=this,r=e.map((function(e){return t.getBelong(e)}));return(r=o()(r,"type").filter((function(e){return!!e.type}))).unshift({type:null,text:__("所有")}),r},filterByBelong:function(e,t){var r=this;return t?e.filter((function(e){return r.getBelong(e).type===t})):e},isMixingType:function(e){return!(!e||!e.type)&&c.MIXING_BOOK_TYPES.includes(e.type)},shouldShowTempStoreBox:function(e){var t;return null==e||null===(t=e.abilities)||void 0===t?void 0:t.create_doc},MEMBER_LIST_CONSTANT:{MAX_SIZE:2e3,PAGE_SIZE:500},getMemberCount:function(e,t){return e>s.MEMBER_LIST_CONSTANT.MAX_SIZE?"".concat(s.MEMBER_LIST_CONSTANT.MAX_SIZE,"+"):e<s.MEMBER_LIST_CONSTANT.PAGE_SIZE?(null==t?void 0:t.length)||0:e},getDefaultBookCover:function(){return l.defaultBookCovers}};t.a=s},1227:function(e,t,r){"use strict";var n=r(4),o=r(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},i=r(19),c=function(e,t){return o.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:a}))};c.displayName="DeleteOutlined";t.a=o.forwardRef(c)},1259:function(e,t,r){"use strict";var n=r(347);t.a=n.a},1319:function(e,t,r){e.exports=r(80)},1330:function(e,t,r){"use strict";function n(e,t){var r=document.createElement("a");r.setAttribute("href",URL.createObjectURL(e)),r.setAttribute("download",t),document.body.appendChild(r),r.click(),document.body.removeChild(r)}function o(e,t){var r=e.toDataURL("image/png"),n=document.createElement("a");n.setAttribute("href",r),n.setAttribute("download","".concat(t,".png")),document.body.appendChild(n),n.click(),document.body.removeChild(n)}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}))},136:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"e",(function(){return i})),r.d(t,"d",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"a",(function(){return u})),r.d(t,"h",(function(){return s})),r.d(t,"c",(function(){return f})),r.d(t,"g",(function(){return d})),r.d(t,"b",(function(){return p}));var i={URL_TYPE_LIST:["book-type-default","book-type-sheet","book-type-blog","book-icon-topic","group-type-project","book-type-manual","book-type-design","book-type-thread","group-type-interest","book-type-travel","group-type-default","book-type-reports","book-type-import","group-type-department","book-type-project","book-type-notes","book-type-resource","book-icon-yuque","book-icon-alibaba","book-icon-taobao","book-icon-alipay"],LEGACY_URL_TYPE_LIST:["books-url-wendangzhishiku","books-url-biaogezhishiku","books-url-boke","books-url-bokebeifen","books-url-bumen","books-url-chanpinshouce","books-url-huabanzhishiku","books-url-huati","books-url-lanqiubeifen","books-url-lvhanggonglve","books-url-morentuandui","books-url-tuanduizhoubao","books-url-wenjianjiabeifen","books-url-xiangmu","books-url-xiangmufangan","books-url-xuexibiji","books-url-ziyuanzhishiku","books-url-ali","books-url-taobao","books-url-zhifubao","books-url-yuque"],ICON_TYPE_LIST:["books-icon-default","books-icon-aixin","books-icon-baozhi","books-icon-biaoge","books-icon-biaoqian","books-icon-bikan","books-icon-boke","books-icon-chanpinwendang","books-icon-chucun","books-icon-dabiaowenjian","books-icon-dengpao","books-icon-duihua","books-icon-gerendangan","books-icon-huabao","books-icon-huati","books-icon-huati2","books-icon-hudun","books-icon-huojian","books-icon-huowu","books-icon-jiami","books-icon-jiangbei","books-icon-jihua","books-icon-lanqiu","books-icon-lingdang","books-icon-liucheng","books-icon-mubiao","books-icon-penzai","books-icon-qiqiu","books-icon-qunzu","books-icon-renwuliebiao","books-icon-rili","books-icon-suozhu","books-icon-tongxunlu","books-icon-tuandui","books-icon-wengao","books-icon-wenjiandai","books-icon-wenjiandai-2","books-icon-wenjianjia","books-icon-xiezuo","books-icon-xinfeng","books-icon-xingquxiaozu","books-icon-xuexibiji","books-icon-yingyuxuexi","books-icon-zhiding"],LEGACY_ICON_TYPE_LIST:["books-icon-wendang"],EMOJI_TYPE_LIST:[],BOOK_ICON_TYPE_MAP:{"books-icon-aixin":"group-type-interest","books-icon-baozhi":"book-type-blog","books-icon-biaoge":"book-type-sheet","books-icon-alibaba":"book-icon-alibaba","books-icon-bianzu":"book-icon-taobao","books-icon-bianzu-15":"book-icon-alipay","books-icon-biaoqian":"book-type-manual","books-icon-bikan":"group-type-project","books-icon-boke":"book-type-notes","books-icon-chanpinwendang":"book-type-project","books-icon-chucun":"book-type-resource","books-icon-dabiaowenjian":"book-type-travel","books-icon-default":"book-type-default","books-icon-dengpao":"group-type-project","books-icon-duihua":"book-icon-topic","books-icon-gerendangan":"book-type-manual","books-icon-huabao":"book-type-design","books-icon-huati":"group-type-department","books-icon-huati2":"book-type-thread","books-icon-hudun":"group-type-project","books-icon-huojian":"book-type-sheet","books-icon-huowu":"book-type-notes","books-icon-jiami":"book-type-import","books-icon-jiangbei":"group-type-project","books-icon-jihua":"book-type-reports","books-icon-lanqiu":"book-type-default","books-icon-lingdang":"group-type-department","books-icon-liucheng":"book-type-sheet","books-icon-mubiao":"group-type-project","books-icon-penzai":"book-type-default","books-icon-qiqiu":"book-type-default","books-icon-qunzu":"group-type-default","books-icon-renwuliebiao":"book-type-manual","books-icon-rili":"book-type-manual","books-icon-suozhu":"book-type-default","books-icon-tongxunlu":"group-type-interest","books-icon-tuandui":"group-type-default","books-icon-wendang":"book-type-default","books-icon-wengao":"book-type-blog","books-icon-wenjiandai":"book-type-project","books-icon-wenjiandai-2":"book-type-resource","books-icon-wenjianjia":"book-type-blog","books-icon-xiezuo":"book-type-blog","books-icon-xinfeng":"book-type-manual","books-icon-xingquxiaozu":"group-type-interest","books-icon-xuexibiji":"book-type-notes","books-icon-yingyuxuexi":"book-type-default","books-icon-yuque-logo":"book-icon-yuque","books-icon-zhiding":"book-type-default"}},c=["group-type-default","book-type-thread","book-type-blog","book-icon-topic","group-type-project","book-type-manual","book-type-design","book-type-sheet","group-type-interest","book-type-travel","book-type-default","book-type-reports","book-type-import","group-type-department","book-type-project","book-type-notes","book-type-resource","book-icon-yuque"],l=["group-earth","book-type-thread","book-type-blog","book-icon-topic","group-type-project","book-type-manual","book-type-design","book-type-sheet","group-type-interest","book-type-travel","book-type-default","book-type-reports","book-type-import","group-type-department","book-type-project","book-type-notes","book-type-resource","book-icon-yuque"],u={default:"book-type-default",book:"book-type-default",sheet:"book-type-sheet",design:"book-type-design",thread:"book-type-thread",resource:"book-type-resource",column:"book-type-blog",notes:"book-type-notes",blog:"book-type-blog",travel:"book-type-travel",project:"book-type-project",manual:"book-type-manual",reports:"book-type-reports",team_blog:"book-type-blog"},s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({default:"group-type-default",project:"group-type-project",department:"group-type-department",interest:"group-type-interest",commerce:"group-type-default",official_doc:"group-type-department"},Object.fromEntries(c.map((function(e){return[e,e]})))),f={doc:"doc-type-default",sheet:"doc-type-sheet",table:"doc-type-table",mind:"doc-type-mind",board:"doc-type-board",show:"file-ppt",thread:"book-type-thread",artboardgroup:"book-type-design",artboard:"book-type-design",note:"doc-type-note",actiontag:"book-type-resource",issue:"doc-type-task"},d={default:"book-type-thread",daily:"book-type-thread",weekly:"book-type-thread"},p={markdown:"doc-type-default",asl:"doc-type-default",lake:"doc-type-default",spreadjs:"doc-type-sheet",lakesheet:"doc-type-sheet",lakemind:"doc-type-mind",lakeboard:"doc-type-board",lakeshow:"file-ppt"}},1397:function(e,t,r){"use strict";var n=r(81),o=r.n(n),a=(r(1501),r(715)),i=r(58),c=r.n(i),l=r(86),u=r.n(l),s=r(0),f=r.n(s),d=r(2),p=r.n(d),h=r(5),m=r.n(h),y=r(87),v=r.n(y),b=(r(1392),["className","title"]);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=f.a.forwardRef((function(e,t){var r=e.className,n=e.title,o=u()(e,b),i={},l=m()("larkui-skeleton",r);return n?(n.size&&(l=m()(l,{"larkui-skeleton-title-sm":"sm"===n.size})),n.width&&(i.title={width:n.width})):i.title=n,f.a.createElement(a.a,c()({className:l,ref:t},i,o))}));_.propTypes=w(w({},a.a.SkeletonProps),{},{className:p.a.string}),v()(_,a.a),t.a=_},1398:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return d})),r.d(t,"e",(function(){return p}));var n=r(14),o=r.n(n),a=(r(218),r(419)),i=r(229);var c=r(181),l=r(11);function u(e,t,r,n){var o=i.b.getHost(),c="";switch(t){case a.b.BOOK:c="".concat(o,"/").concat(r.login,"/").concat(e.slug);break;case a.b.DOC:c="".concat(o,"/").concat(r.login,"/").concat(n.slug,"/").concat(e.slug);break;case a.b.NOTE:c="".concat(o,"/r/note/").concat(e.slug)}var l="",u="";if(t!==a.b.NOTE){"Sheet"===e.type&&(l=window.location.hash.slice(1));var s=e.title||e.name;s&&(u+="《".concat(s,"》"));var f=d(e,t,r,n).currentPassword;f&&(u+=" ".concat(__("密码：")).concat(f))}return{url:c,urlWithDesc:c+(l||u?"?".concat(t===a.b.DOC?"singleDoc":"","#").concat(l||""," ").concat(u||""):"")}}var s=function(e,t,r,n){var o=null==e?void 0:e.public;switch(t){case a.b.BOOK:o=Object(c.c)({type:"book",target:e,group:r});break;case a.b.DOC:o=Object(c.c)({type:"doc",target:e,group:r,book:n})}return{privacy:o,isShareActive:o!==l.PRIVACY.private}},f=function(e,t,r,n){var o=e.indexed_level,i=!1;t===a.b.DOC&&(Object(c.c)({type:"book",target:n,group:r})!==l.PRIVACY.private&&1===(null==n?void 0:n.indexed_level)&&(o=null==n?void 0:n.indexed_level,i=!0));return{currentIndexedLevel:o,isInheritBookIndex:i}},d=function(e,t,r,n){var o=e.password,i=!1;t===a.b.DOC&&(Object(c.c)({type:"book",target:n,group:r})!==l.PRIVACY.private&&null!=n&&n.password&&(o=null==n?void 0:n.password,i=!0));return{currentPassword:o,isInheritBookPassword:i}},p=function(e,t,r){if(!r&&e.public===l.PRIVACY.public&&t===a.b.DOC&&e.share_expired_time){var n=e.share_expired_time,i=new Date(e.share_expired_time),c=new Date(i.setMonth(i.getMonth()-6));return{startTime:o()(c).format("YYYY.MM.DD"),expiredTime:o()(n).format("YYYY.MM.DD")}}return null}},1399:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i}));var n=r(1012);function o(e){window.YuqueDesktopJSBridge.postMessage(n.DesktopBridgeBookEvents.addBook,e)}function a(e){window.YuqueDesktopJSBridge.postMessage(n.DesktopBridgeBookEvents.refreshPin,e)}function i(e){window.YuqueDesktopJSBridge.postMessage(n.DesktopBridgeBookEvents.selectBook,e)}},1400:function(e,t,r){"use strict";r(782);var n=r(379),o=r(0),a=r.n(o),i=r(2),c=r.n(i),l=r(51),u=r(362),s=r(951),f=(r(1392),r(1397)),d=r(420),p=r(45),h=r(1204),m=r(1442),y=r(1401),v=r(1443),b=r(490),g={userCard:"index-module_userCard_NOTbr",body:"index-module_body_20bgh",avatar:"index-module_avatar_OBHFJ",userInfos:"index-module_userInfos_B16Pa",nameContainer:"index-module_nameContainer_elI96",name:"index-module_name_QeZm4",dingtalk:"index-module_dingtalk_kYXBj",badge:"index-module_badge_lsJBP",dingding:"index-module_dingding_l7pi0",infoWithBg:"index-module_infoWithBg_JGcdP",signature:"index-module_signature_aQ+Wz",infoList:"index-module_infoList_Y58li",infoItem:"index-module_infoItem_same7",icon:"index-module_icon_MGwU8",footer:"index-module_footer_FNHCP",follow:"index-module_follow_1HgLb",footerItem:"index-module_footerItem_H0y7j",number:"index-module_number_NahUE",userLink:"index-module_userLink_i0XYI",skeleton:"index-module_skeleton_Z4M4v",infoDetail:"index-module_infoDetail_dKXCO"};function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E={mobile:"user-mobile",email:"user-email",departments:"user-department-opa",job_title:"user-job",location:"user-location"},O=function(e){var t=e.style,r=void 0===t?{}:t,n=e.className,i=void 0===n?"":n,c=e.user,u=void 0===c?{}:c,s=e.profile,_=void 0===s?{}:s,O=e.loading,S=e.isInGroup,A=e.userAvatar,k=u.avatar_url,j=u.avatar,x=u.description,C=u.followers_count,P=u.following_count,I=u.name,T=u.id,N=window.appData,L=N.isYuque,D=N.isPublicCloud,R=N.organization,M=w(Object(o.useState)(),2),B=M[0],F=M[1],G=w(Object(o.useState)(null),2),z=G[0],U=G[1],q=w(Object(o.useState)(null),2),W=q[0],V=q[1],H=_.dingtalk_id,Y=_.orgName,K=_.role,Q=_.status,Z=_.isPublicUser,X=Q===d.organizationUser.STATUS.terminated,J=K===d.organizationUser.ROLE.outsourcer,$=R&&Z,ee=R&&(null==R?void 0:R.id);Object(o.useEffect)((function(){U("following_count"in _?_.following_count||0:P||0),V("followers_count"in _?_.followers_count||0:C||0)}),[_]);var te=function(){B||l.a.users.mobile({id:T}).then(F)},re=function(e){return e.map((function(e){return{key:e,icon:E[e],value:_[e]}})).filter((function(e){return!!e.value}))},ne=[];ne=re(L?R?["mobile","email","departments","job_title"]:["location","job_title"]:["departments","job_title"]);var oe=null;$?oe=a.a.createElement("div",{className:g.infoWithBg},__("非本空间成员")):X?oe=a.a.createElement("div",{className:g.infoWithBg},D?__("已离职"):__("已退隐江湖")):J&&(oe=a.a.createElement("div",{className:g.infoWithBg},__("外部联系人")));var ae,ie=!R&&(!X&&!J&&!$&&_.enable_home);if(ee){var ce={avatar:(ae=_).avatar||k,name:ae.orgName,description:ae.description,departments:null==ae?void 0:ae.departments,job_title:ae.job_title,location:ae.location,role:null==ae?void 0:ae.role,status:null==ae?void 0:ae.status};return a.a.createElement(v.b,{orgUser:ce,user:u,organization:R})}return a.a.createElement("div",{className:"".concat(i," ").concat(g.userCard),style:r,"data-aspm":"c39373"},a.a.createElement("div",{className:g.body},ee?a.a.createElement(b.a,{src:A||k||j,size:48,className:g.avatar,bordered:!0}):a.a.createElement("a",{href:"/".concat(u.login),target:"_blank","data-desktoptarget":"_browser"},a.a.createElement(b.a,{src:A||k||j,size:48,className:g.avatar,bordered:!0})),a.a.createElement("div",{className:g.userInfos},a.a.createElement("div",{className:g.nameContainer},ee?a.a.createElement("span",{className:g.name},Y||I):a.a.createElement("a",{href:"/".concat(u.login),target:"_blank","data-desktoptarget":"_browser",className:g.name},Y||I),H&&a.a.createElement("a",{href:"dingtalk://dingtalkclient/action/sendmsg?dingtalk_id=".concat(H),className:g.dingtalk,"data-testid":"dingtalk","data-aspm-click":"d001","data-desktoptarget":"_browser"},a.a.createElement(p.b,{name:"dingding-filled",className:g.dingding})),a.a.createElement(h.a,{user:u,useMobile:!0,className:g.badge}),oe),a.a.createElement("div",{className:g.signature},x||""),O&&a.a.createElement("div",{className:g.skeleton},a.a.createElement(f.a,{active:!0,title:!1})),ne&&ne.length>0?a.a.createElement("div",{className:g.infoList,style:{marginTop:S?0:10}},ne.map((function(e){return function(e){return"departments"===e.key?e.value.map((function(t,r){return a.a.createElement("div",{className:g.infoItem,key:e.key+r,"data-testid":e.key},a.a.createElement(p.b,{name:e.icon,width:16,className:g.icon}),a.a.createElement("span",{className:g.infoDetail},t))})):a.a.createElement("div",{className:g.infoItem,key:e.key,"data-testid":e.key},a.a.createElement(p.b,{name:e.icon,width:16,className:g.icon}),"mobile"===e.key?a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:g.infoDetail},B||e.value),!B&&a.a.createElement("a",{onClick:te},__("查看"))):a.a.createElement("span",{className:g.infoDetail},e.value))}(e)}))):null)),!!ie&&a.a.createElement("div",{className:g.footer},a.a.createElement("div",{className:g.follow},a.a.createElement("div",{className:g.footerItem},__("粉丝"),a.a.createElement("span",{className:g.number},W)),a.a.createElement("div",{className:g.footerItem},__("关注"),a.a.createElement("span",{className:g.number},z))),a.a.createElement(y.a,null,a.a.createElement(m.a,{user:u,className:g.followBtn}))))};O.propTypes={user:c.a.object.isRequired,profile:c.a.object,style:c.a.object,className:c.a.string,loading:c.a.bool,isInGroup:c.a.bool};var S=O,A=r(154),k="index-module_popover_Xyidp",j="index-module_overlay_A0ouW";function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P=function(e){var t=e.user,r=void 0===t?{}:t,i=e.children,c=e.style,f=void 0===c?{}:c,d=e.className,p=void 0===d?"":d,h=e.isInGroup,m=e.userAvatar,y=void 0===m?"":m,v=r&&r.id,b=x(Object(o.useState)("topLeft"),2),g=b[0],w=b[1],_=Object(o.useRef)(null),E=Object(s.b)(),O=Object(u.a)(l.a.users.profile),C=O.data,P=O.loading,I=O.request;if(null==v||A.a.isGroupOrPublication(r))return i;return window.h5?i:a.a.createElement(n.a,{placement:g,content:a.a.createElement(S,{isInGroup:h,user:r,profile:C||{},loading:P,userAvatar:y}),style:f,className:"".concat(p," ").concat(k),overlayClassName:j,mouseEnterDelay:.3},a.a.createElement("span",{onMouseOver:function(){var e=_&&_.current.getBoundingClientRect().top;w(e<240?"bottomLeft":"topLeft"),C||P||!E||I({id:v})},ref:_,"data-testid":"content",style:{cursor:"pointer"}},i))};P.propTypes={user:c.a.object.isRequired,style:c.a.object,className:c.a.string,children:c.a.any,isInGroup:c.a.bool};t.a=P},1401:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));r(151);var n=r(66),o=r(0),a=r.n(o),i=r(5),c=r.n(i),l=r(951),u=r(24),s="index-module_offlineButton_XZkWh",f="index-module_disabledStyle_MeBOz",d=function(e){var t=e.children,r=e.buttonClassName,o=e.tooltipPlacement,i=void 0===o?"bottom":o,d=Object(l.b)();return t?!d&&u.g?a.a.createElement(n.a,{title:__("离线状态该功能不可用"),placement:i,autoAdjustOverflow:!0},a.a.createElement("div",{className:c()(r,s)},a.a.createElement("div",{className:f},t))):a.a.createElement("div",{className:r},t):null}},1404:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(n=r(1619))&&n.__esModule?n:{default:n};t.default=o,e.exports=o},1405:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(n=r(1621))&&n.__esModule?n:{default:n};t.default=o,e.exports=o},1406:function(e,t,r){"use strict";r.d(t,"a",(function(){return W})),r.d(t,"i",(function(){return V})),r.d(t,"e",(function(){return H})),r.d(t,"p",(function(){return K})),r.d(t,"c",(function(){return Q})),r.d(t,"n",(function(){return Z})),r.d(t,"o",(function(){return X})),r.d(t,"l",(function(){return J})),r.d(t,"h",(function(){return ee})),r.d(t,"j",(function(){return te})),r.d(t,"b",(function(){return ne})),r.d(t,"m",(function(){return oe})),r.d(t,"k",(function(){return ie})),r.d(t,"f",(function(){return ce})),r.d(t,"g",(function(){return le})),r.d(t,"d",(function(){return ue})),r.d(t,"q",(function(){return se}));r(581);var n=r(301),o=(r(489),r(98)),a=(r(1432),r(1430)),i=(r(782),r(379)),c=(r(361),r(121)),l=(r(151),r(66)),u=r(0),s=r.n(u),f=r(2),d=r.n(f),p=r(5),h=r.n(p),m=r(1213),y=r(78),v=r(11),b=r(701),g=r(956),w=g.b,_=r(45),E=r(1219),O={wrap:"index-module_wrap_iKZPE",close:"index-module_close_mZbMN",icon:"index-module_icon_gxtpV",closeIcon:"index-module_closeIcon_kM1zW"};function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k=function(e){var t=e.icon,r=e.content,n=e.style,o=e.showClose,a=S(Object(u.useState)(!0),2),i=a[0],c=a[1];return i?s.a.createElement("div",{className:O.wrap,style:n},t&&s.a.createElement("div",{className:O.icon},t),s.a.createElement("div",{className:O.content},r),o&&s.a.createElement("div",{className:O.close,onClick:function(){c(!1)}},s.a.createElement("span",{className:h()("lake-icon","lake-icon-close",O.closeIcon)}))):null};k.propTypes={icon:d.a.node,content:d.a.node.isRequired,style:d.a.object,showClose:d.a.bool};var j=k,x=r(181),C=r(216),P=r(1398),I=r(703),T=r(283),N=r(554),L=r(24),D={articleTitle:"index-module_articleTitle_VJTLJ",popover:"index-module_popover_nfMC3",belongMenu:"index-module_belongMenu_2QmLB",belongText:"index-module_belongText_TkCAl",belongMenuOverlay:"index-module_belongMenuOverlay_ua9Uh",belongMenuLabel:"index-module_belongMenuLabel_Eor0q",privacy:"index-module_privacy_QkaFB"};function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function M(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var W={},V=function(e){var t=e.className,r=e.type,n=void 0===r?"doc":r,o=e.width,a=void 0===o?20:o;return s.a.createElement(_.b,{className:"doc-icon ".concat(t),name:N.b.getName("Doc",{type:n}),width:a})};W.getTypeText=function(e){var t=e;return"Doc"===e?t=__("文档#lower_case"):"Sheet"===e?t=__("表格#lower_case"):"Table"===e?t=__("数据表#lower_case"):"Board"===e&&(t=__("画板#lower_case")),t},W.getTypeTextOfBook=function(e){var t=e;return"Book"===e?t=__("文档"):"Sheet"===e&&(t=__("表格")),t},W.getFormalTitle=function(e){return e.title},W.getDefaultTitle=T.a.getDefaultTitle;var H=function(e){var t=e.doc,r=e.showType,n=e.showAuthor,o=void 0===n||n,a=T.a.getDocShowAuthorOption(t);return o&&a!==y.SHOW_AUTHOR_OPTION.hide?"sheet"===r?s.a.createElement("div",{"data-testid":"doc-contributors-wrapper-sheet"},s.a.createElement("span",{className:"larkicon larkicon-user"}),s.a.createElement("span",{className:D.label},__("参与编辑：")," "),s.a.createElement(Y,{doc:t,showAuthor:!0})):"doc"===r?s.a.createElement("div",{"data-testid":"doc-contributors-wrapper-doc",className:"meta-item"},s.a.createElement(l.a,{title:__("参与编辑")},s.a.createElement("span",{className:"author larkicon larkicon-user"})),s.a.createElement(Y,{doc:t,showAuthor:o})):s.a.createElement(Y,{doc:t,showAuthor:o}):null};H.propTypes={doc:d.a.object.isRequired,showAuthor:d.a.bool.isRequired,showType:d.a.oneOf(["sheet","doc"])};var Y=function(e){var t=e.doc,r=T.a.getDocShowAuthorOption(t);if(r===y.SHOW_AUTHOR_OPTION.hide)return null;if(r===y.SHOW_AUTHOR_OPTION.custom_text){var n=T.a.getDocShowAuthorCustomText(t);return n?s.a.createElement("span",{"data-testid":"doc-contributors-custom-text"},n):null}var o=T.a.getDocContributors(t);if(!o||0===o.length)return null;var a=o.slice(0,3);return s.a.createElement("span",{"data-testid":"doc-contributors",className:"doc-contributors"},a.map((function(e,t){return e&&s.a.createElement("span",{key:e.id},s.a.createElement(w,{user:e,type:g.a.link,withCard:!0,className:D.popover}),t!==a.length-1&&__("、"))})),o.length>3&&s.a.createElement("span",null,__("等")))};Y.propTypes={doc:d.a.object.isRequired};var K=function(e){var t=e.doc,r=e.hasDraftSign,n=W.getFormalTitle(t);return r&&0===t.status?s.a.createElement("span",{className:"doc-title",title:n},s.a.createElement("span",{className:"doc-title-draft"},"[",__("草稿"),"]"),n):s.a.createElement("span",{className:"doc-title",title:n},n)};K.propTypes={hasDraftSign:d.a.bool,doc:d.a.object};var Q=function(e){var t=e.title;return s.a.createElement("h1",{id:"article-title",className:h()(D.articleTitle,"doc-article-title")},t)},Z=function(e){return"YUQUE_TEMPLATE"===e.tag?s.a.createElement(c.a,{className:"doc-template-tag"},__("模板")):null},X=function(e){var t=e.doc;return t.content_updated_at&&t.content_updated_at!==t.created_at?s.a.createElement("span",{className:"doc-time"},__("更改于"),s.a.createElement(b.a,{time:new Date(t.content_updated_at)})):s.a.createElement("span",{className:"doc-time"},__("创建于"),s.a.createElement(b.a,{time:new Date(t.created_at)}))},J=function(e){var t=e.doc,r=t[e.showBy]||t.content_updated_at;return s.a.createElement("span",{className:"doc-time"},s.a.createElement(b.a,{time:new Date(r)}))},$=function(){return s.a.createElement("div",{className:"doc-draft-tip-content"},s.a.createElement("p",null,__("当前内容与编辑态不一致，请去编辑态进一步操作")))},ee=function(e){var t=e.doc,r=e.className;return t.content_modified?"Sheet"===t.type||"Table"===t.type?s.a.createElement("div",{className:r,title:__("当前展示不是最新版本，可点击编辑按钮查看最新内容，并进行发布或更新")},s.a.createElement(_.b,{name:"doc-has-new-content",height:18,width:18}),s.a.createElement("p",null,__("当前展示不是最新版本，可点击编辑按钮查看最新内容，并进行发布或更新"))):s.a.createElement(j,{style:{marginBottom:"Doc"===t.type?24:0},icon:s.a.createElement(_.b,{name:"edit-border",height:18,width:18}),content:s.a.createElement($,{doc:t}),showClose:"Doc"===t.type}):null};ee.propTypes={doc:d.a.object.isRequired,className:d.a.string};d.a.object.isRequired;var te=function(e){var t=e.doc,r=e.url,n=e.target,o=e.desktopTarget,a=void 0===o?"_blank":o,i=window.appData.isAlipayWebApp||window.appData.isDingTalkMiniApp||window.appData.isYuqueMobileApp?"_blank":"_self";return s.a.createElement("a",{href:r,target:n||i,className:"doc-link","data-desktoptarget":a,onClick:function(){L.f&&Object(I.c)(r)}},s.a.createElement(K,{doc:t}))};te.propTypes={doc:d.a.object,url:d.a.string,target:d.a.string,desktopTarget:d.a.string};var re=function(e){var t=e.organization,r=e.doc,n=e.book,o=e.group,a=e.getPopupContainer,i=e.placement,c=void 0===i?"bottom":i,u=e.onlyIcon;if(window.appData.sharePage)return null;if(null==r||!r.id)return null;if(n){var f=Object(x.c)({type:"doc",target:r,group:o,book:n}),d=function(){return f!==v.PRIVACY.private?"icon-public":(null==n||n.extend_private,v.EXTEND_PRIVATE.BIND_DEPARTMENTS,"permission-private")};return u?s.a.createElement(l.a,{title:Object(x.d)({privacy:f,type:"doc",organization:t,group:o,book:n}),getPopupContainer:a,placement:c},s.a.createElement(_.b,{name:d(),width:14,height:14})):s.a.createElement(l.a,{title:Object(x.d)({privacy:f,type:"doc",organization:t,group:o,book:n}),getPopupContainer:a,placement:c},s.a.createElement("span",{className:"doc-access-scope"},s.a.createElement(_.b,{name:d(),width:14,height:14})))}return null},ne=function(e){return s.a.createElement(C.a,{withFallbackUI:!0,noMessage:!0,fallbackUI:function(){return s.a.createElement("span",{"data-test-id":"doc-access-scope"})}},s.a.createElement(re,e))};ne.propTypes={group:d.a.object.isRequired,book:d.a.object.isRequired,doc:d.a.object.isRequired,organization:d.a.object,getPopupContainer:d.a.func,placement:d.a.string,onlyIcon:d.a.bool};var oe=function(e){var t=e.doc,r=e.withTip,n=void 0===r||r;if(0!==t.status)return null;var o=s.a.createElement("div",{className:"doc-draft-tip",style:{width:"360px"}},s.a.createElement($,{doc:t})),a=s.a.createElement(c.a,{className:"doc-draft-tag","data-testid":"doc-draft-tag",onClick:function(e){e.stopPropagation(),e.preventDefault()}},t.published_at?__("未更新"):__("未发布"));return n?s.a.createElement(i.a,{placement:"bottomLeft",content:o},a):a};oe.displayName="LarkDocStatus";var ae=function(e){var t=e.doc,r=e.group,n=e.book;if(t.public!==v.PRIVACY.private){var o=Object(P.a)(t,"DOC",r,n);return s.a.createElement(c.a,{className:"doc-share-tag"},s.a.createElement("a",{href:o.url,target:"_blank"},__("分享中")))}return null},ie=function(e){return s.a.createElement(C.a,{withFallbackUI:!0,noMessage:!0,fallbackUI:function(){return s.a.createElement("span",{"data-test-id":"doc-ShareLink-tag"})}},s.a.createElement(ae,e))};ie.propTypes={group:d.a.object.isRequired,book:d.a.object.isRequired,doc:d.a.object.isRequired},ie.displayName="LarkShareLink";var ce=function(e){var t=e.doc,r=e.size,n=void 0===r?{}:r,o=e.placeholder,a=t.cover||o;return a?s.a.createElement("div",{style:{width:"100%",height:"100%",backgroundSize:"cover",backgroundPosition:"center",backgroundImage:'url("'.concat(Object(E.a)(a,U({},n)),'")')}}):s.a.createElement(_.b,{name:t.type.toLowerCase(),width:48})},le=function(e){var t=e.doc,r=e.highlightUsers;if(T.a.getDocShowAuthorOption(t)===y.SHOW_AUTHOR_OPTION.hide)return s.a.createElement("span",{className:"info-not-show-creator"},__("不显示作者"));var n=T.a.getDocContributors(t);return n?(Array.isArray(n)||(n=[n]),s.a.createElement(l.a,{title:function(){return n.map((function(e){return e.name})).join("、")}},s.a.createElement("span",null,n.reduce((function(e,t,n){return null!=r&&r.includes(String(t.id))?(e.unshift.apply(e,[s.a.createElement("a",{href:"/".concat(t.login)},s.a.createElement("b",null,t.name)),"、"]),e):(e.push.apply(e,[s.a.createElement("a",{"data-desktoptarget":"_browser",href:"/".concat(t.login)},t.name),"、"]),e)}),[]).slice(0,-1)))):null},ue=function(e){var t=e.belongs,r=e.onChange,n=e.overlayClassName,o=e.overlayPlacement;function i(e){var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=F(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.text||(n.text=n.label,n.label=s.a.createElement("span",{className:D.belongMenuLabel},s.a.createElement(m.default,null),s.a.createElement("span",null,n.label)),n.children&&n.children.length&&i(n.children))}}catch(e){r.e(e)}finally{r.f()}return e}var c=B(s.a.useState(""),2),l=c[0],u=c[1],f=B(s.a.useState(M(t)),2),d=f[0],p=f[1];s.a.useEffect((function(){p(i(M(t)))}),[t]);return!d||d.length<=1?s.a.createElement("span",{className:D.belongText},l||__("归属")):s.a.createElement(a.a,{defaultValue:[null],popupClassName:h()(D.belongMenuOverlay,n),popupPlacement:o||"bottomLeft",options:d,onChange:function(e,t){r(e),e&&e[0]?u(t.map((function(e){return e.text})).join(" / ")):u("")},changeOnSelect:!0},s.a.createElement("span",{className:D.belongMenu},s.a.createElement("span",{className:D.belongText},l||__("归属")),s.a.createElement(_.b,{name:"arrow-down",width:16})))};ue.propTypes={belongs:d.a.array.isRequired,onChange:d.a.func.isRequired,overlayClassName:d.a.string,overlayPlacement:d.a.string};var se=function(e){var t=e.current,r=e.onChange,a=e.overlayClassName,i=e.overlayPlacement,c=[{name:__("所有"),value:""},{name:__("文档"),value:"Doc"},{name:__("表格"),value:"Sheet"},{name:__("画板"),value:"Board"},{name:__("数据表"),value:"Table"}];t||(t="");var l=c.find((function(e){return e.value===t}));return s.a.createElement(n.a,{trigger:"click",placement:i||"bottomLeft",overlay:s.a.createElement(o.a,null,c.map((function(e){return s.a.createElement(o.a.Item,{key:e.value,onClick:function(){r(e.value)}},t===e.value&&s.a.createElement(m.default,null),e.name)}))),overlayClassName:a},s.a.createElement("span",null,l.value?l.name:__("类型")," ",s.a.createElement(_.b,{name:"arrow-down",width:16})))};se.propTypes={current:d.a.string.isRequired,onChange:d.a.func.isRequired,overlayClassName:d.a.string,overlayPlacement:d.a.string}},1412:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-comment-hide",e.className].filter(Boolean).join(" ")}),n.createElement("defs",null,n.createElement("path",{id:"2573787990a",d:"M0 0h256v256H0z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M128 16c61.856 0 112 50.144 112 112s-50.144 112-112 112S16 189.856 16 128 66.144 16 128 16Zm0 20c-50.81 0-92 41.19-92 92s41.19 92 92 92 92-41.19 92-92-41.19-92-92-92Zm55.143 52.902c3.795 3.873 3.801 10.047.067 13.928l-.212.213-63.285 62a10 10 0 0 1-13.776.209l-.219-.208-32.715-32.041c-3.946-3.865-4.012-10.196-.147-14.142 3.794-3.873 9.966-4.007 13.924-.354l.217.207 25.717 25.187 56.288-55.144c3.945-3.865 10.276-3.8 14.141.145Z",fill:"currentColor",fillRule:"nonzero"})))},1413:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({viewBox:"64 64 896 896",fill:"currentColor",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-antd-undo",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 0 0-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 0 1-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 0 1-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 0 0-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}))},1414:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-closecircleoutlined",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M128 16c61.856 0 112 50.144 112 112s-50.144 112-112 112S16 189.856 16 128 66.144 16 128 16Zm0 20c-50.81 0-92 41.19-92 92s41.19 92 92 92 92-41.19 92-92-41.19-92-92-92Zm44.071 47.929c3.834 3.834 3.904 10.007.21 13.927l-.21.215-29.725 29.725 29.773 30.181.208.217c3.668 3.944 3.556 10.117-.304 13.925-3.932 3.879-10.263 3.836-14.142-.096l-29.678-30.084-30.132 30.132c-3.905 3.905-10.237 3.905-14.142 0-3.834-3.834-3.904-10.007-.21-13.927l.21-.215 30.227-30.229-29.275-29.677-.208-.217c-3.668-3.944-3.556-10.117.304-13.925 3.932-3.879 10.263-3.836 14.142.096l29.18 29.58 29.63-29.628c3.905-3.905 10.237-3.905 14.142 0Z",fill:"currentColor",fillRule:"nonzero"}))},1424:function(e,t,r){"use strict";r(131);var n=r(43),o=(r(142),r(28)),a=(r(151),r(66)),i=(r(381),r(183)),c=(r(41),r(10)),l=r(0),u=r.n(l),s=r(2),f=r.n(s),d=r(5),p=r.n(d),h=r(188),m={fileTypeSelector:"index-module_fileTypeSelector_73BHW",item:"index-module_item_H3xgY",fileType:"index-module_fileType_l65Jm",fileTypeIcon:"index-module_fileTypeIcon_eSmiM",fileTypeMeta:"index-module_fileTypeMeta_4eYr8",fileTypeName:"index-module_fileTypeName_9B0Rn",fileTypeExt:"index-module_fileTypeExt_wTTFB",fileTypeReady:"index-module_fileTypeReady_TAUvL"},y=(r(42),r(9)),v=r(65),b=r.n(v),g=r(45),w="EvernoteDirUpload-module_dragZone_qrdZx",_="EvernoteDirUpload-module_tip_FtuKl",E="EvernoteDirUpload-module_icon_ZYE-k",O="EvernoteDirUpload-module_dragOver_0DaAV";function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function A(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=x(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function k(){k=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:x(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(N([])));E&&E!==r&&n.call(E,i)&&(w=E);var O=g.prototype=v.prototype=Object.create(w);function A(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==S(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function x(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(S(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},A(j.prototype),u(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function j(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function I(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){P(a,n,o,i,c,"next",e)}function c(e){P(a,n,o,i,c,"throw",e)}i(void 0)}))}}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===S(a)?a:String(a)),n)}var o,a}var N=b()("evernotedirupload"),L=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o,a,i,c;return t=e,n=null,o=[{key:"genZipFileFromDrop",value:(c=I(k().mark((function t(r){var n,o,a,i;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==(n=r.files).length||!n[0].name.endsWith(".zip")){t.next=4;break}return N("zip文件，直接返回"),t.abrupt("return",n[0]);case 4:return o=j(r.items).map((function(e){return e.webkitGetAsEntry?e.webkitGetAsEntry():null})).filter(Boolean),N({entries:o}),t.prev=6,t.next=9,e.getFileList(o);case 9:return a=t.sent,t.next=12,e.evernoteDirToZip(a);case 12:return i=t.sent,t.abrupt("return",i);case 16:return t.prev=16,t.t0=t.catch(6),t.abrupt("return",Promise.reject(t.t0));case 19:case"end":return t.stop()}}),t,null,[[6,16]])}))),function(e){return c.apply(this,arguments)})},{key:"evernoteDirToZip",value:(i=I(k().mark((function e(t){var n,o,a,i,c,l,u,s,f,d,p,h;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(1169).then(r.t.bind(null,5709,7));case 2:n=e.sent.default,N(n),o=new n,a="evernote_zip_".concat((new Date).toISOString(),".zip"),N(t),i=0,1===t.length&&(a="".concat(t[0][0].fullPath.split("/")[0],".zip")),c=A(t);try{for(c.s();!(l=c.n()).done;){u=l.value,s=A(u);try{for(s.s();!(f=s.n()).done;)d=f.value,p=d.fullPath,i++,N("zipped",p),o.file(p,d.file)}catch(e){s.e(e)}finally{s.f()}}}catch(e){c.e(e)}finally{c.f()}if(i){e.next=13;break}throw new Error("none of the given files is zipped");case 13:return e.next=15,o.generateAsync({type:"blob"});case 15:return h=e.sent,e.abrupt("return",new File([h],a));case 17:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"getFileList",value:(a=I(k().mark((function t(r){var n,o,a,i,c,l,u;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u=function(){return u=I(k().mark((function t(r){var n,o,a,i=arguments;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:[],r){t.next=3;break}return t.abrupt("return",n);case 3:if(!r.isDirectory){t.next=9;break}return o=r.createReader(),t.next=7,new Promise((function(e){o.readEntries(function(){var t=I(k().mark((function t(r){var o,a,i;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=A(r),t.prev=1,o.s();case 3:if((a=o.n()).done){t.next=9;break}return i=a.value,t.next=7,l(i,n);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),o.e(t.t0);case 14:return t.prev=14,o.f(),t.finish(14);case 17:e(null);case 18:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})));return function(e){return t.apply(this,arguments)}}())}));case 7:t.next=14;break;case 9:if(!r.isFile){t.next=14;break}return t.next=12,e.getFileOfEntry(r);case 12:a=t.sent,n.push({file:a,fullPath:r.fullPath.slice(1)});case 14:return t.abrupt("return",n);case 15:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)},l=function(e){return u.apply(this,arguments)},n=[],o=A(r),t.prev=4,o.s();case 6:if((a=o.n()).done){t.next=14;break}return i=a.value,t.next=10,l(i);case 10:c=t.sent,n.push(c);case 12:t.next=6;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),o.e(t.t0);case 19:return t.prev=19,o.f(),t.finish(19);case 22:return N("解析出的文件",n),t.abrupt("return",n);case 24:case"end":return t.stop()}}),t,null,[[4,16,19,22]])}))),function(e){return a.apply(this,arguments)})},{key:"getFileOfEntry",value:function(e){return new Promise((function(t,r){e.file((function(e){t(e)}),(function(e){r(e)}))}))}}],n&&T(t.prototype,n),o&&T(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),D=["onBeforeUpload","onUploadChange","setImportModalHide","buttonNode","data"];function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R.apply(this,arguments)}function M(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var B=b()("evernotedirupload"),F=function(e){e.onBeforeUpload,e.onUploadChange,e.setImportModalHide,e.buttonNode;var t=e.data,n=M(e,D);Object(l.useEffect)((function(){r.e(1169).then(r.t.bind(null,5709,7))}),[]);var o=function(t,r,n){if("function"==typeof e.onChange&&t){B(n,r);var o={uid:Math.random().toString(32),name:t.name,status:r,percent:100,response:n};e.onChange({file:o,fileList:[o]})}};return u.a.createElement(u.a.Fragment,null,u.a.createElement(i.a,R({},n,{data:t,onChange:function(e){var t;null===(t=n.onChange)||void 0===t||t.call(n,e)}}),u.a.createElement("div",{className:w,onDragOver:function(e){e.preventDefault(),e.currentTarget.classList.add(O)},onDragLeave:function(e){e.preventDefault(),e.target===e.currentTarget&&e.currentTarget.classList.remove(O)},onDrop:function(e){e.preventDefault(),e.stopPropagation(),c.a.loading({content:__("文件正在解析中..."),duration:0,key:"generating_zip"}),L.genZipFileFromDrop(e.dataTransfer).then((function(e){if(!n.customRequest)throw new Error("lack of customRequest");n.customRequest&&n.customRequest({file:e,data:t(),action:n.action,method:n.method,onError:function(){o(e,"error")},onProgress:function(){o(e,"uploading")},onSuccess:function(t){B("上传接口调用成功",t),o(e,"done",t)}})})).catch((function(e){B(e),c.a.error(__("文件处理失败，请重新上传，如果持续失败，请反馈到语雀。"))})).finally((function(){c.a.destroy("generating_zip")}))}},u.a.createElement(g.b,{name:"DoubleArrowDown",className:E}),u.a.createElement("div",{className:_},u.a.createElement("span",null,__("可直接拖入一个文件夹或.zip压缩包"))),u.a.createElement(y.a,null,__("上传文件")))))},G=r(315);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K(n.key),n)}}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=H(e);if(t){var o=H(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return V(e)}(this,r)}}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}function Y(e,t,r){return(t=K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e){var t=function(e,t){if("object"!==z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===z(t)?t:String(t)}function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q.apply(this,arguments)}function Z(){Z=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==r&&n.call(E,i)&&(w=E);var O=g.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==z(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=j(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(z(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function X(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function J(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){if(e){if("string"==typeof e)return te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?te(e,t):void 0}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var re={lake:__("语雀文档"),lakeboard:__("语雀画板"),lakesheet:__("语雀表格"),laketable:__("语雀数据表"),lakebook:__("语雀知识库")},ne=function(e){var t,r=e.fileOption,n=e.getParamsOption,o=e.book,a=e.importType,s=e.onBeforeUpload,f=e.onUploadChange,d=e.customRequest,p=e.maxCount,m=e.setModalHide,y=$(Object(l.useState)([]),2),v=y[0],b=y[1],g=function(e){var t=J(e.fileList);b(t),f(e)},w=function(){var e,r=(e=Z().mark((function e(r,n){var o;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(p&&n.length>p)){e.next=4;break}throw o="一次最多上传 ".concat(p," 个文件。"),t||(c.a.warn(__(o)),t=!0),new Error(o);case 4:if(!s){e.next=7;break}return e.next=7,s();case 7:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){X(a,n,o,i,c,"next",e)}function c(e){X(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}(),_=function(){var e=r.extensions.join(", "),t="/api/import?ctoken=".concat(Object(h.a)(window)),i={book_id:o.id,type:r.key,import_type:a},c={name:"file",action:t,data:function(){if(n){var e=n();e&&(i.options=JSON.stringify(e))}return i},showUploadList:!1,dataType:"json",multiple:!0,supportServerRender:!1,accept:e,withCredentials:!0,beforeUpload:w,onChange:g};return"function"==typeof d&&(c.customRequest=d),c};return"evernote"===r.key?u.a.createElement(u.a.Fragment,null,u.a.createElement(G.a,{mt:-40}),u.a.createElement(F,Q({},_(),{onBeforeUpload:s,onUploadChange:f,setImportModalHide:m,buttonNode:e.children}))):u.a.createElement(i.a,Q({},_(),{fileList:v,key:r.key}),e.children)};ne.defaultProps={maxCount:10};var oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(l,e);var t,r,i,c=W(l);function l(e){var t,r;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),Y(V(t=c.call(this,e)),"handleSelect",(function(e){t.setState({selected:e}),t.props.onSelect(e)})),Y(V(t),"getDescription",(function(e){return(e.fakeExtensions||e.extensions).join(" ")})),t.state={selected:null},"export"===e.mode)&&(null===(r=e.types)||void 0===r||r.forEach((function(e){e.extensions.length=1})));return t}return t=l,(r=[{key:"renderItem",value:function(e){var t,r=this,n="ready"===e.status,o=this.props.mode,i=u.a.createElement("div",{className:p()((t={},Y(t,m.fileType,!0),Y(t,m.fileTypeReady,n),Y(t,m.fileTypeSelected,this.state.selected===e.key),t)),onClick:function(){r.handleSelect(e.key)},"data-aspm-click":"c34618.d69452","data-aspm-param":"file_type=".concat(e.key,"^action_mode=").concat(o),"data-testid":"fileTypeSelectorItem-".concat(e.key)},u.a.createElement("div",{className:m.fileTypeIcon},u.a.createElement("img",{src:e.icon,className:""})),u.a.createElement("div",{className:m.fileTypeMeta},u.a.createElement("div",{className:m.fileTypeName},re[e.key]||e.name),u.a.createElement("div",{className:m.fileTypeExt},this.getDescription(e))));return n?u.a.createElement(a.a,{title:__("即将支持，敬请期待。")},i):"confluence"===e.key?u.a.createElement(a.a,{title:__("将 cf 导出的文件加上 .zip 后缀再导入")},i):"zip"===e.key?u.a.createElement(a.a,{title:__("将文件使用 zip 压缩后再导入")},i):i}},{key:"render",value:function(){var e=this,t=this.props.types;return u.a.createElement("div",{className:m.fileTypeSelector},u.a.createElement(n.a,{gutter:6},null==t?void 0:t.map((function(t){return u.a.createElement(o.a,{key:t.key,className:m.item},"import"!==e.props.mode||t.status||e.props.disableUpload(t)?e.renderItem(t):u.a.createElement(ne,Q({},e.props,{fileOption:t}),e.renderItem(t)))}))))}}])&&U(t.prototype,r),i&&U(t,i),Object.defineProperty(t,"prototype",{writable:!1}),l}(l.PureComponent);oe.defaultProps={onSelect:function(){},onBeforeUpload:function(){},onUploadChange:function(){},disableUpload:function(){return!1}},oe.propTypes={types:f.a.array.isRequired,mode:f.a.oneOf(["import","export"]),importType:f.a.string,maxCount:f.a.number,getParamsOption:f.a.func,book:f.a.object,disableUpload:f.a.func,onSelect:f.a.func,onBeforeUpload:f.a.func,customRequest:f.a.func,onUploadChange:f.a.func},oe.FileUpload=ne;t.a=oe},1430:function(e,t,r){"use strict";r(2918);var n=r(1235);r(1432);t.a=n.a},1431:function(e,t,r){"use strict";r(782);var n=r(379),o=r(0),a=r.n(o),i=r(2),c=r.n(i),l=r(45),u="index-module_more_sDgGm",s=["iconClassName","data-testid","visible","onVisibleChange","getPopupContainer","isHover","iconName","placement","isMenuType"];function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=function(e){return e.parentNode};function h(e){var t=e.iconClassName,r=e["data-testid"],o=void 0===r?"more-actions":r,i=e.visible,c=e.onVisibleChange,h=e.getPopupContainer,m=void 0===h?p:h,y=e.isHover,v=e.iconName,b=e.placement,g=e.isMenuType,w=d(e,s),_={horizontal:"more-horizontal",vertical:"more-vertical",circle:"more-circle"},E={};void 0!==i&&(E.visible=e.visible),void 0!==c&&(E.onVisibleChange=e.onVisibleChange);var O=e.iconWidth||16,S={lineHeight:"".concat(O,"px"),padding:(24-O)/2},A=["click"];return y&&(A[0]="hover"),a.a.createElement(n.a,f({className:e.className,overlayClassName:e.overlayClassName,type:g?"menu":void 0,getPopupContainer:m,placement:b||"bottomRight",destroyTooltipOnHide:e.destroyTooltipOnHide,autoAdjustOverflow:!0,trigger:A,content:e.content,hideWhenInactive:!0},E,w),e.children||a.a.createElement("span",{className:u,style:S,"data-testid":o},a.a.createElement(l.b,{name:v||_[e.direction]||_.horizontal,width:O,className:t})))}h.defaultProps={direction:"horizontal",isMenuType:!0},h.propTypes={className:c.a.string,overlayClassName:c.a.string,direction:c.a.oneOf(["horizontal","vertical","circle"]),iconWidth:c.a.number,visible:c.a.bool,content:c.a.node.isRequired,onVisibleChange:c.a.func,"data-testid":c.a.string,getPopupContainer:c.a.func,iconName:c.a.string,destroyTooltipOnHide:c.a.bool,placement:c.a.string,isMenuType:c.a.bool,iconClassName:c.a.string,children:c.a.node,isHover:c.a.bool};t.a=h},1434:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-delete-solid",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M128 16c61.856 0 112 50.144 112 112s-50.144 112-112 112S16 189.856 16 128 66.144 16 128 16Zm46.1 67.1c-4.028-4.028-10.512-4.1-14.628-.216l-.222.216-30.651 30.65-30.65-30.65c-4.027-4.028-10.512-4.1-14.627-.216l-.222.216c-4.028 4.027-4.1 10.512-.216 14.627l.216.222 30.65 30.65L83.1 159.25c-4.028 4.028-4.1 10.512-.216 14.628l.216.222c4.027 4.027 10.512 4.099 14.627.215l.222-.215 30.65-30.652L159.25 174.1c4.028 4.027 10.512 4.099 14.628.215l.222-.215c4.027-4.028 4.099-10.512.215-14.628l-.215-.222-30.652-30.651 30.652-30.65c4.027-4.027 4.099-10.512.215-14.627l-.215-.222Z",fill:"currentColor",fillRule:"evenodd"}))},1435:function(e,t,r){"use strict";var n={number:function(e){return"number"!=typeof(e=Number(e))||e<1e3?e:"".concat((e/1e3).toFixed(1),"K")},maxNumber:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:999;return"number"!=typeof e||e<=t?e:"".concat(t,"+")}};t.a=n},1437:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-close-outline",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M35.41 34.499c4.296-4.296 11.261-4.296 15.557 0l78.489 78.488L207.945 34.5c4.295-4.296 11.26-4.296 15.556 0 4.296 4.296 4.296 11.26 0 15.556l-78.488 78.49 78.488 78.488c4.22 4.22 4.294 11.017.222 15.328l-.222.228c-4.296 4.296-11.26 4.296-15.556 0l-78.49-78.488-78.488 78.488c-4.296 4.296-11.26 4.296-15.556 0-4.296-4.295-4.296-11.26 0-15.556l78.488-78.489L35.41 50.055c-4.22-4.22-4.295-11.017-.222-15.328Z",fill:"currentColor",fillRule:"evenodd"}))},1442:function(e,t,r){"use strict";r(42);var n=r(9),o=(r(41),r(10)),a=r(0),i=r.n(a),c=r(2),l=r.n(c),u=r(51),s=r(501),f=r(1435),d="index-module_count_pDHQn";function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(){h=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:x(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",y="executing",v="completed",b={};function g(){}function w(){}function _(){}var E={};u(E,i,(function(){return this}));var O=Object.getPrototypeOf,S=O&&O(O(N([])));S&&S!==r&&n.call(S,i)&&(E=S);var A=_.prototype=g.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==p(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function x(t,r,n){var o=d;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===b)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?v:m,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,b;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(p(t)+" is not iterable")}return w.prototype=_,o(A,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=u(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(j.prototype),u(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),u(A,l,"Generator"),u(A,i,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function m(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=function(e){var t=y(Object(a.useState)(!1),2),r=t[0],c=t[1],l=y(Object(a.useState)(!1),2),p=l[0],v=l[1],b=e.me,g=e.user,w=e.onStatusChange,_=e.isPrimary,E=e.size,O=e.showCount,S=g.meta&&g.meta.is_followed,A=y(Object(a.useState)(null==g?void 0:g.followers_count),1)[0],k=function(){var e,t=(e=h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,u.a.actions.findOne({target_type:"User",target_id:t,action_type:"follow"},{ignoreGlobalMessage:!0});case 3:return r=e.sent,v(!1),e.abrupt("return",Boolean(r.actioned));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){m(a,n,o,i,c,"next",e)}function c(e){m(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();if(Object(a.useEffect)((function(){void 0===e.isFollowing?k(g.id).then(c):c(e.isFollowing)}),[e.isFollowing,g.id]),b.id===g.id)return null;var j=__("关注");return r&&(j=S?__("互相关注"):__("已关注")),i.a.createElement(n.a,{className:"btn-follow",type:!r&&_?"primary":"",disabled:p,onClick:function(){var e=r?"destroy":"create";v(!0),Object(s.a)("c62147",{action:e}),u.a.actions[e]({target_type:"User",target_id:g.id,action_type:"follow"}).then((function(){v(!1),o.a.success(r?__("已取消关注"):__("关注成功")),c(!r),w&&w(g.id,!r)})).catch((function(e){v(!1)}))},size:window.h5||"small"===E?"small":"default",style:e.style},i.a.createElement("span",null,j),O&&A>0&&i.a.createElement("span",{className:d},f.a.number(A)))};b.defaultProps={me:window.appData.me,showCount:!1},b.propTypes={me:l.a.object,size:l.a.string,user:l.a.object,onStatusChange:l.a.func,isFollowing:l.a.bool,showCount:l.a.bool};t.a=b},1443:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return g}));var n=r(0),o=r.n(n),a=r(5),i=r.n(a),c=r(65),l=r.n(c),u=r(35),s=r(341),f=r(95),d=r(490),p=r(45),h={departmentInfo:"OrgUserInfo-module_departmentInfo_3udmp",cardHeader:"OrgUserInfo-module_cardHeader_502Md",details:"OrgUserInfo-module_details_hR4Nc",job:"OrgUserInfo-module_job_erqLq",location:"OrgUserInfo-module_location_9-cQz",icon:"OrgUserInfo-module_icon_okrek",fullWidth:"OrgUserInfo-module_fullWidth_zv0Qo",department:"OrgUserInfo-module_department_MJvg6",departmentName:"OrgUserInfo-module_departmentName_fuR97",h5:"OrgUserInfo-module_h5_M+nrk",divider:"OrgUserInfo-module_divider_igZMz",orgUserInfoCard:"OrgUserInfo-module_orgUserInfoCard_7n-Or",headerInfo:"OrgUserInfo-module_headerInfo_5B731",avatar:"OrgUserInfo-module_avatar_iMqQ+",wrapper:"OrgUserInfo-module_wrapper_cpsZr",nameWrapper:"OrgUserInfo-module_nameWrapper_u01vS",name:"OrgUserInfo-module_name_9rYrf",tag:"OrgUserInfo-module_tag_dWOJO",description:"OrgUserInfo-module_description_4Q94H"};function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=l()("OrgUserInfo"),b=function(e){var t,r=e.organization,n=e.orgUser,a=e.className,c=window.h5,l=null==n?void 0:n.job_title,u=null==n?void 0:n.location;return o.a.createElement("div",{className:i()(h.departmentInfo,a)},null==n||null===(t=n.departments)||void 0===t?void 0:t.map((function(e,t){return o.a.createElement("div",{className:h.department,key:t},o.a.createElement(s.g,{className:h.orgAvatar,organization:r,size:20}),o.a.createElement(s.c,{organization:r,department:e,className:i()(h.departmentName,y({},h.h5,c))}))})),o.a.createElement("div",{className:h.divider}),o.a.createElement("div",{className:h.details},o.a.createElement("div",{className:i()(h.job,y({},h.fullWidth,!c))},o.a.createElement(p.b,{name:"user-job",className:h.icon,size:16}),o.a.createElement("span",null,l||__("暂无职位信息"))),o.a.createElement("div",{className:i()(h.location,y({},h.fullWidth,!c))},o.a.createElement(p.b,{name:"user-location",className:h.icon,size:16}),o.a.createElement("span",null,u||__("暂无地址信息")))))},g=function(e){var t=e.orgUser,r=e.user,n=e.className,a=null==t?void 0:t.departments,c=null==t?void 0:t.job_title,l=null==t?void 0:t.location,s=(null==a?void 0:a.length)||c||l,m=t.status===f.STATUS.terminated,y=t.role===f.ROLE.outsourcer,b=m?__("已离职"):y?__("外部联系人"):"";return v("orgUser %o",t),v("tag %s",b),o.a.createElement("div",{className:i()(h.orgUserInfoCard,n)},o.a.createElement("div",{className:h.headerInfo},o.a.createElement(u.Link,{to:"/".concat(null==r?void 0:r.login),target:"_blank"},o.a.createElement(d.a,{size:44,src:null==t?void 0:t.avatar,className:h.avatar})),o.a.createElement("div",{className:h.wrapper},o.a.createElement(u.Link,{to:"/".concat(null==r?void 0:r.login),target:"_blank"},o.a.createElement("div",{className:h.nameWrapper},o.a.createElement("span",{className:h.name},null==t?void 0:t.name),b&&o.a.createElement("span",{className:h.tag},b))),(null==t?void 0:t.description)&&o.a.createElement("div",{className:h.description},null==t?void 0:t.description))),s&&o.a.createElement("div",{className:h.details},o.a.createElement("div",{className:h.divider}),(null==a?void 0:a.length)&&(null==a?void 0:a.map((function(e,t){return o.a.createElement("div",{className:h.department,key:t},o.a.createElement(p.b,{name:"line-framework",className:h.icon,size:16}),o.a.createElement("span",{title:e,className:n},e))}))),c&&o.a.createElement("div",{className:h.job},o.a.createElement(p.b,{name:"user-job",className:h.icon,size:16}),o.a.createElement("span",null,c)),l&&o.a.createElement("div",{className:h.location},o.a.createElement(p.b,{name:"user-location",className:h.icon,size:16}),o.a.createElement("span",null,l))))}},1445:function(e,t,r){"use strict";r(71);var n=r(31),o=(r(42),r(9)),a=r(0),i=r.n(a),c=r(2),l=r.n(c),u=r(1413),s=r(347),f=r(1319),d=r.n(f),p=r(961),h=r(1424),m=r(216),y=r(421),v=r(229),b=r(380),g="BookExport-module_docExport_44PUl",w="BookExport-module_title_Hezdm",_="BookExport-module_tips_VJJKo",E="BookExport-module_setting_PXAtw",O="BookExport-module_settingTitle_pEiZb",S="BookExport-module_settingUpload_sNiNV";function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(){x=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:j(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(N([])));E&&E!==r&&n.call(E,i)&&(w=E);var O=g.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==A(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function j(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(A(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function C(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function P(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){C(a,n,o,i,c,"next",e)}function c(e){C(a,n,o,i,c,"throw",e)}i(void 0)}))}}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M(n.key),n)}}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=D(e);if(t){var o=D(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}(this,r)}}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function R(e,t,r){return(t=M(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}var B=p.a.STATUS,F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(l,e);var t,r,a,c=N(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),R(L(t=c.call(this,e)),"handleExport",(function(e){t.setState({exportType:e,typeObj:d.a.THIRD_PARTY_FORMAT[e.toUpperCase()]}),t.settings[e]?t.setState({status:B.SETTING}):t.doExport(e)})),R(L(t),"doExport",function(){var e=P(x().mark((function e(r,n){var o,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({status:B.PROCESSING}),o=t.props.book,a={data:{id:o.id,type:r,title:n}},t["exportTo".concat(r)](a);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),R(L(t),"_requestExports",(function(e){return y.a.books.exports(j(j({},t._exportParams),e.data))})),R(L(t),"exportTolakebook",(function(e){t.formRef&&(e.data.options=JSON.stringify(t.formRef.getValue())),t._requestExports(e).then((function(e){"success"===e.state&&(t.setState({exportResultUrl:e.url,status:B.SUCCESS}),v.b.download(e.url))})).catch((function(e){var r="";404===(null==e?void 0:e.status)&&(r=__("导出失败，知识库禁止导出，请检查权限")),t.setState({errorMessage:r,status:B.ERROR})}))})),R(L(t),"exportTopdf",function(){var e=P(x().mark((function e(r){var n,o,a,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.formRef&&(r.data.options=JSON.stringify(t.formRef.getValue())),n=1e4,o=66,a=0;case 4:if(!(a<o)){e.next=24;break}return e.prev=5,e.next=8,t._requestExports(r);case 8:i=e.sent,e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(5),t.setState({errorMessage:e.t0.message,status:B.ERROR}),e.abrupt("return");case 15:if("success"!==i.state){e.next=19;break}return t.setState({exportResultUrl:i.url,status:B.SUCCESS}),v.b.download(i.url),e.abrupt("return");case 19:return e.next=21,Object(s.a)(n);case 21:a++,e.next=4;break;case 24:t.setState({errorMessage:__("处理超时..."),status:B.ERROR});case 25:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}()),R(L(t),"renderEntry",(function(){var e=window.appData.isYuque?"https://www.yuque.com/yuque/thyzgp/import-lake-to-lark#ebsrF":"https://yuque.antfin.com/lark/bsgp0v/import-lake-to-lark#ebsrF";return i.a.createElement("div",{className:"entry"},i.a.createElement("div",{className:w},__("导出知识库")),i.a.createElement("div",{className:_},__("知识库文档过多时，可能导致导出变慢或失败，可拆分知识库后重试。"),i.a.createElement("a",{href:e,target:"_blanck","data-desktoptarget":"_browser"},__("查看帮助文档")),__("。")),i.a.createElement(h.a,{mode:"export",types:t._formats,onSelect:t.handleExport}))})),t._exportParams=e.exportParams||{},t._formats=t.props.formats||d.a.BOOK_EXPORT_FORMATS,t.state={exportType:null,typeObj:null,status:B.INIT,errorMessage:"",exportResultUrl:""},t.settings={pdf:[{label:__("导出文档大纲到 PDF 中"),default:!0,name:"enableToc",value:1}]},t}return t=l,(r=[{key:"renderProcessing",value:function(){var e=this.state.typeObj;return e?i.a.createElement("div",{className:E},i.a.createElement("h1",{className:O},__("导出知识库为 {type}",{type:e.name})),i.a.createElement(p.a.Processing,{tip:__("正在导出中...")})):null}},{key:"renderSuccess",value:function(){var e=this,t=this.state.typeObj;return t?i.a.createElement("div",{className:E},i.a.createElement("h1",{className:O},__("导出知识库为 {type}",{type:t.name})),i.a.createElement(p.a.Success,{tip:__("文件生成成功"),action:i.a.createElement(b.a,{href:this.state.exportResultUrl,desktopDisableHref:!0,onClick:function(){v.b.download(e.state.exportResultUrl)},target:"_blank"},__("点击下载"))})):null}},{key:"renderSetting",value:function(){var e=this,t=this.state,r=t.typeObj,n=t.status;if(!r)return null;var a,c=this.settings[r.key];return c?(this._exportParams.toc_node_title&&(a="".concat(this.props.book.name," - ").concat(this._exportParams.toc_node_title)),i.a.createElement("div",{className:E,style:{display:n===B.SETTING?"block":"none"}},i.a.createElement("h1",{className:O},__("导出知识库为 {type}",{type:r.name})),i.a.createElement(p.a.AdvanceSetting,{wrappedComponentRef:function(t){e.formRef=t},title:a,target:this.props.book,type:r,settings:c,actions:i.a.createElement(o.a,{type:"primary","data-testid":"btn-export",className:S,onClick:function(){return e.doExport(e.state.exportType,a)}},__("导出"))}))):null}},{key:"renderError",value:function(){var e=this,t=this.state.typeObj;return t?i.a.createElement("div",{className:E},i.a.createElement("h1",{className:O},__("导出知识库为 {type}",{type:t.name})),i.a.createElement(p.a.Error,{tip:__("文件生成失败"),error:this.state.errorMessage,action:i.a.createElement(o.a,{icon:i.a.createElement(u.default,null),size:"small","data-testid":"btn-reload",onClick:function(){e.doExport(e.state.exportType)}},__("重新生成"))})):null}},{key:"render",value:function(){var e=this.state.status,t=this.props.wrapModal,r=void 0===t||t,o=null;return e===B.PROCESSING?o=this.renderProcessing():e===B.SUCCESS?o=this.renderSuccess():e===B.ERROR?o=this.renderError():e===B.INIT&&(o=this.renderEntry()),o=i.a.createElement("div",{"data-testid":"book-export",className:g,onClick:function(e){e.stopPropagation()}},o,this.renderSetting()),r?i.a.createElement(n.a,{visible:this.props.visible,title:null,footer:null,width:360,onCancel:this.props.onCancel,maskClosable:!1},o):o}}])&&I(t.prototype,r),a&&I(t,a),Object.defineProperty(t,"prototype",{writable:!1}),l}(i.a.Component);F.propTypes={book:l.a.object.isRequired,visible:l.a.bool.isRequired,onCancel:l.a.func.isRequired,formats:l.a.array,exportParams:l.a.object,wrapModal:l.a.bool};t.a=Object(m.b)(F,!0)},1446:function(e,t,r){"use strict";var n=r(181);r.d(t,"a",(function(){return n.a})),r.d(t,"c",(function(){return n.c})),r.d(t,"b",(function(){return n.b}))},1448:function(e,t,r){"use strict";r(71);var n=r(31),o=(r(42),r(9)),a=(r(187),r(48)),i=(r(56),r(12)),c=r(0),l=r.n(c),u=r(2),s=r.n(u),f={content:"index-module_content_v7lvp",form:"index-module_form_5k71F",tip:"index-module_tip_yNrai"};function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,r)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(s,e);var t,r,c,u=m(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(y(e=u.call.apply(u,[this].concat(r))),"handleOnOk",(function(t){t.preventDefault();var r=e.props,n=r.form,o=r.slug,a=n.validateFields,i=n.setFields,c=n.resetFields;a((function(t,r){t||(r.slug===o?(c(),e.props.onOk(r)):i({slug:{value:r.slug,errors:[__("输入的路径名称错误, 请重新输入")]}}))}))})),b(y(e),"handleOnCancel",(function(){var t=e.props.form.resetFields;e.props.onCancel(),t()})),e}return t=s,(r=[{key:"render",value:function(){var e=this.props,t=e.visible,r=e.title,c=e.content,u=e.buttonText,s=e.slug,d=this.props.form,p=d.getFieldDecorator,h=d.getFieldError;return l.a.createElement(n.a,{title:r,footer:null,visible:t,onCancel:this.handleOnCancel,destroyOnClose:!0},c&&l.a.createElement("div",{className:f.content},c),l.a.createElement(a.a,{onSubmit:this.handleOnOk,className:f.form},l.a.createElement("div",{className:f.tip},__('请在下方输入框中输入 "{login}" 以确认操作',{login:l.a.createElement("span",{className:f.slug},s)})),l.a.createElement(a.a.Item,{hasFeedback:!0,validateStatus:h("slug")?"error":null,help:h("slug")?(h("slug")||[]).join(", "):""},p("slug",{initialValue:"",rules:[{type:"string",required:!0,message:__("请按提示输入")}]})(l.a.createElement(i.a,{type:"text",autoComplete:"off",maxLength:200,placeholder:s}))),l.a.createElement(a.a.Item,null,l.a.createElement(o.a,{"data-testid":"btn-submit",type:"danger",style:{width:"100%"},htmlType:"submit"},l.a.createElement("span",{style:{width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},u||__("确定"))))))}}])&&p(t.prototype,r),c&&p(t,c),Object.defineProperty(t,"prototype",{writable:!1}),s}(c.PureComponent);w.propTypes={visible:s.a.bool.isRequired,title:s.a.node.isRequired,content:s.a.node,buttonText:s.a.node,slug:s.a.string.isRequired,onOk:s.a.func.isRequired,onCancel:s.a.func.isRequired};t.a=a.a.create()(w)},1473:function(e,t,r){"use strict";var n=r(4),o=r(0),a={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"},i=r(19),c=function(e,t){return o.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:a}))};c.displayName="PictureTwoTone";t.a=o.forwardRef(c)},1474:function(e,t,r){"use strict";var n=r(4),o=r(0),a={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:t}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"},i=r(19),c=function(e,t){return o.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:a}))};c.displayName="FileTwoTone";t.a=o.forwardRef(c)},1475:function(e,t,r){"use strict";var n=r(4),o=r(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},i=r(19),c=function(e,t){return o.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:a}))};c.displayName="PaperClipOutlined";t.a=o.forwardRef(c)},1476:function(e,t,r){"use strict";var n=r(4),o=r(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},i=r(19),c=function(e,t){return o.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:a}))};c.displayName="DownloadOutlined";t.a=o.forwardRef(c)},1490:function(e,t,r){"use strict";var n=r(317),o=r(601),a=r(267),i=r(145),c=r(319),l=r(24),u=r(1516),s=r(117),f=r(113);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(){p=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:x(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",m="suspendedYield",y="executing",v="completed",b={};function g(){}function w(){}function _(){}var E={};u(E,i,(function(){return this}));var O=Object.getPrototypeOf,S=O&&O(O(N([])));S&&S!==r&&n.call(S,i)&&(E=S);var A=_.prototype=g.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==d(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function x(t,r,n){var o=h;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===b)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?v:m,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,b;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(d(t)+" is not iterable")}return w.prototype=_,o(A,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=u(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(j.prototype),u(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),u(A,l,"Generator"),u(A,i,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){v(a,n,o,i,c,"next",e)}function c(e){v(a,n,o,i,c,"throw",e)}i(void 0)}))}}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _={limitExceeded:function(e){return e&&e.length>=a.MAX_NODES_COUNT},shouldShowToc:function(e){return!!e&&"Book"===e.layout},shouldShowColumnToc:function(e){return!!e&&"Column"===e.layout},parseCatalogVersions:function(e){if(!e)return[];var t,r=[],o=g(e);try{for(o.s();!(t=o.n()).done;){var a=t.value,i=a.item.toc_yml;if(i)try{var c=Object(n.ymlToToc)(i),l=c[0];l&&l.published&&(a.meta=c[0],a.toc=c.slice(1),a.catalog_tree=Object(n.generateTreeFromYml)(i),r.push(a))}catch(e){}}}catch(e){o.e(e)}finally{o.f()}return r},parseVersion:function(e){if(e){try{var t,r=e.item.toc_yml,o=Object(n.ymlToToc)(r),a=g(o);try{for(a.s();!(t=a.n()).done;){var i=t.value;i.key=i.uuid}}catch(e){a.e(e)}finally{a.f()}var c=o[0];c?(e.meta=c,e.toc=o.slice(1)):e.toc=o,e.catalog_tree=Object(n.generateTreeByTocItems)(e.toc)}catch(e){console.error(e)}return e}},updateNode:function(e){var t=arguments,r=this;return b(p().mark((function o(){var i,c,l;return p().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(i=t.length>1&&void 0!==t[1]?t[1]:{},c=t.length>2&&void 0!==t[2]?t[2]:{catalog_tree:!0},e){o.next=4;break}return o.abrupt("return");case 4:if(!e.should_manually_create_uid){o.next=8;break}return o.next=7,s.webProxy.catalogNodes.ensureUpdateTocYml({book_id:e.id,toc_yml:Object(n.tocToYml)(e.toc)});case 7:e.should_manually_create_uid=!1;case 8:return o.prev=8,o.next=11,s.webProxy.catalogNodes.update(m({book_id:e.id,format:"list"},i),{ignoreGlobalMessage:!0,useOriginResp:!0});case 11:l=o.sent,o.next=18;break;case 14:throw o.prev=14,o.t0=o.catch(8),"limit_exceeded"===o.t0.code&&(o.t0.message=__("目录节点数超过最大限制 {MAX_NODES_COUNT}，无法新增",{MAX_NODES_COUNT:a.MAX_NODES_COUNT})),o.t0;case 18:return o.abrupt("return",r._returnWithCatalogTree(m(m({},l.meta),{},{toc:l.data}),c));case 19:case"end":return o.stop()}}),o,null,[[8,14]])})))()},_returnWithCatalogTree:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).catalog_tree&&e.toc&&(e.catalog_tree=Object(n.generateTreeByTocItems)(e.toc)),e},getCatalogNodes:function(e){var t=arguments;return b(p().mark((function r(){var o,a;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=t.length>1&&void 0!==t[1]?t[1]:{},e){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,s.webProxy.catalogNodes.find(m({book_id:e},o),{useOriginResp:!0});case 5:return a=r.sent,r.abrupt("return",m({catalog_tree:Object(n.generateTreeByTocItems)(a.data),toc:a.data},a.meta));case 7:case"end":return r.stop()}}),r)})))()},actionsInReaderPage:function(e,t){var r=[];return e.type!==a.TYPES.link?r.push(f.a.CATALOG.rename):r.push(f.a.CATALOG.edit_link),t.create_doc&&(e.type!==a.TYPES.doc||l.g||r.push(f.a.DOC.edit)),e.type!==a.TYPES.title&&e.type!==a.TYPES.uncreated_doc&&r.push(f.a.DOC.copyLink),e.type!==a.TYPES.doc||l.g||r.push(f.a.DOC.open_in_new_tab),e.type===a.TYPES.doc&&t.create_doc&&l.g&&r.push(f.a.DOC.open_in_new_window),t.create_doc&&(r.push(f.a.DOC.divide),r.push(f.a.CATALOG.remove),r.push(f.a.DOC.divide),r.push(f.a.CATALOG.copy),r.push(f.a.CATALOG.move)),t.create_doc&&e.type===a.TYPES.doc&&r.push(f.a.CATALOG.export),t.create_doc&&(r.push(f.a.DOC.divide),r.push(f.a.CATALOG.destroy)),r},actionsForEdit:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=[];return"desktop"===t?(n.push(f.a.CATALOG.move),n):(e.type===a.TYPES.link?n.push(f.a.CATALOG.edit_link):n.push(f.a.CATALOG.rename),"lite"===t?this.actionsInReaderPage(e,r):("full"===t&&(e.type===a.TYPES.doc&&(n.push(f.a.CATALOG.view_doc),n.push(f.a.CATALOG.remove),n.push(f.a.DOC.edit)),n.push(f.a.CATALOG.copy),n.push(f.a.CATALOG.move),r.export&&e.type===a.TYPES.doc&&n.push(f.a.CATALOG.export),e.share&&e.share.status===c.STATUS.active&&(n.push(f.a.DOC.divide),n.push(f.a.DOC.unshare)),n.push(f.a.DOC.divide),n.push(f.a.CATALOG.destroy)),n))},formatNode:function(e){return{type:e.type||i.TOC_TYPES.DOC,title:e.title,uuid:e.uuid||Object(o.nanoid)(16),url:e.url||null,prev_uuid:e.prev_uuid||null,sibling_uuid:e.sibling_uuid||null,child_uuid:e.child_uuid||null,parent_uuid:e.parent_uuid||null,doc_id:e.doc_id||null,level:e.level||0,id:e.doc_id||null,open_window:0===e.open_window?0:1,visible:0===e.visible?0:1}},insertNodeToCatalog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{catalog_tree:!0},n=_.formatNode(t),o=t.target_uuid,a=t.action,i=e.findIndex((function(e){return e.uuid===o}));if(i>=0){var c=e[i];n.level="insertSibling"===a?c.level:c.level+1,e.splice(i+1,0,n)}else e.unshift(n);return this._returnWithCatalogTree({toc:e,node_uuid:n.uuid},r)},getRedirectURL:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.group,o=r.book,a=r.currentItem,i=e.filter((function(e){return"DOC"===e.type&&e.id}));if(!a)return i&&i[0]?"/".concat(n.login,"/").concat(o.slug,"/").concat(i[0].url):"";var c,s=i.findIndex((function(e){return e.url&&e.url===a.url}));return i=t.filter((function(e){return"DOC"===e.type&&e.id})),s<0?c=i[0]:(c=i[s]||null)||(c=i[s-1]||null),c?"/".concat(n.login,"/").concat(o.slug,"/").concat(c.url):(l.g&&Object(u.a)("remove","".concat(n.login,"/").concat(o.slug)),"")}};t.a=_},1506:function(e,t,r){"use strict";var n=r(4),o=r(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},i=r(19),c=function(e,t){return o.createElement(i.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:a}))};c.displayName="RedoOutlined";t.a=o.forwardRef(c)},1516:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(198);function o(e,t,r){if("get"===e)try{return n.a.get("bookLastDoc-".concat(t))}catch(e){return console.error(e),null}if("save"===e)try{n.a.set("bookLastDoc-".concat(t),r),n.a.set("bookLast",t)}catch(e){console.error(e)}if("remove"===e)try{n.a.get("bookLastDoc-".concat(t))&&n.a.remove("bookLastDoc-".concat(t))}catch(e){console.error(e)}}},1521:function(e,t,r){"use strict";var n=r(81),o=r.n(n),a=(r(1233),r(472)),i=r(58),c=r.n(i),l=r(86),u=r.n(l),s=r(0),f=r.n(s),d=r(2),p=r.n(d),h=r(5),m=r.n(h),y=r(87),v=r.n(y),b=(r(1535),["className","showSizeChanger"]);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=f.a.forwardRef((function(e,t){var r=e.className,n=e.showSizeChanger,o=void 0!==n&&n,i=u()(e,b);return f.a.createElement(a.a,c()({},i,{className:m()("larkui-pagination",r),showSizeChanger:o,ref:t}))}));_.propTypes=w(w({},a.a.PaginationProps),{},{className:p.a.string,showSizeChanger:p.a.bool}),v()(_,a.a),t.a=_},1536:function(e,t,r){var n,o,a;o=[],n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},r=!t.document&&!!t.postMessage,n=t.IS_PAPA_WORKER||!1,o={},a=0,i={parse:function(r,n){var c=(n=n||{}).dynamicTyping||!1;if(_(c)&&(n.dynamicTypingFunction=c,c={}),n.dynamicTyping=c,n.transform=!!_(n.transform)&&n.transform,n.worker&&i.WORKERS_SUPPORTED){var l=function(){if(!i.WORKERS_SUPPORTED)return!1;var r,n,c=(r=t.URL||t.webkitURL||null,n=e.toString(),i.BLOB_URL||(i.BLOB_URL=r.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",n,")();"],{type:"text/javascript"})))),l=new t.Worker(c);return l.onmessage=y,l.id=a++,o[l.id]=l}();return l.userStep=n.step,l.userChunk=n.chunk,l.userComplete=n.complete,l.userError=n.error,n.step=_(n.step),n.chunk=_(n.chunk),n.complete=_(n.complete),n.error=_(n.error),delete n.worker,void l.postMessage({input:r,config:n,workerId:l.id})}var p=null;return i.NODE_STREAM_INPUT,"string"==typeof r?(r=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(r),p=n.download?new u(n):new f(n)):!0===r.readable&&_(r.read)&&_(r.on)?p=new d(n):(t.File&&r instanceof File||r instanceof Object)&&(p=new s(n)),p.stream(r)},unparse:function(e,t){var r=!1,n=!0,o=",",a="\r\n",c='"',l=c+c,u=!1,s=null,f=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||i.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(o=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(r=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(u=t.skipEmptyLines),"string"==typeof t.newline&&(a=t.newline),"string"==typeof t.quoteChar&&(c=t.quoteChar),"boolean"==typeof t.header&&(n=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");s=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+c),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(f=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var d=new RegExp(h(c),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,u);if("object"==typeof e[0])return p(s||Object.keys(e[0]),e,u)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||s),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],u);throw new Error("Unable to serialize unrecognized input");function p(e,t,r){var i="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var c=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(c&&n){for(var u=0;u<e.length;u++)0<u&&(i+=o),i+=m(e[u],u);0<t.length&&(i+=a)}for(var s=0;s<t.length;s++){var f=c?e.length:t[s].length,d=!1,p=c?0===Object.keys(t[s]).length:0===t[s].length;if(r&&!c&&(d="greedy"===r?""===t[s].join("").trim():1===t[s].length&&0===t[s][0].length),"greedy"===r&&c){for(var h=[],y=0;y<f;y++){var v=l?e[y]:y;h.push(t[s][v])}d=""===h.join("").trim()}if(!d){for(var b=0;b<f;b++){0<b&&!p&&(i+=o);var g=c&&l?e[b]:b;i+=m(t[s][g],b)}s<t.length-1&&(!r||0<f&&!p)&&(i+=a)}}return i}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var n=!1;f&&"string"==typeof e&&f.test(e)&&(e="'"+e,n=!0);var a=e.toString().replace(d,l);return(n=n||!0===r||"function"==typeof r&&r(e,t)||Array.isArray(r)&&r[t]||function(e,t){for(var r=0;r<t.length;r++)if(-1<e.indexOf(t[r]))return!0;return!1}(a,i.BAD_DELIMITERS)||-1<a.indexOf(o)||" "===a.charAt(0)||" "===a.charAt(a.length-1))?c+a+c:a}}};if(i.RECORD_SEP=String.fromCharCode(30),i.UNIT_SEP=String.fromCharCode(31),i.BYTE_ORDER_MARK="\ufeff",i.BAD_DELIMITERS=["\r","\n",'"',i.BYTE_ORDER_MARK],i.WORKERS_SUPPORTED=!r&&!!t.Worker,i.NODE_STREAM_INPUT=1,i.LocalChunkSize=10485760,i.RemoteChunkSize=5242880,i.DefaultDelimiter=",",i.Parser=m,i.ParserHandle=p,i.NetworkStreamer=u,i.FileStreamer=s,i.StringStreamer=f,i.ReadableStreamStreamer=d,t.jQuery){var c=t.jQuery;c.fn.parse=function(e){var r=e.config||{},n=[];return this.each((function(e){if("INPUT"!==c(this).prop("tagName").toUpperCase()||"file"!==c(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)n.push({file:this.files[o],inputElem:this,instanceConfig:c.extend({},r)})})),o(),this;function o(){if(0!==n.length){var t,r,o,l,u=n[0];if(_(e.before)){var s=e.before(u.file,u.inputElem);if("object"==typeof s){if("abort"===s.action)return t="AbortError",r=u.file,o=u.inputElem,l=s.reason,void(_(e.error)&&e.error({name:t},r,o,l));if("skip"===s.action)return void a();"object"==typeof s.config&&(u.instanceConfig=c.extend(u.instanceConfig,s.config))}else if("skip"===s)return void a()}var f=u.instanceConfig.complete;u.instanceConfig.complete=function(e){_(f)&&f(e,u.file,u.inputElem),a()},i.parse(u.file,u.instanceConfig)}else _(e.complete)&&e.complete()}function a(){n.splice(0,1),o()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=g(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,r){if(this.isFirstChunk&&_(this._config.beforeFirstChunk)){var o=this._config.beforeFirstChunk(e);void 0!==o&&(e=o)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+e;this._partialLine="";var c=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=c.meta.cursor;this._finished||(this._partialLine=a.substring(l-this._baseIndex),this._baseIndex=l),c&&c.data&&(this._rowCount+=c.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(n)t.postMessage({results:c,workerId:i.WORKER_ID,finished:u});else if(_(this._config.chunk)&&!r){if(this._config.chunk(c,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);c=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(c.data),this._completeResults.errors=this._completeResults.errors.concat(c.errors),this._completeResults.meta=c.meta),this._completed||!u||!_(this._config.complete)||c&&c.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||c&&c.meta.paused||this._nextChunk(),c}this._halted=!0},this._sendError=function(e){_(this._config.error)?this._config.error(e):n&&this._config.error&&t.postMessage({workerId:i.WORKER_ID,error:e,finished:!1})}}function u(e){var t;(e=e||{}).chunkSize||(e.chunkSize=i.RemoteChunkSize),l.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var n in e)t.setRequestHeader(n,e[n])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+o)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var r=t.statusText||e;this._sendError(new Error(r))}}function s(e){var t,r;(e=e||{}).chunkSize||(e.chunkSize=i.LocalChunkSize),l.call(this,e);var n="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,r=e.slice||e.webkitSlice||e.mozSlice,n?((t=new FileReader).onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var o=Math.min(this._start+this._config.chunkSize,this._input.size);e=r.call(e,this._start,o)}var a=t.readAsText(e,this._config.encoding);n||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function f(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,r=this._config.chunkSize;return r?(e=t.substring(0,r),t=t.substring(r)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function d(e){l.call(this,e=e||{});var t=[],r=!0,n=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=w((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=w((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=w((function(){this._streamCleanUp(),n=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function p(e){var t,r,n,o=Math.pow(2,53),a=-o,c=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,u=this,s=0,f=0,d=!1,p=!1,y=[],v={data:[],errors:[],meta:{}};if(_(e.step)){var b=e.step;e.step=function(t){if(v=t,O())E();else{if(E(),0===v.data.length)return;s+=t.data.length,e.preview&&s>e.preview?r.abort():(v.data=v.data[0],b(v,u))}}}function w(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function E(){return v&&n&&(A("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+i.DefaultDelimiter+"'"),n=!1),e.skipEmptyLines&&(v.data=v.data.filter((function(e){return!w(e)}))),O()&&function(){if(v)if(Array.isArray(v.data[0])){for(var t=0;O()&&t<v.data.length;t++)v.data[t].forEach(r);v.data.splice(0,1)}else v.data.forEach(r);function r(t,r){_(e.transformHeader)&&(t=e.transformHeader(t,r)),y.push(t)}}(),function(){if(!v||!e.header&&!e.dynamicTyping&&!e.transform)return v;function t(t,r){var n,o=e.header?{}:[];for(n=0;n<t.length;n++){var a=n,i=t[n];e.header&&(a=n>=y.length?"__parsed_extra":y[n]),e.transform&&(i=e.transform(i,a)),i=S(a,i),"__parsed_extra"===a?(o[a]=o[a]||[],o[a].push(i)):o[a]=i}return e.header&&(n>y.length?A("FieldMismatch","TooManyFields","Too many fields: expected "+y.length+" fields but parsed "+n,f+r):n<y.length&&A("FieldMismatch","TooFewFields","Too few fields: expected "+y.length+" fields but parsed "+n,f+r)),o}var r=1;return!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(t),r=v.data.length):v.data=t(v.data,0),e.header&&v.meta&&(v.meta.fields=y),f+=r,v}()}function O(){return e.header&&0===y.length}function S(t,r){return n=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[n]&&(e.dynamicTyping[n]=e.dynamicTypingFunction(n)),!0===(e.dynamicTyping[n]||e.dynamicTyping)?"true"===r||"TRUE"===r||"false"!==r&&"FALSE"!==r&&(function(e){if(c.test(e)){var t=parseFloat(e);if(a<t&&t<o)return!0}return!1}(r)?parseFloat(r):l.test(r)?new Date(r):""===r?null:r):r;var n}function A(e,t,r,n){var o={type:e,code:t,message:r};void 0!==n&&(o.row=n),v.errors.push(o)}this.parse=function(o,a,c){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var r=new RegExp(h(t)+"([^]*?)"+h(t),"gm"),n=(e=e.replace(r,"")).split("\r"),o=e.split("\n"),a=1<o.length&&o[0].length<n[0].length;if(1===n.length||a)return"\n";for(var i=0,c=0;c<n.length;c++)"\n"===n[c][0]&&i++;return i>=n.length/2?"\r\n":"\r"}(o,l)),n=!1,e.delimiter)_(e.delimiter)&&(e.delimiter=e.delimiter(o),v.meta.delimiter=e.delimiter);else{var u=function(t,r,n,o,a){var c,l,u,s;a=a||[",","\t","|",";",i.RECORD_SEP,i.UNIT_SEP];for(var f=0;f<a.length;f++){var d=a[f],p=0,h=0,y=0;u=void 0;for(var v=new m({comments:o,delimiter:d,newline:r,preview:10}).parse(t),b=0;b<v.data.length;b++)if(n&&w(v.data[b]))y++;else{var g=v.data[b].length;h+=g,void 0!==u?0<g&&(p+=Math.abs(g-u),u=g):u=g}0<v.data.length&&(h/=v.data.length-y),(void 0===l||p<=l)&&(void 0===s||s<h)&&1.99<h&&(l=p,c=d,s=h)}return{successful:!!(e.delimiter=c),bestDelimiter:c}}(o,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);u.successful?e.delimiter=u.bestDelimiter:(n=!0,e.delimiter=i.DefaultDelimiter),v.meta.delimiter=e.delimiter}var s=g(e);return e.preview&&e.header&&s.preview++,t=o,r=new m(s),v=r.parse(t,a,c),E(),d?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,r.abort(),t=_(e.chunk)?"":t.substring(r.getCharIndex())},this.resume=function(){u.streamer._halted?(d=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return p},this.abort=function(){p=!0,r.abort(),v.meta.aborted=!0,_(e.complete)&&e.complete(v),t=""}}function h(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t,r=(e=e||{}).delimiter,n=e.newline,o=e.comments,a=e.step,c=e.preview,l=e.fastMode,u=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof r||-1<i.BAD_DELIMITERS.indexOf(r))&&(r=","),o===r)throw new Error("Comment character same as delimiter");!0===o?o="#":("string"!=typeof o||-1<i.BAD_DELIMITERS.indexOf(o))&&(o=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var s=0,f=!1;this.parse=function(i,d,p){if("string"!=typeof i)throw new Error("Input must be a string");var m=i.length,y=r.length,v=n.length,b=o.length,g=_(a),w=[],E=[],O=[],S=s=0;if(!i)return H();if(e.header&&!d){var A=i.split(n)[0].split(r),k=[],j={},x=!1;for(var C in A){var P=A[C];_(e.transformHeader)&&(P=e.transformHeader(P,C));var I=P,T=j[P]||0;for(0<T&&(x=!0,I=P+"_"+T),j[P]=T+1;k.includes(I);)I=I+"_"+T;k.push(I)}if(x){var N=i.split(n);N[0]=k.join(r),i=N.join(n)}}if(l||!1!==l&&-1===i.indexOf(t)){for(var L=i.split(n),D=0;D<L.length;D++){if(O=L[D],s+=O.length,D!==L.length-1)s+=n.length;else if(p)return H();if(!o||O.substring(0,b)!==o){if(g){if(w=[],U(O.split(r)),Y(),f)return H()}else U(O.split(r));if(c&&c<=D)return w=w.slice(0,c),H(!0)}}return H()}for(var R=i.indexOf(r,s),M=i.indexOf(n,s),B=new RegExp(h(u)+h(t),"g"),F=i.indexOf(t,s);;)if(i[s]!==t)if(o&&0===O.length&&i.substring(s,s+b)===o){if(-1===M)return H();s=M+v,M=i.indexOf(n,s),R=i.indexOf(r,s)}else if(-1!==R&&(R<M||-1===M))O.push(i.substring(s,R)),s=R+y,R=i.indexOf(r,s);else{if(-1===M)break;if(O.push(i.substring(s,M)),V(M+v),g&&(Y(),f))return H();if(c&&w.length>=c)return H(!0)}else for(F=s,s++;;){if(-1===(F=i.indexOf(t,F+1)))return p||E.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:s}),W();if(F===m-1)return W(i.substring(s,F).replace(B,t));if(t!==u||i[F+1]!==u){if(t===u||0===F||i[F-1]!==u){-1!==R&&R<F+1&&(R=i.indexOf(r,F+1)),-1!==M&&M<F+1&&(M=i.indexOf(n,F+1));var G=q(-1===M?R:Math.min(R,M));if(i.substr(F+1+G,y)===r){O.push(i.substring(s,F).replace(B,t)),i[s=F+1+G+y]!==t&&(F=i.indexOf(t,s)),R=i.indexOf(r,s),M=i.indexOf(n,s);break}var z=q(M);if(i.substring(F+1+z,F+1+z+v)===n){if(O.push(i.substring(s,F).replace(B,t)),V(F+1+z+v),R=i.indexOf(r,s),F=i.indexOf(t,s),g&&(Y(),f))return H();if(c&&w.length>=c)return H(!0);break}E.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:w.length,index:s}),F++}}else F++}return W();function U(e){w.push(e),S=s}function q(e){var t=0;if(-1!==e){var r=i.substring(F+1,e);r&&""===r.trim()&&(t=r.length)}return t}function W(e){return p||(void 0===e&&(e=i.substring(s)),O.push(e),s=m,U(O),g&&Y()),H()}function V(e){s=e,U(O),O=[],M=i.indexOf(n,s)}function H(e){return{data:w,errors:E,meta:{delimiter:r,linebreak:n,aborted:f,truncated:!!e,cursor:S+(d||0)}}}function Y(){a(H()),w=[],E=[]}},this.abort=function(){f=!0},this.getCharIndex=function(){return s}}function y(e){var t=e.data,r=o[t.workerId],n=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var a={abort:function(){n=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(_(r.userStep)){for(var i=0;i<t.results.data.length&&(r.userStep({data:t.results.data[i],errors:t.results.errors,meta:t.results.meta},a),!n);i++);delete t.results}else _(r.userChunk)&&(r.userChunk(t.results,a,t.file),delete t.results)}t.finished&&!n&&v(t.workerId,t.results)}function v(e,t){var r=o[e];_(r.userComplete)&&r.userComplete(t),r.terminate(),delete o[e]}function b(){throw new Error("Not implemented.")}function g(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var r in e)t[r]=g(e[r]);return t}function w(e,t){return function(){e.apply(t,arguments)}}function _(e){return"function"==typeof e}return n&&(t.onmessage=function(e){var r=e.data;if(void 0===i.WORKER_ID&&r&&(i.WORKER_ID=r.workerId),"string"==typeof r.input)t.postMessage({workerId:i.WORKER_ID,results:i.parse(r.input,r.config),finished:!0});else if(t.File&&r.input instanceof File||r.input instanceof Object){var n=i.parse(r.input,r.config);n&&t.postMessage({workerId:i.WORKER_ID,results:n,finished:!0})}}),(u.prototype=Object.create(l.prototype)).constructor=u,(s.prototype=Object.create(l.prototype)).constructor=s,(f.prototype=Object.create(f.prototype)).constructor=f,(d.prototype=Object.create(l.prototype)).constructor=d,i},void 0===(a="function"==typeof n?n.apply(t,o):n)||(e.exports=a)},1618:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-add",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M128 28c5.523 0 10 4.477 10 10v80h80c5.523 0 10 4.477 10 10s-4.477 10-10 10h-80v80c0 5.523-4.477 10-10 10s-10-4.477-10-10v-80H38c-5.523 0-10-4.477-10-10s4.477-10 10-10h80V38c0-5.523 4.477-10 10-10Z",fill:"currentColor",fillRule:"evenodd"}))},1619:function(e,t,r){"use strict";var n=r(112),o=r(126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(696)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(0)),c=n(r(1620)),l=n(r(1191));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var s=function(e,t){return i.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:c.default}))};s.displayName="CheckOutlined";var f=i.forwardRef(s);t.default=f},1620:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"}},1621:function(e,t,r){"use strict";var n=r(112),o=r(126);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(696)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(0)),c=n(r(1622)),l=n(r(1191));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var s=function(e,t){return i.createElement(l.default,(0,a.default)((0,a.default)({},e),{},{ref:t,icon:c.default}))};s.displayName="DownOutlined";var f=i.forwardRef(s);t.default=f},1622:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"}},1624:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-help-search",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M114 20c51.362 0 93 41.638 93 93 0 21.782-7.489 41.816-20.032 57.666l45.82 46.277c4.275 4.317 4.24 11.282-.077 15.556-4.317 4.275-11.281 4.24-15.556-.077l-45.774-46.23C155.576 198.602 135.652 206 114 206c-51.362 0-93-41.638-93-93s41.638-93 93-93Zm0 20c-40.317 0-73 32.683-73 73s32.683 73 73 73 73-32.683 73-73-32.683-73-73-73Z",fill:"currentColor",fillRule:"nonzero"}))},1697:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-questioncirclefilled",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M128 16c61.856 0 112 50.144 112 112s-50.144 112-112 112S16 189.856 16 128 66.144 16 128 16Zm-1 156c-6.627 0-12 5.372-12 12 0 6.627 5.373 12 12 12s12-5.373 12-12c0-6.628-5.373-12-12-12Zm1.863-109.002c-13.226-.063-23.752 5.503-30.913 14.964-5.32 7.029-8.435 15.92-8.93 23.434a9 9 0 0 0 17.94 1.448l.053-.681c.37-4.07 2.275-9.356 5.29-13.338 3.843-5.078 9.107-7.861 16.471-7.825 7.7.038 13.474 3.037 17.087 8.1 3.222 4.515 4.337 10.296 3.094 14.928l-.036.13-.076.258c-.762 2.484-2.476 4.971-7.337 10.406l-1.555 1.722-1.338 1.461-4.166 4.498c-4.197 4.559-6.91 7.783-9.328 11.28l-.515.754c-3.968 5.9-6.33 11.683-6.782 17.801a9 9 0 0 0 17.928 1.587l.043-.495c.467-5.01 4.14-10.414 13.227-20.172l4.35-4.68c.597-.646 1.104-1.197 1.546-1.683l.72-.796.84-.95.547-.639.706-.85 1.192-1.487c3.732-4.697 6.204-8.954 7.418-13.478 2.659-9.905.477-21.218-5.826-30.051-6.968-9.766-18.158-15.577-31.65-15.646Z",fill:"currentColor",fillRule:"nonzero"}))},1720:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-icon-delete",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M218 68c5.523 0 10 4.477 10 10s-4.477 10-10 10h-16.56l-6.16 107.936c-.97 17.07-14.466 30.764-31.52 31.984l-2.432.08H94.672c-18.028.004-32.925-14.065-33.952-32.064L54.56 88H38c-5.523 0-10-4.477-10-10s4.477-10 10-10h180Zm-36.592 20H74.576l6.112 106.8a14 14 0 0 0 12.288 13.104l1.696.096h66.656c7.424.004 13.56-5.788 13.984-13.2L181.408 88ZM108 112c5.52 0 10 4.48 10 10v44c0 5.523-4.477 10-10 10s-10-4.477-10-10v-44c0-5.52 4.48-10 10-10Zm40 0c5.52 0 10 4.48 10 10v44c0 5.523-4.477 10-10 10s-10-4.477-10-10v-44c0-5.52 4.48-10 10-10Zm26-84c5.523 0 10 4.477 10 10s-4.477 10-10 10H82c-5.523 0-10-4.477-10-10s4.477-10 10-10h92Z",fill:"currentColor",fillRule:"nonzero"}))},1726:function(e,t,r){"use strict";r.r(t),r.d(t,"getFileAccept",(function(){return _})),r.d(t,"getImageAccept",(function(){return E})),r.d(t,"EmbedButtonStatus",(function(){return O})),r.d(t,"getIsDiabledPreviewAndEmbed",(function(){return S})),r.d(t,"getLocalDocAcceptArr",(function(){return A})),r.d(t,"getFileAcceptArr",(function(){return k})),r.d(t,"getImageAcceptArr",(function(){return j})),r.d(t,"getVideoAcceptArr",(function(){return x})),r.d(t,"getAudioAcceptArr",(function(){return C}));var n=r(345),o=r(585),a=n.a.LOCAL_DOC_EXT,i=n.a.LOCAL_DOC_EXT_NORMAL,c=n.a.LOCAL_DOC_EXT_PAID,l=n.a.FILE_EXT,u=n.a.FILE_EXT_NORMAL,s=n.a.FILE_EXT_PAID,f=n.a.IMAGE_EXT,d=n.a.IMAGE_EXT_NORMAL,p=n.a.IMAGE_EXT_PAID,h=n.a.VIDEO_EXT,m=n.a.VIDEO_EXT_NORMAL,y=n.a.VIDEO_EXT_PAID,v=n.a.AUDIO_EXT,b=n.a.AUDIO_EXT_NORMAL,g=n.a.AUDIO_EXT_PAID,w=function(){var e="undefined"!=typeof navigator?navigator.userAgent:"";return/android/i.test(e)};function _(){return w()?"*/*":(window.appData||{}).isYuque?Object(o.isPaidCheckAll)()?s.join(","):u.join(","):l.join(",")}function E(){return w()?"image/*":(window.appData||{}).isYuque?Object(o.isPaidCheckAll)()?p.join(","):d.join(","):f.join(",")}var O={NORMAL:0,DISABLE:1,PREVENT:2};function S(){return!(window.appData||{}).isYuque||Object(o.isPaidCheckAll)()?O.NORMAL:O.PREVENT}function A(){return(window.appData||{}).isYuque?Object(o.isPaidCheckAll)()?c:i:a}function k(){return(window.appData||{}).isYuque?Object(o.isPaidCheckAll)()?s:u:l}function j(){return(window.appData||{}).isYuque?Object(o.isPaidCheckAll)()?p:d:f}function x(){return(window.appData||{}).isYuque?Object(o.isPaidCheckAll)()?y:m:h}function C(){return(window.appData||{}).isYuque?Object(o.isPaidCheckAll)()?g:b:v}},183:function(e,t,r){"use strict";r(2900);var n=r(1226);r(381);t.a=n.a},1861:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-success",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M128 16c61.856 0 112 50.144 112 112s-50.144 112-112 112S16 189.856 16 128 66.144 16 128 16Zm55.143 72.902c-3.865-3.945-10.196-4.01-14.141-.145L112.714 143.9l-25.717-25.187-.217-.207c-3.958-3.653-10.13-3.52-13.924.354-3.865 3.946-3.799 10.277.147 14.142l32.715 32.041.219.208a10 10 0 0 0 13.776-.209l63.285-62 .212-.213c3.734-3.881 3.728-10.055-.067-13.928Z",fill:"currentColor",fillRule:"nonzero"}))},1869:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{className:["larkui-icon","larkui-icon-permission",e.className].filter(Boolean).join(" ")}),n.createElement("defs",null,n.createElement("path",{id:"1825377134a",d:"M0 0h256v256H0z"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"1825377134b",fill:"#fff"},n.createElement("use",{xlinkHref:"#1825377134a"})),n.createElement("path",{d:"M173.844 110.217c17.475 0 31.884 13.48 32.17 30.483l.005.517v7.002c12.698.164 22.966 10.407 23.17 23.096l.003.385v35.034c0 12.84-10.304 23.272-23.095 23.48l-.388.003h-64.557c-12.84 0-23.273-10.305-23.48-23.095l-.004-.388V171.7c0-12.84 10.305-23.273 23.095-23.48l.389-.003h.516v-7c0-17.247 14.524-31 32.176-31ZM188 26c22.964 0 41.623 18.43 41.994 41.305L230 68v26c0 5.523-4.477 10-10 10-5.43 0-9.848-4.327-9.996-9.72L210 94V68c0-12.029-9.654-21.803-21.636-21.997L188 46H68c-12.029 0-21.803 9.654-21.997 21.636L46 68v120c0 12.029 9.654 21.803 21.636 21.997L68 210h27c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L95 230H68c-22.964 0-41.623-18.43-41.994-41.305L26 188V68c0-22.964 18.43-41.623 41.305-41.994L68 26h120Zm17.71 142.217h-64.558a3.483 3.483 0 0 0-3.478 3.292l-.006.19v35.035a3.483 3.483 0 0 0 3.292 3.478l.192.005h64.557a3.483 3.483 0 0 0 3.478-3.292l.005-.191V171.7a3.483 3.483 0 0 0-3.483-3.483Zm-31.866-38c-6.737 0-12.011 4.896-12.172 10.726l-.004.274v7h24.35l.001-7c0-5.95-5.333-11-12.175-11ZM169 73c5.523 0 10 4.477 10 10s-4.477 10-10 10H87c-5.523 0-10-4.477-10-10s4.477-10 10-10h82Z",fill:"currentColor",fillRule:"nonzero",mask:"url(#1825377134b)"})))},1870:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-more-settings",e.className].filter(Boolean).join(" ")}),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{d:"M0 0h256v256H0z"}),n.createElement("path",{d:"M130 53c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L130 73H38c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L38 53h92Zm88 65c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L218 138h-92c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L126 118h92Zm-90 44c5.43 0 9.848 4.327 9.996 9.72l.004.28v13h80c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L218 205h-80v13c0 5.523-4.477 10-10 10-5.43 0-9.848-4.327-9.996-9.72L118 218v-46c0-5.523 4.477-10 10-10Zm-44 23c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L84 205H39c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L39 185h45Zm87-155c5.43 0 9.848 4.327 9.996 9.72L181 40v13h37c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L218 73h-37v13c0 5.523-4.477 10-10 10-5.43 0-9.848-4.327-9.996-9.72L161 86V40c0-5.523 4.477-10 10-10ZM85 95c5.523 0 10 4.477 10 10v46l-.004.28C94.848 156.673 90.43 161 85 161c-5.523 0-10-4.477-10-10v-13H39l-.28-.004C33.327 137.848 29 133.43 29 128c0-5.523 4.477-10 10-10h36v-13l.004-.28C75.152 99.327 79.57 95 85 95Z",fill:"currentColor",fillRule:"nonzero"})))},1893:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-statistics",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M32 38c5.43 0 9.848 4.327 9.996 9.72L42 48v130.856c0 12.029 9.654 21.803 21.636 21.997l.364.003h160c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996l-.28.004H64c-22.964 0-41.623-18.43-41.994-41.305l-.006-.695V48c0-5.523 4.477-10 10-10Zm45.803 41.16c5.43 0 9.848 4.327 9.996 9.72l.004.28v81.922c0 5.523-4.477 10-10 10-5.43 0-9.848-4.327-9.996-9.72l-.004-.28V89.16c0-5.523 4.477-10 10-10Zm121.93 28.888c5.429 0 9.847 4.327 9.995 9.72l.004.28v53.034c0 5.523-4.477 10-10 10-5.429 0-9.848-4.327-9.996-9.72l-.004-.28v-53.034c0-5.522 4.477-10 10-10ZM138.767 38c5.429 0 9.848 4.327 9.996 9.72l.004.28v123.082c0 5.523-4.478 10-10 10-5.43 0-9.848-4.327-9.997-9.72l-.003-.28V48c0-5.523 4.477-10 10-10Z",fill:"currentColor",fillRule:"nonzero"}))},1894:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-arrow-left3",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M154.995 58.157c3.834 3.834 3.904 10.007.21 13.927l-.21.215-48.99 48.99c-3.834 3.834-3.904 10.007-.21 13.927l.21.215 48.99 48.99c3.905 3.905 3.905 10.237 0 14.142-3.834 3.834-10.008 3.904-13.927.21l-.215-.21-48.99-48.99c-11.599-11.599-11.715-30.331-.348-42.073l.348-.353 48.99-48.99c3.905-3.905 10.237-3.905 14.142 0Z",fill:"currentColor",fillRule:"nonzero"}))},1919:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-knowledge-base-home",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"m139.26 31.243.36.232 76.656 50.543a21.11 21.11 0 0 1 9.486 17.222l.004.401v96.129c0 17.616-14.138 31.93-31.687 32.215l-.532.004h-34.698c-.1 0-.198-.001-.297-.004-.183.01-.367.015-.552.015-5.43 0-9.848-4.327-9.996-9.72L148 218v-47.755c0-11.2-8.973-20.245-20-20.245-10.913 0-19.813 8.858-19.997 19.896l-.003.349V218c0 5.523-4.477 10-10 10-.185 0-.37-.005-.552-.015h-.017l-.28.004H62.453c-17.616 0-31.93-14.138-32.215-31.686l-.004-.533V99.64a21.11 21.11 0 0 1 9.157-17.4l.333-.223 76.656-50.543a21.11 21.11 0 0 1 22.88-.232ZM127.516 48.1l-.127.072-76.656 50.543a1.11 1.11 0 0 0-.49.788l-.009.138v96.129c0 6.646 5.306 12.053 11.913 12.215l.306.004H88L88 170.245C88 148.036 105.89 130 128 130c21.889 0 39.642 17.677 39.995 39.58l.005.665v37.744h25.547c6.646 0 12.053-5.306 12.215-11.913l.004-.306V99.64a1.11 1.11 0 0 0-.388-.842l-.11-.084-76.657-50.543a1.11 1.11 0 0 0-1.095-.072Z",fill:"currentColor",fillRule:"nonzero"}))},1922:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-directory",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M88 40.8c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L88 60.8H65.997L66 61v47c0 5.43 4.327 9.848 9.72 9.996L76 118h11c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L87 138H76c-3.506 0-6.872-.602-10-1.707V186c0 5.43 4.327 9.848 9.72 9.996L76 196h11c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L87 216H76c-16.403 0-29.731-13.164-29.996-29.504L46 186V61l.002-.2H26c-5.523 0-10-4.477-10-10 0-5.43 4.327-9.848 9.72-9.996L26 40.8h62Zm49.983-.653 92 .353c5.523.021 9.983 4.516 9.962 10.038-.02 5.43-4.365 9.832-9.758 9.96l-.28.002-92-.354c-5.523-.02-9.983-4.515-9.962-10.038.021-5.43 4.365-9.831 9.759-9.959l.28-.002Zm0 78 92 .353c5.523.021 9.983 4.516 9.962 10.038-.02 5.43-4.365 9.832-9.758 9.96l-.28.002-92-.354c-5.523-.02-9.983-4.515-9.962-10.038.021-5.43 4.365-9.831 9.759-9.959l.28-.002Zm0 78 92 .353c5.523.021 9.983 4.516 9.962 10.038-.02 5.43-4.365 9.832-9.758 9.96l-.28.002-92-.354c-5.523-.02-9.983-4.515-9.962-10.038.021-5.43 4.365-9.831 9.759-9.959l.28-.002Z",fill:"currentColor",fillRule:"nonzero"}))},1923:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-sync-error",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M8 11.5A.75.75 0 1 1 8 13a.75.75 0 0 1 0-1.5Zm.003-9a5.002 5.002 0 0 1 4.675 3.23 3.125 3.125 0 0 1-.801 6.145h-.627a.125.125 0 0 1-.125-.125v-.938c0-.068.056-.124.125-.124h.627c.517 0 1.003-.202 1.368-.568.366-.365.568-.853.568-1.37 0-.878-.593-1.648-1.44-1.877l-.59-.156-.216-.57a3.84 3.84 0 0 0-1.377-1.77 3.783 3.783 0 0 0-2.187-.691c-.789 0-1.545.239-2.187.69a3.838 3.838 0 0 0-1.377 1.77l-.217.573-.592.154c-.407.108-.772.35-1.033.683a1.937 1.937 0 0 0 1.527 3.131h.626c.069 0 .125.057.125.126v.937a.125.125 0 0 1-.125.125h-.627a3.124 3.124 0 0 1-.795-6.147A5 5 0 0 1 8.003 2.5ZM8.375 6c.055 0 .102.036.119.086l.006.039v4.25a.125.125 0 0 1-.086.119l-.039.006h-.75a.125.125 0 0 1-.119-.086l-.006-.039v-4.25c0-.055.036-.102.086-.119L7.625 6h.75Z",fill:"#F5222D",fillRule:"nonzero"}))},1938:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 14.625 14.625",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-directory-position",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M7.313 0c.345 0 .625.28.625.625v.783a5.94 5.94 0 0 1 5.28 5.279H14a.625.625 0 1 1 0 1.25l-.783.001a5.94 5.94 0 0 1-5.279 5.28V14a.625.625 0 1 1-1.25 0l-.001-.783a5.94 5.94 0 0 1-5.28-5.279H.626a.625.625 0 1 1 0-1.25l.783-.001a5.94 5.94 0 0 1 5.279-5.28V.626c0-.345.28-.625.625-.625Zm.625 2.666v1.709a.625.625 0 1 1-1.25 0V2.666a4.69 4.69 0 0 0-4.022 4.021h1.709a.625.625 0 1 1 0 1.25H2.666a4.69 4.69 0 0 0 4.021 4.022V10.25a.625.625 0 1 1 1.25 0v1.709a4.69 4.69 0 0 0 4.022-4.021H10.25a.625.625 0 1 1 0-1.25h1.709a4.69 4.69 0 0 0-4.021-4.022Z",fill:"currentColor",fillRule:"nonzero"}))},1939:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-catalog-expand",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M74.382 40.5H24.618a8.333 8.333 0 0 0-5.892 14.226l24.881 24.881a8.333 8.333 0 0 0 11.786 0l24.881-24.881A8.333 8.333 0 0 0 74.382 40.5Zm0 134H24.618a8.333 8.333 0 0 0-5.892 14.226l24.881 24.881a8.333 8.333 0 0 0 11.786 0l24.881-24.881a8.333 8.333 0 0 0-5.892-14.226ZM125 41h105c5.523 0 10 4.477 10 10s-4.477 10-10 10H125c-5.523 0-10-4.477-10-10s4.477-10 10-10Zm0 77h105c5.523 0 10 4.477 10 10s-4.477 10-10 10H125c-5.523 0-10-4.477-10-10s4.477-10 10-10Zm0 78h105c5.523 0 10 4.477 10 10s-4.477 10-10 10H125c-5.523 0-10-4.477-10-10s4.477-10 10-10Z",fill:"currentColor",fillRule:"evenodd"}))},1940:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-catalog-fold",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M26 41h204c5.523 0 10 4.477 10 10s-4.477 10-10 10H26c-5.523 0-10-4.477-10-10s4.477-10 10-10Zm0 155h204c5.523 0 10 4.477 10 10s-4.477 10-10 10H26c-5.523 0-10-4.477-10-10s4.477-10 10-10Zm93-78h111c5.523 0 10 4.477 10 10s-4.477 10-10 10H119c-5.523 0-10-4.477-10-10s4.477-10 10-10ZM16.4 103.318v49.764a8.333 8.333 0 0 0 14.226 5.892l24.881-24.881a8.333 8.333 0 0 0 0-11.786L30.626 97.426a8.333 8.333 0 0 0-14.226 5.892Z",fill:"currentColor",fillRule:"evenodd"}))},1941:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{className:["larkui-icon","larkui-icon-yuque",e.className].filter(Boolean).join(" ")}),n.createElement("defs",null,n.createElement("radialGradient",{cx:"60.212%",cy:"64.196%",fx:"60.212%",fy:"64.196%",r:"51.003%",gradientTransform:"scale(.85248 1) rotate(-68.415 .654 .565)",id:"165724840e"},n.createElement("stop",{stopColor:"#57CB86",offset:"0%"}),n.createElement("stop",{stopColor:"#FFF",stopOpacity:.8,offset:"100%"})),n.createElement("linearGradient",{x1:"82.746%",y1:"0%",x2:"20.277%",y2:"79.406%",id:"165724840b"},n.createElement("stop",{stopColor:"#7BD26A",offset:"0%"}),n.createElement("stop",{stopColor:"#07B26A",offset:"100%"})),n.createElement("rect",{id:"165724840a",x:0,y:0,width:26,height:26,rx:6.24}),n.createElement("path",{d:"M9.855 0h.269l.068.001h.07l.07.002h.071l.049.001h.049l.074.002.076.002.076.001.052.001.079.002.08.002.08.003.055.001.082.003.084.003.056.002.057.002.058.002.057.002.059.002.058.003.09.004.06.002.09.005.06.003.062.003.093.005.063.003.063.003.063.004.064.004.064.004.065.004.065.004.065.004.066.004.066.005c2.38.162 3.01 1.87 3.078 2.074l.003.011.003.01 1.033.055a.1.1 0 0 1 .044.19c-1.06.571-1.385 1.733-1.194 2.49.061.244.156.454.263.676l.067.14c.246.512.521 1.132.567 2.38.1 2.796-2.365 5.308-5.282 5.308H10.97l-.134.001h-.097l-.103.002h-.164l-.177.002-.19.002-.274.003-.22.002-.396.004-.43.005-.468.006-.297.003-.417.005-.553.007-.588.008-.497.007-.788.01-.553.008-1.025.014-1.094.016-.994.014-.516.008 6.238-7.07.057-.064.056-.064.056-.064.278-.314.055-.062.055-.062.054-.062.027-.03.054-.062.027-.03.054-.062.053-.061c.619-.715 1.17-1.412 1.561-2.212.435-1.224-.007-2.136-.459-2.69A3.31 3.31 0 0 0 9.057.53C8.903.333 9.007.005 9.3.005h.073L9.43.002h.093L9.58 0H9.793L9.855 0Z",id:"165724840d"})),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("mask",{id:"165724840c",fill:"#fff"},n.createElement("use",{xlinkHref:"#165724840a"})),n.createElement("use",{fill:"url(#165724840b)",xlinkHref:"#165724840a"}),n.createElement("g",{mask:"url(#165724840c)"},n.createElement("g",{transform:"translate(3.77 5.46)"},n.createElement("use",{fill:"#E5FBEF",xlinkHref:"#165724840d"}),n.createElement("use",{fillOpacity:.3,fill:"url(#165724840e)",xlinkHref:"#165724840d"})),n.createElement("path",{d:"M11.003 11.95c-2.7 3.027-5.913 6.711-7.133 8.095-.235.267-.007.518.175.55 9.1 1.559 11.989-2.715 12.632-4.669.881-2.673-.363-3.977-1.067-4.402-2.388-1.443-4.16-.077-4.607.425Z",fill:"#FAFFFC"}))))},1942:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-outline",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"m95.029 50.146 123 .354c5.523.016 9.987 4.506 9.971 10.029-.016 5.429-4.355 9.835-9.749 9.968l-.28.003-123-.354c-5.523-.015-9.987-4.505-9.971-10.028.016-5.43 4.355-9.836 9.749-9.968l.28-.004Zm0 69 123 .354c5.523.016 9.987 4.506 9.971 10.029-.016 5.429-4.355 9.835-9.749 9.968l-.28.003-123-.354c-5.523-.015-9.987-4.505-9.971-10.028.016-5.43 4.355-9.836 9.749-9.968l.28-.004Zm0 68 123 .354c5.523.016 9.987 4.506 9.971 10.029-.016 5.429-4.355 9.835-9.749 9.968l-.28.003-123-.354c-5.523-.015-9.987-4.505-9.971-10.028.016-5.43 4.355-9.836 9.749-9.968l.28-.004ZM44 75c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15Zm0 69c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15Zm0 68c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15Z",fill:"currentColor",fillRule:"nonzero"}))},1943:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-nav-invite",e.className].filter(Boolean).join(" ")}),n.createElement("path",{d:"M128 129c5.523 0 10 4.477 10 10s-4.477 10-10 10c-24.125 0-45.174 6.043-60.525 16.179-12.362 8.162-19.354 18.06-19.54 25.146l-.007.911-.001.397.005.747c.034 2.031.212 3.378.664 4.658.4 1.136.947 1.914 1.804 2.514l.203.135.294.186.28.207c.604.443 1.371.869 2.296 1.275l.475.201.501.198.527.195.274.096.565.19.591.187.305.092.628.181.654.178.678.175.703.171.726.168.751.164.775.16 1.207.235 1.26.226.869.147.891.142.915.14.937.134 1.447.196.993.126 1.015.122 1.563.176 1.61.167 1.101.107 1.69.153 1.153.096 1.173.093 1.798.132 1.842.122 1.888.113 1.93.104 1.312.064 1.33.06 2.031.082 2.073.073 1.886.057 2.338.061 3.948.08 1.803.027 3.794.04 3.624.02 5.876.008 9.344-.013L128 207c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996l-.453.004-11.598.014-6.434-.014-3.11-.02-3.85-.043-2.294-.037-1.806-.036-2.476-.06-2.515-.07-2.478-.082-1.62-.061-1.598-.065-1.574-.071-1.55-.076-1.526-.08-2.244-.133-1.467-.095-1.444-.1-2.122-.163-1.386-.115-1.362-.122-1.34-.129-1.316-.134-1.293-.142-1.271-.148-1.248-.155-1.226-.162-1.202-.169-1.18-.176-1.159-.184-1.135-.19-1.114-.2c-.367-.067-.731-.136-1.091-.206l-1.07-.214a89.329 89.329 0 0 1-2.072-.453l-1.004-.238c-.33-.081-.658-.164-.981-.247l-.96-.256c-.317-.086-.63-.175-.94-.264l-.916-.273a55.46 55.46 0 0 1-2.623-.872l-.832-.309c-2.875-1.098-5.363-2.368-7.478-3.835l-.338-.238-.13-.084c-4.586-3.038-7.72-7.229-9.547-12.126l-.172-.476c-1.443-4.088-1.807-7.435-1.809-11.98l.004-1.096c0-14.848 10.912-30.497 28.525-42.126C75.15 136.145 100.04 129 128 129Zm58-12c5.523 0 10 4.477 10 10v35h35c5.523 0 10 4.477 10 10s-4.477 10-10 10h-35v35c0 5.523-4.477 10-10 10s-10-4.477-10-10v-35h-35c-5.523 0-10-4.477-10-10s4.477-10 10-10h35v-35c0-5.523 4.477-10 10-10Zm-58-93c25.405 0 46 20.595 46 46s-20.595 46-46 46-46-20.595-46-46 20.595-46 46-46Zm0 20c-14.36 0-26 11.64-26 26s11.64 26 26 26 26-11.64 26-26-11.64-26-26-26Z",fill:"currentColor",fillRule:"nonzero"}))},1944:function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=e=>n.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},e,{className:["larkui-icon","larkui-icon-box",e.className].filter(Boolean).join(" ")}),n.createElement("g",{fill:"none",fillRule:"evenodd"},n.createElement("path",{fill:"#7AA3E5",d:"M0 0h256v256H0z"}),n.createElement("g",{fill:"#FFF"},n.createElement("path",{d:"m136.254 51.918 56.948 27.03a7.25 7.25 0 0 1 0 13.099l-57.247 27.177a18.9 18.9 0 0 1-15.963.115l-57.098-26.1a7.25 7.25 0 0 1-.187-13.1l57.096-28.104a18.9 18.9 0 0 1 16.45-.117ZM141.16 128.073l52.389-25.071A7.3 7.3 0 0 1 204 109.586v59.975a12.6 12.6 0 0 1-7.16 11.366l-52.389 25.071A7.3 7.3 0 0 1 134 199.414v-59.975a12.6 12.6 0 0 1 7.16-11.366ZM115.706 129.114l-52.332-24.297A7.3 7.3 0 0 0 53 111.437v59.124a12.6 12.6 0 0 0 7.16 11.366l52.389 25.071A7.3 7.3 0 0 0 123 200.414v-59.872a12.6 12.6 0 0 0-7.294-11.428Z"}))))},281:function(e,t,r){"use strict";r(1497);var n=r(800);r(790);t.a=n.a},301:function(e,t,r){"use strict";var n=r(81),o=r.n(n),a=(r(1002),r(343)),i=r(58),c=r.n(i),l=r(86),u=r.n(l),s=r(0),f=r.n(s),d=r(2),p=r.n(d),h=r(5),m=r.n(h),y=r(87),v=r.n(y),b=(r(1885),["className","overlayClassName"]);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=f.a.forwardRef((function(e,t){var r=e.className,n=e.overlayClassName,o=u()(e,b);return f.a.createElement(a.a,c()({className:m()(r,"larkui-dropdown-trigger"),overlayClassName:m()(n,"larkui-dropdown"),ref:t},o))}));_.propTypes=w(w({},a.a.DropDownProps),{},{className:p.a.string,overlayClassName:p.a.string}),v()(_,a.a);var E=_,O=["className","overlayClassName","overlay","children"];function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=f.a.forwardRef((function(e,t){var r=e.className,n=e.overlayClassName,o=e.overlay,i=e.children,l=u()(e,O),s=o?o.props:{};return f.a.createElement(a.a.Button,c()({className:m()(r,"larkui-dropdown-trigger"),overlay:f.a.cloneElement(o,{className:m()(s.className,n,"larkui-dropdown-menu")}),ref:t},l),i)}));k.propTypes=A(A({},a.a.DropdownButtonProps),{},{className:p.a.string,overlayClassName:p.a.string,overlay:p.a.node,children:p.a.any}),v()(k,a.a.Button);var j=k,x=r(1405),C=r.n(x),P=r(1404),I=r.n(P),T=r(699),N=r(98),L=r(66),D=(r(1886),function(e){var t=e.className,r=e.overlayClassName,n=e.currentValue,o=e.menus,a=e.disableMenus,i=void 0===a?[]:a,l=e.disableTip,u=e.handleChange,s=e.triggerPrefix,d=o.find((function(e){return e.value===n}));return f.a.createElement(E,c()({},e,{trigger:["click"],className:m()("larkui-dropdown-selector",t),overlayClassName:m()("larkui-dropdown-selector-menu",r),overlay:f.a.createElement(N.a,{selectedKeys:[n]},o.map((function(e){var t=i.some((function(t){return t.value===e.value})),r=f.a.createElement("span",{className:"larkui-dropdown-selector-option"},f.a.createElement("span",{className:"larkui-dropdown-selector-option-name"},e.name),e.value===n&&f.a.createElement("span",{className:"larkui-dropdown-selector-option-checked"},f.a.createElement(I.a,null)));return f.a.createElement(N.a.Item,{key:e.value,disabled:t,onClick:function(){u(e.value)}},t&&l?f.a.createElement(L.a,{title:l,placement:"right"},r):r)})),e.externalActions&&f.a.createElement(N.a.Divider,null),e.externalActions&&e.externalActions())}),f.a.createElement("span",{className:"larkui-dropdown-selector-trigger"},f.a.createElement("span",null,s),f.a.createElement("span",null,d?d.name:Object(T.a)("请选择")),f.a.createElement("span",{className:"larkui-dropdown-selector-trigger-icon"},f.a.createElement(C.a,null))))});D.propTypes={className:p.a.string,overlayClassName:p.a.string,currentValue:p.a.string.isRequired,menus:p.a.arrayOf(p.a.shape({name:p.a.string.isRequired,value:p.a.string.isRequired})).isRequired,disableMenus:p.a.array,disableTip:p.a.node,handleChange:p.a.func.isRequired,externalActions:p.a.func,triggerPrefix:p.a.node};var R=D;E.Selector=R,E.Button=j;t.a=E},3314:function(e,t){e.exports={WORKFLOW_EVENT:{error:"error",message:"message",change:"change",saveTitle:"saveTitle",miniExpand:"miniExpand",editableChange:"editableChange",collabUsersChange:"collabUsersChange",editModeChange:"editModeChange",docStatusChange:"docStatusChange",netStatusChange:"netStatusChange",afterSaveSuccess:"afterSaveSuccess",afterPublishSuccess:"afterPublishSuccess",started:"started",afterEditorActive:"afterEditorActive",onPublishSuccess:"onPublishSuccess"},ACTION:{save:"save",publish:"publish"},SAVE_TYPE:{FORCE:1,AUTO:2,USER_SAVE:3,USER_PUBLISH:4,USER_SAVE_AS_VERSION:5,USER_SAVE_AS_TEMPLATE:6},ERROR_CODE:{INIT_FAILED:"INIT_FAILED",SAVE_BEFORE_FAILED:"SAVE_BEFORE_FAILED",SAVE_FAILED:"SAVE_FAILED",PUBLISH_FAILED:"PUBLISH_FAILED",DOC_DELETED:"DOC_DELETED",DOC_NOT_EXIST:"DOC_NOT_EXIST",DOC_SAVE_CONFLICT:"DOC_SAVE_CONFLICT",CACHE_FAILED:"CACHE_FAILED",CONTENT_UNREADY:"CONTENT_UNREADY",RENDER_FAILED:"RENDER_FAILED",DISCONNECTED:"DISCONNECTED",CONNECT_COLLAB_SERVER_FAILED:"CONNECT_COLLAB_SERVER_FAILED",LOCK_FAILED:"LOCK_FAILED",LOCKED_BY_COLLAB:"LOCKED_BY_COLLAB",LOCKED_BY_SELF_COLLAB:"LOCKED_BY_SELF_COLLAB",LOCKED_BY_COLLAB_DISCONNECT:"LOCKED_BY_COLLAB_DISCONNECT",LOCKED_BY_DESKTOP:"LOCKED_BY_DESKTOP",LOCKED_BY_OTHER:"LOCKED_BY_OTHER",LOCKED_BY_VERSIONCONFLICT:"LOCKED_BY_VERSIONCONFLICT",DATA_ERROR:"DATA_ERROR",COLLAB_DATA_INIT_ERROR:"COLLAB_DATA_INIT_ERROR",COMMAND_ERROR:"COMMAND_ERROR"},MESSAGE:{DOC_PUBLISHED:"DOC_PUBLISHED",DOC_DELETED:"DOC_DELETED",DOC_CACHE_SAVED:"DOC_CACHE_SAVED",SAVE_FAILED:"SAVE_FAILED",SAVING:"SAVING",SAVED:"SAVED",PUBLISHING:"PUBLISHING",DISCONNECT:"DISCONNECT",UNREADY:"UNREADY",CACHE_FAILED:"CACHE_FAILED",RENDER_BIG_DOCUMENT:"RENDER_BIG_DOCUMENT",BUZY:"BUZY",CLEAR:"CLEAR",EDIT_DISABLE:"EDIT_DISABLE"},DOC_STATUS:{loading:"loading",loaded:"loaded",saving:"saving",saved:"saved",publishing:"publishing",published:"published",changed:"changed",deleted:"deleted"},NET_STATUS:{offline:"offline",online:"online",congestion:"congestion"},DOC_DOMAIN:{DOCLET:"Doclet",DOC:"Doc"},DOC_VERSION:{ORIGIN:{manual:1,cache:2}},DOCLET_CATEGORY:{BOOK_INDEX_PAGE:"book_index_page",NOTE:"note",ORG_BOARD:"org_board"},SUMMARY_NODES_COUNT:50,SUMMARY_PARAGRAPH_MAX_COUNT:10,BIG_DOCUMENT_BLOCK_COUNT:200,EDIT_MODE:{LOCK:"lock",COLLAB:"collab",OFFLINE:"offline",COLLAB_CUSTOM:"collab_custom"},EDIT_SCENE:{NOTE:"note",DESKTOP:"desktop",WEB:"web"},REPORT_ACTION_ERROR:["DATA_ERROR","COLLAB_DATA_INIT_ERROR","SAVE_FAILED","PUBLISH_FAILED","DOC_DELETED","DOC_SAVE_CONFLICT","LOCKED_BY_OTHER","LOCKED_BY_DESKTOP"],EDITOR_NAME:{LAKEX:"lakex",SHEET:"sheet",BOARD:"board",TABLE:"table"},SAVE_STATUS:{DISABLED:"disabled",IGNORE:"ignore",OK:"ok",LAZY:"lazy"}}},3323:function(e,t,r){"use strict";r.d(t,"c",(function(){return I})),r.d(t,"p",(function(){return T})),r.d(t,"t",(function(){return N})),r.d(t,"n",(function(){return L})),r.d(t,"d",(function(){return M})),r.d(t,"w",(function(){return B})),r.d(t,"v",(function(){return F})),r.d(t,"u",(function(){return G})),r.d(t,"k",(function(){return z})),r.d(t,"q",(function(){return U})),r.d(t,"o",(function(){return q})),r.d(t,"r",(function(){return W})),r.d(t,"s",(function(){return V})),r.d(t,"e",(function(){return H})),r.d(t,"j",(function(){return Y})),r.d(t,"l",(function(){return K})),r.d(t,"b",(function(){return Q})),r.d(t,"a",(function(){return Z})),r.d(t,"m",(function(){return X})),r.d(t,"f",(function(){return J})),r.d(t,"g",(function(){return $})),r.d(t,"h",(function(){return ee})),r.d(t,"i",(function(){return te}));var n,o,a,i,c,l,u,s,f,d,p,h,m,y,v,b,g=r(0),w=r(11),_=r(419),E=r(1398),O=r(57),S=r(229),A=r(1697),k=r(492),j=r(99),x=r(32);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function P(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I=function(e){return e[e.sharePanel=1]="sharePanel",e[e.inviteSelectorChannel=2]="inviteSelectorChannel",e[e.shareChannels=3]="shareChannels",e[e.collaboratorChannel=4]="collaboratorChannel",e[e.shareQrCodeChannel=5]="shareQrCodeChannel",e}({}),T=(P(n={},_.a.PERSON,__("公开给互联网所有人")),P(n,_.a.ORG,__("公开给空间所有成员")),P(n,_.a.INTERNAL,__("公开给集团所有正式员工")),n),N=(P(o={},_.a.PERSON,{private:__("互联网公开"),public:__("已开启互联网公开")}),P(o,_.a.ORG,{private:__("公开分享"),public:__("已开启公开分享")}),P(o,_.a.INTERNAL,{private:__("公开分享"),public:__("已开启公开分享")}),o),L={private:__("当前小记为私密，仅自己可访问"),public:__("当前小记为公开")},D=(P(a={},_.a.PERSON,{private:__("当前知识库为私密，仅自己和协作者可访问"),public:__("当前知识库为公开，互联网所有人可访问")}),P(a,_.a.ORG,{private:__("当前知识库为私密，仅自己和协作者可访问"),intranet:__("当前知识库为公开，空间所有成员可访问"),public:__("当前知识库为公开，互联网所有人可访问")}),P(a,_.a.INTERNAL,{private:__("当前知识库为私密，仅自己和协作者可访问"),extend_private:__("当前知识库为私密，仅协作者和指定部门正式员工可访问"),intranet:__("当前知识库为公开，集团所有正式员工可访问"),public:__("当前知识库为公开，集团所有人可访问")}),a),R=(P(i={},_.a.PERSON,{private:__("当前文档为私密，仅自己和协作者可访问"),public:__("当前文档为公开，互联网所有人可访问")}),P(i,_.a.ORG,{private:__("当前文档为私密，仅自己和协作者可访问"),intranet:__("当前文档为公开，空间所有成员可访问"),public:__("当前文档为公开，互联网所有人可访问")}),P(i,_.a.INTERNAL,{private:__("当前文档为私密，仅自己和协作者可访问"),extend_private:__("当前文档为私密，仅协作者和指定部门正式员工可访问"),intranet:__("当前文档为公开，集团所有正式员工可访问"),public:__("当前文档为公开，集团所有人可访问")}),i),M=(P(c={},_.b.BOOK,D),P(c,_.b.DOC,R),c),B=(P(l={},_.a.PERSON,{private:__("开启后，互联网所有人可访问"),public:__("互联网所有人可公开访问内容")}),P(l,_.a.INTERNAL,{private:__("开启后，拿到链接的集团正式员工可访问"),public:__("拿到链接的集团正式员工可访问")}),l),F=(P(u={},_.a.PERSON,{private:__("开启后，互联网所有人可访问"),public:__("互联网所有人可公开访问内容")}),P(u,_.a.ORG,{private:__("开启后，空间内所有成员可访问"),intranet:__("空间内所有成员可公开访问内容"),public:__("互联网所有人可公开访问内容")}),P(u,_.a.INTERNAL,{private:__("开启后，拿到链接的集团正式员工可访问"),intranet:__("拿到链接的集团正式员工可访问"),public:__("拿到链接的集团所有人可访问")}),u),G=(P(s={},w.PRIVACY.private,"private"),P(s,w.PRIVACY.public,"public"),P(s,w.PRIVACY.intranet,"intranet"),s),z=function(e,t,r,n){var o=Object(E.d)(e,t,r,n).privacy;return G[o]},U=(P(f={},_.a.ORG,{desc:__("默认分享范围是空间所有成员。可以选择分享给互联网所有人，内容需符合相关法律法规及语雀 {terms} 约定。",{terms:g.createElement("a",{href:"https://www.yuque.com/terms#ubab347c6","data-desktoptarget":"_browser",target:"_blank"},__("服务协议"))}),actions:[{label:__("空间所有成员可访问"),value:w.PRIVACY.intranet},{label:__("互联网所有人可访问"),value:w.PRIVACY.public,tip:function(e){var t,r=null==e||null===(t=e.abilities)||void 0===t?void 0:t.destroy;return O.a.isPremium(e)&&0===(null==e?void 0:e.share_to_outside_enable)?r?g.createElement(g.Fragment,null,__("空间管理设置已关闭对外分享权限，请先前往开启。"),g.createElement("a",{href:"/r/organizations/dashboard/security/sharing-control",target:"_blank",style:{marginLeft:"5px"}},__("前往开启"))):__("管理员已关闭空间外人员访问权限，请联系管理员开启。"):O.a.isFree(e)?r?g.createElement(g.Fragment,null,__("升级为专业版、旗舰版后可开启互联网公开"),g.createElement("a",{href:"/r/organizations/dashboard/cashier?action=buy&paySource=".concat(x.LIMIT_SCENE.share_public),target:"_blank",style:{marginLeft:"5px"}},O.a.getPaymentActionGuide(null==e?void 0:e.payment_type))):__("联系管理员升级为专业版、旗舰版后可开启互联网公开"):O.a.isExpired(e)?g.createElement(g.Fragment,null,__("过期空间不可以设置互联网所有人可访问"),r&&g.createElement("a",{href:"/r/organizations/dashboard/cashier?action=renew&paySource=".concat(x.LIMIT_SCENE.share_public),target:"_blank",style:{marginLeft:"5px"}},O.a.getPaymentActionGuide(null==e?void 0:e.payment_type))):""}}]}),P(f,_.a.INTERNAL,{desc:__("默认分享范围是集团正式员工。分享给集团所有人（含外包、未签订三方协议的实习生）需审批申请，请注意信息安全。"),actions:[{label:__("集团内所有正式员工可访问"),value:w.PRIVACY.intranet},{label:__("集团内所有人可访问"),value:w.PRIVACY.public}]}),f),q=(P(d={},_.b.BOOK,__("开启后，本知识库下的所有公开内容，都需要密码访问。")),P(d,_.b.DOC,__("所属知识库已开启密码，本内容已默认继承该密码。")),d),W=(P(m={},_.b.BOOK,(P(p={},_.a.PERSON,{desc:__("开启后，互联网所有人可搜到知识库里的公开内容")+__("（如果开启了密码，则搜索设置无效）"),action:__("允许语雀内公开搜索")}),P(p,_.a.ORG,{desc:__("开启后，空间成员可在空间里搜到知识库里的公开内容")+__("（如果开启了密码，则搜索设置无效）"),action:"允许空间内搜索"}),P(p,_.a.INTERNAL,{desc:__("开启后，集团所有人可搜到知识库里的公开内容")+__("（如果开启了密码，则搜索设置无效）"),action:__("允许内网公开搜索")}),p)),P(m,_.b.DOC,(P(h={},_.a.PERSON,{desc:__("开启后，互联网所有人可在语雀内搜索到当前内容")+__("（如果开启了密码，则搜索设置无效）"),action:__("允许语雀内公开搜索"),tip:__("所属知识库已允许语雀内公开搜索，文档无法独立设置。{terms}",{terms:g.createElement("a",{href:"https://www.yuque.com/yuque/thyzgp/lk1xr8",target:"_blank"},__("查看帮助"))})}),P(h,_.a.ORG,{desc:__("开启后，空间成员可在空间里搜索到当前内容")+__("（如果开启了密码，则搜索设置无效）"),action:__("允许空间内搜索"),tip:__("所属知识库已允许空间内搜索，文档无法独立设置。{terms}",{terms:g.createElement("a",{href:"https://www.yuque.com/yuque/thyzgp/lk1xr8",target:"_blank"},__("查看帮助"))})}),P(h,_.a.INTERNAL,{desc:__("开启后，集团内所有人都可在语雀里搜到当前内容")+__("（如果开启了密码，则搜索设置无效）"),action:__("允许内网公开搜索"),tip:__("所属知识库已允许内网公开搜索，文档无法独立设置。{terms}",{terms:g.createElement("a",{href:"https://yuque.antfin.com/lark/bsgp0v/wpclft",target:"_blank"},__("查看帮助"))})}),h)),m),V=P({},_.a.PERSON,{desc:__("单次分享有效期默认半年，到期后可再次开启")}),H=(P(y={},_.b.BOOK,__("可编辑，将拥有知识库的编辑权限。可阅读，仅拥有阅读和评论权限。")),P(y,_.b.DOC,__("可编辑，将拥有文档的编辑权限。可阅读，仅拥有阅读和评论权限。")),P(y,"actions",[{label:__("可阅读"),value:k.ROLE.readonly,key:"readonly"},{label:__("可编辑"),value:k.ROLE.edit,key:"edit"}]),y),Y={descBookDoc:__("开启后，允许通过邀请链接快速添加空间外人员。通过此方式加入协作的人，将自动加入空间。"),descGroup:__("开启后，允许通过邀请链接快速添加空间外人员。通过此方式加入协作的人，将自动加入团队。"),action:__("邀请空间外成员"),tip:function(e){return O.a.isOwner(e)?__("空间管理设置已关闭空间外人员添加权限，请先前往开启。{terms}",{terms:g.createElement("a",{href:"/r/organizations/dashboard/contacts/permission-settings",target:"_blank",rel:"noopener noreferrer"},__("立即前往"))}):__("管理员已关闭空间外人员添加权限，请联系管理员开启。{terms}",{terms:g.createElement("a",{href:"https://www.yuque.com/yuque/rvzzxz/csb5nu",target:"_blank"},__("查看帮助"))})}},K={descBookDoc:__("开启后，需经过手动审批确认，获得链接的人才能成为协作者。"),descGroup:__("开启后，需经过手动审批确认，获得链接的人才能加入团队。"),action:__("提交申请后需审批确认")},Q={desc:__("成员，将拥有团队知识库的编辑权限。只读成员，仅拥有只读权限。"),actions:[{label:__("成员"),value:j.ROLE.member,key:"member"},{label:__("只读成员"),value:j.ROLE.readonly,key:"readonly"}]},Z=(P(v={},_.a.PERSON,{actions:[{label:__("仅协作者可访问"),value:w.PRIVACY.private},{label:__("互联网所有人可访问"),value:w.PRIVACY.public}]}),P(v,_.a.ORG,{actions:[{label:__("仅协作者可访问"),value:w.PRIVACY.private},{label:__("空间所有成员可访问"),value:w.PRIVACY.intranet},{label:__("互联网所有人可访问"),value:w.PRIVACY.public,tip:function(e){var t,r=null==e||null===(t=e.abilities)||void 0===t?void 0:t.destroy;return O.a.isPremium(e)&&0===(null==e?void 0:e.share_to_outside_enable)?r?g.createElement(g.Fragment,null,__("空间管理设置已关闭对外分享权限，请先前往开启。"),g.createElement("a",{href:"/r/organizations/dashboard/security/sharing-control",target:"_blank",style:{marginLeft:"5px"}},__("前往开启"))):__("管理员已关闭空间外人员访问权限，请联系管理员开启。"):O.a.isFree(e)?r?g.createElement(g.Fragment,null,__("升级为专业版、旗舰版后可开启互联网公开"),g.createElement("a",{href:"/r/organizations/dashboard/cashier?action=buy&paySource=".concat(x.LIMIT_SCENE.share_public),target:"_blank",style:{marginLeft:"5px"}},O.a.getPaymentActionGuide(null==e?void 0:e.payment_type))):__("联系管理员升级为专业版、旗舰版后可开启互联网公开"):O.a.isExpired(e)?g.createElement(g.Fragment,null,__("过期空间不可以设置互联网所有人可访问"),r&&g.createElement("a",{href:"/r/organizations/dashboard/cashier?action=renew&paySource=".concat(x.LIMIT_SCENE.share_public),target:"_blank",style:{marginLeft:"5px"}},O.a.getPaymentActionGuide(null==e?void 0:e.payment_type))):""}}]}),P(v,_.a.INTERNAL,{actions:[{label:__("仅协作者可访问"),value:w.PRIVACY.private},{label:__("指定部门正式员工可访问"),value:w.EXTEND_PRIVATE_MAP_TO_PRIVACY_VALUE},{label:__("集团内所有正式员工可访问"),value:w.PRIVACY.intranet},{label:__("集团内所有人可访问"),value:w.PRIVACY.public}]}),v),X=(P(b={},_.a.PERSON,{actions:[{label:__("仅协作者可访问"),value:w.PRIVACY.private},{label:__("互联网所有人可访问"),value:w.PRIVACY.public}]}),P(b,_.a.ORG,{actions:[{label:__("仅协作者可访问"),value:w.PRIVACY.private},{label:__("空间所有成员可访问"),value:w.PRIVACY.intranet}]}),P(b,_.a.PUBLIC_PAGE,{actions:[{label:__("仅协作者可访问"),value:w.PRIVACY.private},{label:__("空间所有成员可访问"),value:w.PRIVACY.intranet},{label:__("互联网所有人可访问"),value:w.PRIVACY.public}]}),P(b,_.a.INTERNAL,{actions:[{label:__("仅协作者可访问"),value:w.PRIVACY.private},{label:__("指定部门正式员工可访问"),value:w.EXTEND_PRIVATE_MAP_TO_PRIVACY_VALUE},{label:__("集团内所有正式员工可访问"),value:w.PRIVACY.intranet}]}),b),J=function(e,t){var r=__("开启后，互联网所有获得链接的人皆可访问知识库下的全部内容。你需对其合法合规性负责，遵守相关法律法规及语雀 {terms} 约定，违规内容可能无法被查看。",{terms:g.createElement("a",{href:"https://www.yuque.com/terms#ubab347c6",target:"_blank","data-desktoptarget":"_browser"},__("服务协议"))}),n=__("开启后，互联网所有获得链接的人皆可访问。你需对其合法合规性负责，遵守相关法律法规及语雀 {terms} 约定，违规内容可能无法被查看。",{terms:g.createElement("a",{href:"https://www.yuque.com/terms#ubab347c6",target:"_blank","data-desktoptarget":"_browser"},__("服务协议"))}),o=e===_.b.BOOK?r:n;return Object(S.a)()?new Promise((function(e){t.confirm({icon:g.createElement(A.default,null),width:505,title:__("确认公开给互联网所有人"),content:g.createElement("span",null,o),okText:__("确认"),cancelText:__("取消"),onOk:function(){e(!0)},onCancel:function(){e(!1)}})})):e===_.b.NOTE?Promise.resolve(!0):new Promise((function(e){t.confirm({icon:g.createElement(A.default,null),width:505,title:__("申请开启集团所有人可访问"),content:__("设置 集团所有人可访问 需进行审批申请，主管通过后可对所有外包、未签订三方协议的实习生可见，请注意信息安全。"),okText:__("确认"),cancelText:__("取消"),onOk:function(){e(!0)},onCancel:function(){e(!1)}})}))},$=function(e){return new Promise((function(t){e.confirm({width:505,title:__("切换其他选项后再次选择「集团所有人可访问」，需要重新审批，确认切换吗？"),okText:__("确认"),cancelText:__("取消"),onOk:function(){t(!0)},onCancel:function(){t(!1)}})}))},ee=[{label:__("仅团队成员可访问"),value:w.PRIVACY.private},{label:__("空间所有成员可访问"),value:w.PRIVACY.intranet}],te=[{label:__("仅团队成员可访问"),value:w.PRIVACY.private},{label:__("指定部门正式员工可访问"),value:w.EXTEND_PRIVATE_MAP_TO_PRIVACY_VALUE},{label:__("集团内所有正式员工可访问"),value:w.PRIVACY.intranet},{label:__("集团内所有人可访问"),value:w.PRIVACY.public}]},3370:function(e,t,r){"use strict";r.d(t,"e",(function(){return i}));var n=r(242),o=r.n(n),a=r(3314);r.d(t,"i",(function(){return a.WORKFLOW_EVENT})),r.d(t,"h",(function(){return a.SAVE_TYPE})),r.d(t,"d",(function(){return a.ERROR_CODE})),r.d(t,"f",(function(){return a.MESSAGE})),r.d(t,"a",(function(){return a.DOC_STATUS})),r.d(t,"g",(function(){return a.NET_STATUS})),r.d(t,"b",(function(){return a.EDIT_MODE})),r.d(t,"c",(function(){return a.EDIT_SCENE}));var i={edit:{key:"e",title:"E"},publish:{key:["⌘+enter","ctrl+enter"],title:o.a.mac?"⌘+Enter":"Ctrl+Enter"}};a.WORKFLOW_EVENT,a.ACTION,a.SAVE_TYPE,a.ERROR_CODE,a.MESSAGE,a.DOC_STATUS,a.NET_STATUS,a.EDIT_MODE},3374:function(e,t,r){"use strict";var n=String.prototype.replace,o=/%20/g,a="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return String(e)}},RFC1738:a,RFC3986:i}},3377:function(e,t,r){"use strict";var n=r(953);t.a=function(){return Object(n.getInterest)()}},3381:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function o(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(o=e[r],a=t[r],!(o===a||n(o)&&n(a)))return!1;var o,a;return!0}function a(e,t){void 0===t&&(t=o);var r=null;function n(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(r&&r.lastThis===this&&t(n,r.lastArgs))return r.lastResult;var a=e.apply(this,n);return r={lastResult:a,lastArgs:n,lastThis:this},a}return n.clear=function(){r=null},n}},3393:function(e,t,r){"use strict";r(151);var n=r(66),o=r(0),a=r.n(o),i=["textRef","visible","onVisibleChange"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}t.a=function(e){var t=e.textRef,r=(e.visible,e.onVisibleChange),u=s(e,i),f=l(Object(o.useState)(!1),2),d=f[0],p=f[1];return a.a.createElement(n.a,c({},u,{visible:d,onVisibleChange:function(e){var n=e;null!=t&&t.current&&n&&(n=void 0!==t.current.offsetWidth&&void 0!==t.current.scrollWidth&&t.current.offsetWidth<t.current.scrollWidth),p(n),r&&r(n)}}))}},3413:function(e,t,r){"use strict";var n=r(3374),o=Object.prototype.hasOwnProperty,a=Array.isArray,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),c=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:c,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],i=o.obj[o.prop],c=Object.keys(i),l=0;l<c.length;++l){var u=c[l],s=i[u];"object"==typeof s&&null!==s&&-1===r.indexOf(s)&&(t.push({obj:i,prop:u}),r.push(s))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(a(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,o,a){if(0===e.length)return e;var c=e;if("symbol"==typeof e?c=Symbol.prototype.toString.call(e):"string"!=typeof e&&(c=String(e)),"iso-8859-1"===r)return escape(c).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var l="",u=0;u<c.length;++u){var s=c.charCodeAt(u);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||a===n.RFC1738&&(40===s||41===s)?l+=c.charAt(u):s<128?l+=i[s]:s<2048?l+=i[192|s>>6]+i[128|63&s]:s<55296||s>=57344?l+=i[224|s>>12]+i[128|s>>6&63]+i[128|63&s]:(u+=1,s=65536+((1023&s)<<10|1023&c.charCodeAt(u)),l+=i[240|s>>18]+i[128|s>>12&63]+i[128|s>>6&63]+i[128|63&s])}return l},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(a(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(a(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!o.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var i=t;return a(t)&&!a(r)&&(i=c(t,n)),a(t)&&a(r)?(r.forEach((function(r,a){if(o.call(t,a)){var i=t[a];i&&"object"==typeof i&&r&&"object"==typeof r?t[a]=e(i,r,n):t.push(r)}else t[a]=r})),t):Object.keys(r).reduce((function(t,a){var i=r[a];return o.call(t,a)?t[a]=e(t[a],i,n):t[a]=i,t}),i)}}},345:function(e,t,r){"use strict";var n=r(133),o=r.n(n),a=r(67),i=r(104),c=r.n(i),l=r(109),u=r.n(l),s=r(110),f=r.n(s),d=r(115),p=r.n(d),h=r(122),m=r.n(h),y=r(123),v=r.n(y),b=r(129),g=r.n(b),w=r(468),_=r.n(w);function E(e){return a.ua.chrome?e.filter((function(e){return!/\.\w+\./.test(e)})):e}var O=E(o.a),S=E(o.a.normal),A=E(o.a.paid),k=[m.a,v.a,p.a,g.a],j=E(_()(k).concat([".pdf"])),x=E(_()(k.map((function(e){return e.paid}))).concat([".pdf"])),C=c.a,P=c.a.normal,I=c.a.paid,T=u.a,N=u.a.paid,L=f.a,D=f.a.paid;t.a={LOCAL_DOC_EXT:j,LOCAL_DOC_EXT_NORMAL:[],LOCAL_DOC_EXT_PAID:x,FILE_EXT:O,FILE_EXT_NORMAL:S,FILE_EXT_PAID:A,IMAGE_EXT:C,IMAGE_EXT_NORMAL:P,IMAGE_EXT_PAID:I,VIDEO_EXT:T,VIDEO_EXT_NORMAL:[],VIDEO_EXT_PAID:N,AUDIO_EXT:L,AUDIO_EXT_NORMAL:[],AUDIO_EXT_PAID:D}},3493:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=".ne-editor-wrap",o=".lake-editor-scroll-container",a=".lake-sheet-scrollbar-x .lake-sheet-scrollbar-trigger",i=".lake-sheet-scrollbar-y .lake-sheet-scrollbar-trigger",c={storePosition:function(e,t){if(sessionStorage){var r=this._getStorageKey(e);sessionStorage.setItem(r,"".concat(t))}},storeSheetPosition:function(e,t){if(sessionStorage){var r=this._getStorageKey(e);sessionStorage.setItem("".concat(r,"-x"),"".concat(t.x)),sessionStorage.setItem("".concat(r,"-y"),"".concat(t.y))}},getStoredPosition:function(e){if(!sessionStorage)return-1;var t=this._getStorageKey(e),r=sessionStorage.getItem(t);return r?parseInt(r,10):-1},getSheetStoredPosition:function(e){if(!sessionStorage)return null;var t=this._getStorageKey(e),r=sessionStorage.getItem("".concat(t,"-x")),n=sessionStorage.getItem("".concat(t,"-y"));return r&&n?{x:parseFloat(r),y:parseFloat(n)}:null},clearStorage:function(e){if(sessionStorage){var t=this._getStorageKey(e);sessionStorage.removeItem(t)}},clearSheetStorage:function(e){if(sessionStorage){var t=this._getStorageKey(e);sessionStorage.removeItem("".concat(t,"-x")),sessionStorage.removeItem("".concat(t,"-y"))}},clearHistoryStorage:function(){sessionStorage&&Object.keys(sessionStorage).forEach((function(e){e.startsWith("content-position-offset-")&&sessionStorage.removeItem(e)}))},_getStorageKey:function(e){return"content-position-offset-".concat(e)}},l={saveReadPosition:function(e){var t,r=(null===(t=document.scrollingElement)||void 0===t?void 0:t.scrollTop)||document.body.scrollTop;r&&r>=32?c.storePosition(e,r):c.clearStorage(e)},letReaderFocusToMemorizedPosition:function(e){var t=c.getStoredPosition(e);t<=0||window.scrollTo(0,t)},letEditorFocusToReadPosition:function(e){var t=c.getStoredPosition(e);if(!(t<=0)){var r=this.getScrollContainer();r&&(r.scrollTop=t)}},getScrollContainer:function(){return document.querySelector(n)||document.querySelector(o)},saveEditPosition:function(e){if("lakesheet"!==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lake")){var t=this.getScrollContainer();if(t){var r=t.scrollTop;r>=32&&c.storePosition(e,r)}}else l.saveSheetPosition(e)},saveSheetPosition:function(e){var t=document.querySelector(a),r=document.querySelector(i);if(t&&r){var n={x:t.getAttribute("data-scroll"),y:r.getAttribute("data-scroll")};c.storeSheetPosition(e,n)}},getSheetStoredPosition:function(e){var t=c.getSheetStoredPosition(e);return t?(c.clearSheetStorage(e),t):null},clearPosition:function(e){e?c.clearStorage(e):c.clearHistoryStorage()}};t.c=l},3495:function(e,t,r){"use strict";var n=r(554);r.d(t,"b",(function(){return n.b})),r.d(t,"a",(function(){return n.a}))},3583:function(e,t,r){"use strict";var n=r(3586),o=r(3587),a=r(3374);e.exports={formats:a,parse:o,stringify:n}},3585:function(e,t,r){"use strict";var n=r(0),o=r(2),a=r(3616);function i(){}i.prototype=Object.create(n.Component.prototype),i.displayName="DocumentTitle",i.propTypes={title:o.string.isRequired},i.prototype.render=function(){return this.props.children?n.Children.only(this.props.children):null},e.exports=a((function(e){var t=e[e.length-1];if(t)return t.title}),(function(e){var t=e||"";t!==document.title&&(document.title=t)}))(i)},3586:function(e,t,r){"use strict";var n=r(723),o=r(3413),a=r(3374),i=Object.prototype.hasOwnProperty,c={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,u=Array.prototype.push,s=function(e,t){u.apply(e,l(t)?t:[t])},f=Date.prototype.toISOString,d=a.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:d,formatter:a.formatters[d],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},h={},m=function e(t,r,a,i,c,u,f,d,m,y,v,b,g,w,_,E){for(var O,S=t,A=E,k=0,j=!1;void 0!==(A=A.get(h))&&!j;){var x=A.get(t);if(k+=1,void 0!==x){if(x===k)throw new RangeError("Cyclic object value");j=!0}void 0===A.get(h)&&(k=0)}if("function"==typeof d?S=d(r,S):S instanceof Date?S=v(S):"comma"===a&&l(S)&&(S=o.maybeMap(S,(function(e){return e instanceof Date?v(e):e}))),null===S){if(c)return f&&!w?f(r,p.encoder,_,"key",b):r;S=""}if("string"==typeof(O=S)||"number"==typeof O||"boolean"==typeof O||"symbol"==typeof O||"bigint"==typeof O||o.isBuffer(S))return f?[g(w?r:f(r,p.encoder,_,"key",b))+"="+g(f(S,p.encoder,_,"value",b))]:[g(r)+"="+g(String(S))];var C,P=[];if(void 0===S)return P;if("comma"===a&&l(S))w&&f&&(S=o.maybeMap(S,f)),C=[{value:S.length>0?S.join(",")||null:void 0}];else if(l(d))C=d;else{var I=Object.keys(S);C=m?I.sort(m):I}for(var T=i&&l(S)&&1===S.length?r+"[]":r,N=0;N<C.length;++N){var L=C[N],D="object"==typeof L&&void 0!==L.value?L.value:S[L];if(!u||null!==D){var R=l(S)?"function"==typeof a?a(T,L):T:T+(y?"."+L:"["+L+"]");E.set(t,k);var M=n();M.set(h,E),s(P,e(D,R,a,i,c,u,"comma"===a&&w&&l(S)?null:f,d,m,y,v,b,g,w,_,M))}}return P};e.exports=function(e,t){var r,o=e,u=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=a.default;if(void 0!==e.format){if(!i.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=a.formatters[r],o=p.filter;return("function"==typeof e.filter||l(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:o,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof u.filter?o=(0,u.filter)("",o):l(u.filter)&&(r=u.filter);var f,d=[];if("object"!=typeof o||null===o)return"";f=t&&t.arrayFormat in c?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var h=c[f];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var y="comma"===h&&t&&t.commaRoundTrip;r||(r=Object.keys(o)),u.sort&&r.sort(u.sort);for(var v=n(),b=0;b<r.length;++b){var g=r[b];u.skipNulls&&null===o[g]||s(d,m(o[g],g,h,y,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,v))}var w=d.join(u.delimiter),_=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),w.length>0?_+w:""}},3587:function(e,t,r){"use strict";var n=r(3413),o=Object.prototype.hasOwnProperty,a=Array.isArray,i={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},c=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,r,n){if(e){var a=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,c=r.depth>0&&/(\[[^[\]]*])/.exec(a),u=c?a.slice(0,c.index):a,s=[];if(u){if(!r.plainObjects&&o.call(Object.prototype,u)&&!r.allowPrototypes)return;s.push(u)}for(var f=0;r.depth>0&&null!==(c=i.exec(a))&&f<r.depth;){if(f+=1,!r.plainObjects&&o.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(c[1])}return c&&s.push("["+a.slice(c.index)+"]"),function(e,t,r,n){for(var o=n?t:l(t,r),a=e.length-1;a>=0;--a){var i,c=e[a];if("[]"===c&&r.parseArrays)i=[].concat(o);else{i=r.plainObjects?Object.create(null):{};var u="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,s=parseInt(u,10);r.parseArrays||""!==u?!isNaN(s)&&c!==u&&String(s)===u&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(i=[])[s]=o:"__proto__"!==u&&(i[u]=o):i={0:o}}o=i}return o}(s,t,r,n)}};e.exports=function(e,t){var r=function(e){if(!e)return i;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?i.charset:e.charset;return{allowDots:void 0===e.allowDots?i.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:i.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:i.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:i.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:i.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:i.comma,decoder:"function"==typeof e.decoder?e.decoder:i.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:i.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:i.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:i.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:i.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:i.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var s="string"==typeof e?function(e,t){var r,u={__proto__:null},s=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,d=s.split(t.delimiter,f),p=-1,h=t.charset;if(t.charsetSentinel)for(r=0;r<d.length;++r)0===d[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[r]?h="utf-8":"utf8=%26%2310003%3B"===d[r]&&(h="iso-8859-1"),p=r,r=d.length);for(r=0;r<d.length;++r)if(r!==p){var m,y,v=d[r],b=v.indexOf("]="),g=-1===b?v.indexOf("="):b+1;-1===g?(m=t.decoder(v,i.decoder,h,"key"),y=t.strictNullHandling?null:""):(m=t.decoder(v.slice(0,g),i.decoder,h,"key"),y=n.maybeMap(l(v.slice(g+1),t),(function(e){return t.decoder(e,i.decoder,h,"value")}))),y&&t.interpretNumericEntities&&"iso-8859-1"===h&&(y=c(y)),v.indexOf("[]=")>-1&&(y=a(y)?[y]:y),o.call(u,m)?u[m]=n.combine(u[m],y):u[m]=y}return u}(e,r):e,f=r.plainObjects?Object.create(null):{},d=Object.keys(s),p=0;p<d.length;++p){var h=d[p],m=u(h,s[h],r,"string"==typeof e);f=n.merge(f,m,r)}return!0===r.allowSparse?f:n.compact(f)}},3590:function(e,t,r){"use strict";r(782);var n=r(379),o=r(0),a=r.n(o),i=r(5),c=r.n(i),l=r(45),u=r(3598),s={popover:"Tour-module_popover_mkOsy",popContainer:"Tour-module_popContainer_RCEzF",popContent:"Tour-module_popContent_agPWQ",close:"Tour-module_close_czKPt",popStep:"Tour-module_popStep_8Vgli",popStepItem:"Tour-module_popStepItem_2UoUB",popContainerTwo:"Tour-module_popContainerTwo_6yJro",shake:"Tour-module_shake_EnNZU",PanelShake:"Tour-module_PanelShake_SM2sR",popup:"Tour-module_popup_2jflo",breathe:"Tour-module_breathe_xoYDY"};function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.placement,r=void 0===t?"left":t,i=e.content,f=void 0===i?[]:i,y=e.onClose,v=e.children,b=e.step,g=e.stage,w=e.taskId,_=e.width,E=e.height,O=e.offsetX,S=e.offsetY,A=e.offsetRight,k=e.offsetBottom,j=e.borderRadius,x=void 0===j?8:j,C=e.popWidth,P=void 0===C?"auto":C,I=e.action,T=void 0===I?"hover":I,N=e.popMarginLeft,L=void 0===N?0:N,D=e.getPopupContainer,R=e.popupStyle,M=m(Object(o.useState)(!1),2),B=M[0],F=M[1],G=m(Object(o.useState)(!1),2),z=G[0],U=G[1],q=u.a.getInstance();Object(o.useEffect)((function(){var e=function(e){var t=e.step,r=e.stage,n=e.isProcess,o=e.taskId;F(n&&t===b&&r===g&&o===w)},t=q.getTaskStateInfo();if(t&&"object"===h(t)){var r=t.isProcess,n=t.stage;e({step:t.step,stage:n,isProcess:r,taskId:t.taskId})}var o=function(){F(!1)},a=q.onTaskStateChanged(e),i=q.onCloseTask(o),c=q.onCloseAllTask(o),l=q.onShake((function(e){var t=e.step,r=e.taskId,n=e.stage;b===t&&r===w&&n===g&&(U(!0),setTimeout((function(){U(!1)}),1e3))}));return function(){a(),i(),c(),l()}}),[]),Object(o.useEffect)((function(){var e,t,r=document.getElementById("task-cover-block-".concat(w,"-").concat(g,"-").concat(b)),n="hover"===T?"mouseenter":"click";if(!B)return null==r||null===(e=r.nextSibling)||void 0===e?void 0:e.removeEventListener(n,W);r&&B&&(null===(t=r.nextSibling)||void 0===t||t.addEventListener(n,W,!1));return q.onCloseAllTask((function(){var e;null==r||null===(e=r.nextSibling)||void 0===e||e.removeEventListener(n,W)})),function(){var e;null==r||null===(e=r.nextSibling)||void 0===e||e.removeEventListener(n,W)}}),[B]);var W=function(){setTimeout((function(){var t=q.getTaskStateInfo();t&&(t.taskId!==e.taskId||t.stage!==e.stage||t.step>e.step)||(q.taskStateChanged({step:e.step+1,stage:e.stage,isProcess:!0,taskId:e.taskId}),F(!1))}),100)};if(v instanceof Array)throw new Error("Array nodes are not supported, Please check it!");var V,H=function(e){e.stopPropagation(),q.closeTask(),null==y||y()};return a.a.createElement(n.a,{content:a.a.createElement("div",{className:c()(s.popContainer,(V={},p(V,s.popContainerTwo,f.length>1),p(V,s.shake,z),V)),onMouseOver:function(e){e.stopPropagation()},onClick:function(e){e.stopPropagation()},style:d(d({},R),{},{width:P,marginLeft:L})},a.a.createElement("div",{className:c()(s.close,p({},s.closeOne,1===f.length))},a.a.createElement(l.b,{name:"Close",width:16,onClick:H})),a.a.createElement("div",{className:s.popContent},f[0]&&a.a.createElement("p",null,f[0]),f[1]&&a.a.createElement("p",null,f[1]))),visible:B,placement:r,getPopupContainer:function(t){var r=document.createElement("div");if(r.style.width="100%",r.style.position="absolute",r.style.height="0",D){var n=D(t);return n.parentNode.appendChild(r),n.parentNode}return t.parentNode.appendChild(r),e.parentNode||t.parentNode},overlayClassName:s.popover},B&&a.a.createElement("div",{style:{width:_,height:E,top:S,left:O,borderRadius:x,right:A,bottom:k},className:s.popup,id:"task-cover-block-".concat(w,"-").concat(g,"-").concat(b)}),e.children)}},3593:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function o(e,t,r){const n=r[0];if(null!=t&&e>=t)throw new Error(e+" >= "+t);if(e.slice(-1)===n||t&&t.slice(-1)===n)throw new Error("trailing zero");if(t){let a=0;for(;(e[a]||n)===t[a];)a++;if(a>0)return t.slice(0,a)+o(e.slice(a),t.slice(a),r)}const a=e?r.indexOf(e[0]):0,i=null!=t?r.indexOf(t[0]):r.length;if(i-a>1){return r[Math.round(.5*(a+i))]}return t&&t.length>1?t.slice(0,1):r[a]+o(e.slice(1),null,r)}function a(e){if(e.length!==i(e[0]))throw new Error("invalid integer part of order key: "+e)}function i(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-"a".charCodeAt(0)+2;if(e>="A"&&e<="Z")return"Z".charCodeAt(0)-e.charCodeAt(0)+2;throw new Error("invalid order key head: "+e)}function c(e){const t=i(e[0]);if(t>e.length)throw new Error("invalid order key: "+e);return e.slice(0,t)}function l(e,t){if(e==="A"+t[0].repeat(26))throw new Error("invalid order key: "+e);const r=c(e);if(e.slice(r.length).slice(-1)===t[0])throw new Error("invalid order key: "+e)}function u(e,t){a(e);const[r,...n]=e.split("");let o=!0;for(let e=n.length-1;o&&e>=0;e--){const r=t.indexOf(n[e])+1;r===t.length?n[e]=t[0]:(n[e]=t[r],o=!1)}if(o){if("Z"===r)return"a"+t[0];if("z"===r)return null;const e=String.fromCharCode(r.charCodeAt(0)+1);return e>"a"?n.push(t[0]):n.pop(),e+n.join("")}return r+n.join("")}function s(e,t,r=n){if(null!=e&&l(e,r),null!=t&&l(t,r),null!=e&&null!=t&&e>=t)throw new Error(e+" >= "+t);if(null==e){if(null==t)return"a"+r[0];const e=c(t),n=t.slice(e.length);if(e==="A"+r[0].repeat(26))return e+o("",n,r);if(e<t)return e;const i=function(e,t){a(e);const[r,...n]=e.split("");let o=!0;for(let e=n.length-1;o&&e>=0;e--){const r=t.indexOf(n[e])-1;-1===r?n[e]=t.slice(-1):(n[e]=t[r],o=!1)}if(o){if("a"===r)return"Z"+t.slice(-1);if("A"===r)return null;const e=String.fromCharCode(r.charCodeAt(0)-1);return e<"Z"?n.push(t.slice(-1)):n.pop(),e+n.join("")}return r+n.join("")}(e,r);if(null==i)throw new Error("cannot decrement any more");return i}if(null==t){const t=c(e),n=e.slice(t.length),a=u(t,r);return null==a?t+o(n,null,r):a}const i=c(e),s=e.slice(i.length),f=c(t),d=t.slice(f.length);if(i===f)return i+o(s,d,r);const p=u(i,r);if(null==p)throw new Error("cannot increment any more");return p<t?p:i+o(s,null,r)}var f=r(3344),d=r(51),p=r(198);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(){m=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:x(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",y="executing",v="completed",b={};function g(){}function w(){}function _(){}var E={};u(E,i,(function(){return this}));var O=Object.getPrototypeOf,S=O&&O(O(N([])));S&&S!==r&&n.call(S,i)&&(E=S);var A=_.prototype=g.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==h(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function x(t,r,n){var o=d;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===b)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?v:p,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,b;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(h(t)+" is not iterable")}return w.prototype=_,o(A,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=u(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(j.prototype),u(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),u(A,l,"Generator"),u(A,i,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function y(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function w(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"_manifests",[]),w(this,"_assistants",[]),w(this,"_currentAssistant",void 0),w(this,"_listeners",[]),w(this,"_contextData",void 0),w(this,"_visibility",f.e.Invisible),w(this,"_initializedAssistants",[])}var t,r,n,o,a;return t=e,r=[{key:"manifests",get:function(){return this._manifests}},{key:"currentAssistant",get:function(){return this._currentAssistant}},{key:"isExpanded",get:function(){return this._visibility===f.e.Expanded}},{key:"isCollapsed",get:function(){return this._visibility===f.e.Collapsed}},{key:"isInvisible",get:function(){return this._visibility===f.e.Invisible}},{key:"visibility",get:function(){return this._visibility}},{key:"assistants",get:function(){return this._assistants.sort((function(e,t){return e.priority>t.priority?1:-1}))}},{key:"rightBarAssistants",get:function(){var e=this;return this.assistants.filter((function(t){var r,n;return!(e._contextData&&null!==(r=t.provider)&&void 0!==r&&null!==(n=r.isInvisibility)&&void 0!==n&&n.call(r,b(b({},e._contextData),{},{target:t.target})))}))}},{key:"first",get:function(){var e;return null===(e=this.rightBarAssistants)||void 0===e?void 0:e[0]}},{key:"switchVisibility",value:function(e){this._visibility!==e&&(this._visibility=e,this.notifyListener((function(t){var r;return null===(r=t.onVisibilityChanged)||void 0===r?void 0:r.call(t,e)})))}},{key:"switchExpand",value:function(){this.initCurrentAssistant(),this.switchVisibility(f.e.Expanded)}},{key:"switchCollapsed",value:function(){this.switchVisibility(f.e.Collapsed)}},{key:"switchInvisible",value:function(){this.switchVisibility(f.e.Invisible)}},{key:"addListener",value:function(e){var t=this;return this._listeners.push(e),function(){return t.removeListener(e)}}},{key:"removeListener",value:function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))}},{key:"notifyListener",value:function(e){this._listeners.forEach(e)}},{key:"switchAssistant",value:function(e){var t,r,n;if(this._contextData){var o,a,i=this.getAssistantById(e);i&&(this.setCurrentAssistant(i),null!==(t=i.provider)&&void 0!==t&&null!==(r=t.isEnable)&&void 0!==r&&r.call(t,b(b({},this._contextData),{},{target:i.target}))&&(this._initializedAssistants.indexOf(i)>-1?null===(o=i.provider)||void 0===o||null===(a=o.onContextDataChanged)||void 0===a||a.call(o,b(b({},this._contextData),{},{target:i.target})):(null===(n=i.provider)||void 0===n||n.initialize(b(b({},this._contextData),{},{target:i.target})),this._initializedAssistants.push(i))))}}},{key:"getAssistantById",value:function(e){return this._assistants.find((function(t){return t.id===e}))}},{key:"getAssistantByTargetId",value:function(e){return this._assistants.find((function(t){var r;return(null===(r=t.target)||void 0===r?void 0:r.id)===e}))}},{key:"setCurrentAssistant",value:function(e){this._currentAssistant!==e&&(this._currentAssistant=e,p.a.set(f.a,e.id),this.notifyListener((function(t){var r;return null===(r=t.onActivateAssistantChanged)||void 0===r?void 0:r.call(t,e)})))}},{key:"updateContext",value:function(e){var t,r;this._contextData=e;var n=this._currentAssistant;n&&null!==(t=n.provider)&&void 0!==t&&null!==(r=t.isEnable)&&void 0!==r&&r.call(t,b(b({},e),{},{target:n.target}))&&this.switchAssistant(n.id)}},{key:"removeAssistant",value:function(e,t){var r=this.getAssistantById(e)||this.getAssistantByTargetId(e);if(e=(null==r?void 0:r.id)||e,r){if(t){var n,o,a=this._assistants.indexOf(r);-1!==a&&(this._assistants.splice(a,1),null===(n=r.provider)||void 0===n||null===(o=n.destroy)||void 0===o||o.call(n))}this._assistants=this._assistants.filter((function(t){return t.id!==e})),this.currentAssistant===r&&this.first&&this.switchAssistant(this.first.id),this.notifyListener((function(e){var t;return null===(t=e.onAssistantsChanged)||void 0===t?void 0:t.call(e)})),this.notifyListener((function(e){var t;return null===(t=e.onManifestsChanged)||void 0===t?void 0:t.call(e)}))}}},{key:"addManifest",value:function(e){this._manifests.push(e),this.notifyListener((function(e){var t;return null===(t=e.onManifestsChanged)||void 0===t?void 0:t.call(e)}))}},{key:"addAssistant",value:function(e){this._assistants.push(e),this.notifyListener((function(e){var t;return null===(t=e.onAssistantsChanged)||void 0===t?void 0:t.call(e)})),this.notifyListener((function(e){var t;return null===(t=e.onManifestsChanged)||void 0===t?void 0:t.call(e)}))}},{key:"initCurrentAssistant",value:function(){if(0!==this._assistants.length){var e,t=parseInt(p.a.get(f.a)||-1,10);this.getAssistantById(t)?this.switchAssistant(t):this.switchAssistant((null===(e=this.first)||void 0===e?void 0:e.id)||-1)}}},{key:"reorderAssistants",value:(o=m().mark((function e(t,r,n){var o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.priority=s(r,n),this.notifyListener((function(e){var t;return null===(t=e.onAssistantsChanged)||void 0===t?void 0:t.call(e)})),!(t.id<0)){e.next=7;break}return e.next=5,d.a.mine.superSidebarProvider.create({type:t.type,priority:t.priority});case 5:o=e.sent,t.id=o.id;case 7:return e.next=9,d.a.mine.superSidebarProvider.update({id:t.id,priority:t.priority});case 9:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new Promise((function(r,n){var a=o.apply(e,t);function i(e){y(a,r,n,i,c,"next",e)}function c(e){y(a,r,n,i,c,"throw",e)}i(void 0)}))},function(e,t,r){return a.apply(this,arguments)})},{key:"getLatestPriority",value:function(){var e;return s(null===(e=this.assistants.at(-1))||void 0===e?void 0:e.priority,null)}},{key:"getAssistantByType",value:function(e){return this._assistants.find((function(t){return t.type===e}))}},{key:"switchAssistantByType",value:function(e){var t=this.getAssistantByType(e);t&&this.switchAssistant(t.id)}}],r&&g(t.prototype,r),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),O=new E},3598:function(e,t,r){"use strict";var n=r(1022),o=r(198),a="TAKS_STATE_CHANGE",i="CLOSE",c="GIVE_UP",l="CLOSE_TASK_CONFIRM_MODAL",u="CLOSE_ALL_TASK",s="WAKE_UP",f="GIVE_UP_SUCCESS",d="SHARK",p=r(3611),h=r(500);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function g(e,t,r){return(t=w(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}var _=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,"eventInstance",void 0),g(this,"taskStateInfoKey",void 0),g(this,"taskStartKey",void 0),this.eventInstance=t;var r=window.appData.me;this.taskStateInfoKey="TASK_STATE_INFO_".concat(r.id),this.taskStartKey="TASK_START_".concat(r.id)}var t,r,m;return t=e,r=[{key:"taskStateChanged",value:function(e){var t=e.taskId,r=e.stage,n=e.step,i=e.isProcess,c=Object(p.c)(t),l=n;l||(l=o.a.getObject(c).step),o.a.set(c,{isProcess:i,step:l,stage:r,taskId:t}),this.eventInstance.emit(a,{isProcess:i,step:l,stage:r,taskId:t})}},{key:"onTaskStateChanged",value:function(e){var t=this;return this.eventInstance.addListener(a,e),function(){t.eventInstance.removeListener(a,e)}}},{key:"closeTask",value:function(){var e=this.getTaskStateInfo(),t=e.step,r=e.stage,n=e.taskId;this.taskStateChanged({isProcess:!1,step:t,stage:r,taskId:n}),this.eventInstance.emit(i)}},{key:"onCloseTask",value:function(e){var t=this;return this.eventInstance.addListener(i,e),function(){t.eventInstance.removeListener(i,e)}}},{key:"closeTaskConfirmModal",value:function(){this.eventInstance.emit(l)}},{key:"onCloseTaskConfirmModal",value:function(e){var t=this;return this.eventInstance.addListener(l,e),function(){t.eventInstance.removeListener(l,e)}}},{key:"giveUpTask",value:function(){this.eventInstance.emit(c)}},{key:"onGiveUpTask",value:function(e){var t=this;return this.eventInstance.addListener(c,e),function(){t.eventInstance.removeListener(c,e)}}},{key:"giveUpSuccess",value:function(){this.eventInstance.emit(f)}},{key:"onGiveUpTaskSuccess",value:function(e){var t=this;return this.eventInstance.addListener(f,e),function(){t.eventInstance.removeListener(f,e)}}},{key:"clearTaskStateInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.TASK_ID.NOVICE_OFFER;o.a.remove(Object(p.c)(e))}},{key:"getTaskStateInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.TASK_ID.NOVICE_OFFER;return o.a.getObject(Object(p.c)(e))}},{key:"closeAllTask",value:function(){var e=this.getTaskStateInfo()||{},t=e.step,r=void 0===t?1:t,n=e.stage,o=e.taskId;this.taskStateChanged({isProcess:!1,step:r,stage:n,taskId:o}),this.eventInstance.emit(u)}},{key:"onCloseAllTask",value:function(e){var t=this;return this.eventInstance.addListener(u,e),function(){t.eventInstance.removeListener(u,e)}}},{key:"wakeUp",value:function(){if(o.a.get(this.taskStartKey)){var e=this.getTaskStateInfo(),t=e.step,r=e.stage,n=e.taskId;this.taskStateChanged({isProcess:!0,step:t,stage:r,taskId:n})}this.eventInstance.emit(s)}},{key:"onWakeUp",value:function(e){var t=this;return this.eventInstance.addListener(s,e),function(){t.eventInstance.removeListener(s,e)}}},{key:"shake",value:function(e){this.taskStateChanged(v(v({},e),{},{isProcess:!0})),this.eventInstance.emit(d,e)}},{key:"onShake",value:function(e){var t=this;return this.eventInstance.addListener(d,e),function(){t.eventInstance.removeListener(d,e)}}}],m=[{key:"getInstance",value:function(){return this._taskEvent||(this._taskEvent=new e(new n.EventEmitter)),this._taskEvent}}],r&&b(t.prototype,r),m&&b(t,m),Object.defineProperty(t,"prototype",{writable:!1}),e}();g(_,"_taskEvent",void 0);t.a=_},3610:function(e,t,r){"use strict";r.d(t,"a",(function(){return k}));r(782);var n=r(379),o=r(0),a=r.n(o),i=r(5),c=r.n(i),l=r(2),u=r.n(l),s=r(469),f=r(45),d=r(3495),p={bookIconPopover:"BookIcon-module_bookIconPopover_-uyNA",bookTitle:"BookIcon-module_bookTitle_hK56I",bookIconSelector:"BookIcon-module_bookIconSelector_yaICm",iconSelectorTab:"BookIcon-module_iconSelectorTab_SP0xx",iconSelectorTabActive:"BookIcon-module_iconSelectorTabActive_l6Wg3",iconSelectorContent:"BookIcon-module_iconSelectorContent_3acOH",iconSelectorContentTab2:"BookIcon-module_iconSelectorContentTab2_sapYE",iconSelectorColorPicker:"BookIcon-module_iconSelectorColorPicker_W+uxH",spanActive:"BookIcon-module_spanActive_zUcmt"};function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,r)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function E(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var S=d.b.getSelectorIcons().URL_TYPE_LIST,A=["book-icon-alipay","book-icon-alibaba","book-icon-taobao"],k=function(e){var t=e.value,r=e.icon,n=a.a.useMemo((function(){return null!=t&&t.type?t:{type:"url",symbol:r||S[0]}}),[t,r]);return a.a.createElement("div",{tabIndex:"0","data-testid":"popover-bookicon",style:e.style,className:e.className},a.a.createElement(f.b,{className:c()(p.bookIcon,E({},p.iconSize,"icon"===n.type)),size:e.size,width:e.width,height:e.height,name:d.b.getSymbolName(n)}))},j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(l,e);var t,r,o,i=g(l);function l(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),E(w(r=i.call(this,e,t)),"updateIcon",(function(e,t){var n,o,a=r.state.bookIcon;if(a[e]!==t){var i=y({},a);if(i[e]=t,"type"===e)switch(t){case"icon":case"url":i.symbol=S[0];break;default:return}i.type="url",r.setState({bookIcon:i}),null===(n=(o=r.props).updateIcon)||void 0===n||n.call(o,i,r.props.book)}}));var n=e.value,o=e.icon;return r.state={bookIcon:null!=n&&n.type?n:{type:"url",symbol:o||S[0]}},r}return t=l,(r=[{key:"render",value:function(){var e=this,t=this.state.bookIcon,r=this.props.value,o=t.type||r.type||"url";return a.a.createElement(n.a,{trigger:this.props.disabled?"":"click",noArrow:!0,getPopupContainer:function(e){return e.parentNode},overlayClassName:p.bookIconPopover,placement:"bottomLeft",content:a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:p.bookIconSelector},a.a.createElement("ul",{className:p.iconSelectorTab},a.a.createElement("li",{onClick:function(){return e.updateIcon("type","url")},"data-testid":"bookicon-url",className:"url"===o?p.iconSelectorTabActive:""},__("默认"))),a.a.createElement("div",null,a.a.createElement("ul",{className:p.iconSelectorContent},S.filter((function(e){return!A.includes(e)})).map((function(t,r){return a.a.createElement("li",{key:r,onClick:function(){return e.updateIcon("symbol",t)}},a.a.createElement(f.b,{className:p.bookIcon,name:t,width:24}))}))))))},a.a.createElement("div",{tabIndex:"0","data-testid":"popover-bookicon",style:y({},this.props.style),className:this.props.className},a.a.createElement(f.b,{className:c()(p.bookIcon,E({},p.iconSize,"icon"===t.type)),size:this.props.size,width:this.props.width,height:this.props.height,name:d.b.getSymbolName(t)||r.symbol})))}}])&&v(t.prototype,r),o&&v(t,o),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.Component);j.defaultProps={value:{}},j.propTypes={value:u.a.object,book:u.a.object,icon:u.a.string,updateIcon:u.a.func,disabled:u.a.bool,className:u.a.string,size:u.a.number,width:u.a.number,height:u.a.number};t.b=Object(s.d)((function(e){return e}))(j)},3611:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return c}));var n=r(500),o=function(e,t,r){var o=n.TASK_INFO.tasks[e];if(!o)return null;var a=o.actions,i=a.indexOf(t);return i<0||i>=a.length-1?null:a[i+r]},a=function(e,t,r){var o=n.TASK_INFO.tasks[e];if(!o)return null;var a=o.actions;return a.indexOf(t)>a.indexOf(r)},i=function(e){var t,r=null===(t=document.querySelector('meta[name="pagename"]'))||void 0===t?void 0:t.getAttribute("content");return!((null==r?void 0:r.indexOf(e))<0)},c=function(e){var t=window.appData.me;return e===n.TASK_ID.NOVICE_OFFER?"TASK_STATE_INFO_".concat(null==t?void 0:t.id):"TASK_STATE_INFO_".concat(e,"_").concat(null==t?void 0:t.id)}},3614:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return s}));var n=r(0),o=r(1212);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function c(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"leftSidebarWidth",get:function(){return this._leftSidebarWidth}},{key:"rightSidebarWidth",get:function(){return this._rightSidebarWidth}},{key:"addChangedListener",value:function(e){var t=this;return this._listeners.push(e),function(){return t.removeChangedListener(e)}}},{key:"removeChangedListener",value:function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))}},{key:"handleSidebarWidthChange",value:function(e){var t=e.leftWidth,r=e.rightWidth;null!=t&&this._leftSidebarWidth!==t&&(this._leftSidebarWidth=t,this._listeners.forEach((function(e){var r;null===(r=e.onLeftSidebarWidth)||void 0===r||r.call(e,t)}))),null!=r&&this._rightSidebarWidth!==r&&(this._rightSidebarWidth=r,this._listeners.forEach((function(e){var t;null===(t=e.onRightSidebarWidth)||void 0===t||t.call(e,r)})));var n=document.getElementsByClassName("main-wrapper")[0];if(n){var o=this._leftSidebarWidth+this._rightSidebarWidth;n.style.width="calc(100vw - ".concat(o,"px)"),n.style["margin-left"]="".concat(this._leftSidebarWidth,"px"),n.style["margin-right"]="".concat(this._rightSidebarWidth,"px"),window.dispatchEvent(new CustomEvent("DashboardSideBar.resize",{detail:{leftSidebarWidth:this._leftSidebarWidth,rightSidebarWidth:this._rightSidebarWidth}}))}}}],(r=null)&&i(t.prototype,r),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(){var e=Object(o.a)();return Object(n.useEffect)((function(){return u.addChangedListener({onRightSidebarWidth:e})}),[]),{rightSidebarWidth:u.rightSidebarWidth}}c(u,"_leftSidebarWidth",0),c(u,"_rightSidebarWidth",0),c(u,"_listeners",[])},3615:function(e,t,r){"use strict";r.d(t,"a",(function(){return P})),r.d(t,"d",(function(){return I})),r.d(t,"c",(function(){return S}));var n=r(420),o=r(72),a=r.n(o),i=r(318),c=r(217),l=r(24);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=m(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=[{key:"all",label:__("全部")},{key:"doc",label:__("文档#compact")},{key:"sheet",label:__("表格")},{key:"board",label:__("画板")},{key:"table",label:__("数据表")},{key:"thread",label:__("话题")}],b=[{key:"all",label:__("时间不限")},{key:"1d",label:__("24 小时内")},{key:"7d",label:__("7 天内")},{key:"30d",label:__("30 天内")},{key:"183d",label:__("半年内")}],g=[{key:"content",label:__("内容#compact")},{key:"book",label:__("知识库#compact")},{key:"group",label:c.c.isPublication()?__("知识小组#nav"):__("团队#nav")},{key:"user",label:__("用户#nav")}],w={book:"book",group:"group",related:"related",public:"public",organization:"organization"},_=[{key:w.related,label:__("与我相关")},{key:w.organization,label:__("空间")},{key:w.public,label:window.appData.isYuque?__("公开语雀"):__("内网公开")},{key:w.group,label:c.c.isPublication()?__("当前知识小组#nav"):__("当前团队#nav")},{key:w.book,label:__("当前知识库")}],E={CONTENT_TYPES:v,TIMES:b,SEARCH_TYPES:g,SEARCH_TAB_LIST:_};function O(e,t){if(!e||!t)return!1;var r=e.abilities;return!!r&&!!r[t]}function S(e){return"string"!=typeof e?"":e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function A(e){var t;return"modal"===e&&"dashboard"===(null===(t=window.appData.matchCondition)||void 0===t?void 0:t.page)||window&&window.location&&"/search"===window.location.pathname}function k(e,t){if(!e||"/"===e)return w.public;"/"===e.charAt(0)&&(e=e.slice(1));var r=h(e.split("/").map((function(e){return e.trim()})),2),n=r[0],o=void 0===n?"":n,a=r[1];return(void 0===a?"":a)||t?w.book:o?w.group:void 0}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"public",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.embed,o=t.isDocCollaborator,a=(t.search,t.organization),i=t.group,u=t.me,s=t.share,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"dropdown",d=u&&u.id,p=s&&s.token,h=[w.public,w.related],m=JSON.parse(JSON.stringify(_));if(r||e!==w.group||(h=[w.group]),d?([w.public,w.related].includes(e)&&(h=[w.public,w.related]),e===w.group&&(h=[w.group,w.public,w.related]),e===w.book&&(h=[w.book,w.group,w.public,w.related],(o||p)&&(h=[w.book,w.public,w.related]))):([w.public,w.related].includes(e)&&(h=[]),e===w.group&&(h=[w.group]),e===w.book&&(h=[w.book,w.group]),e===w.book&&p&&(h=[w.book])),null!=a&&a.id){var y,v=O(a,"read_home"),b=window.appData.organizations,g=null==b||null===(y=b.find((function(e){return e.id===a.id})))||void 0===y?void 0:y.member,E=n.organizationUser.ROLE,S=(null==g?void 0:g.role)===E.outsourcer;h=h.map((function(e){return e===w.public?S?null:v?w.organization:null:e===w.related?v?w.related:null:e===w.group?v?w.group:null:e})).filter((function(e){return e})),m=m.map((function(e){return e.key===w.organization&&(e.label=a.name),e}))}return l.f&&(h=h.filter((function(e){return e!==w.public}))),h.includes(w.group)&&(m=m.map((function(e){return e.key===w.group&&("User"===(null==i?void 0:i.type)?e.label=__("当前用户"):"Wiki"===(null==i?void 0:i.type)?e.label=__("公共区"):e.label=c.c.isPublication()?__("当前知识小组#nav"):__("当前团队#nav")),e}))),"dropdown"===f?h.map((function(e){return m.find((function(t){return t.key===e}))})):m.map((function(e){return h.includes(e.key)&&e})).filter((function(e){return e}))}var x={create_note:{key:"create_note",icon:"doc-type-note",label:__("新建小记"),label_en:"create note"},create_doc:{key:"create_doc",icon:"doc-type-default",label:__("新建文档"),label_en:"create doc"},create_sheet:{key:"create_sheet",icon:"doc-type-sheet",label:__("新建表格"),label_en:"create sheet"},create_board:{key:"create_board",icon:"doc-type-board",label:__("新建画板"),label_en:"create board"},create_table:{key:"create_table",icon:"doc-type-table",label:__("新建数据表"),label_en:"create table"},create_repo:{key:"create_repo",icon:"book-type-default",label:__("新建知识库"),label_en:"create repo"},edit_doc:{key:"edit_doc",icon:"edit-border",label:__("编辑文档"),url:"/:group_login/:book_slug/:doc_slug/edit"},enter_ppt:{key:"enter_ppt",icon:"present",label:__("进入演示模式"),noJump:!0,label_en:"ppt show"},view_notification:{key:"notification",icon:"nav-bell",label:__("查看消息"),noJump:!0,label_en:"open notification"},switch_theme:{key:"switch_theme",icon:"nav-night",label:__("切换主题模式"),noJump:!0,label_en:"switch dark mode theme"},publish_doc:{key:"publish_doc",icon:"publish-send",label:__("更新 / 发布"),noJump:!0,label_en:"Update / Publish"},sep:{key:"seperator",isSep:!0}},C={book_home:{key:"book_home",icon:"knowledge-base-home",label:__("知识库首页"),url:"/:group_login/:book_slug",label_en:"repo home page"},book_settings:{key:"book_settings",icon:"more-settings",label:__("知识库设置"),url:"/:group_login/:book_slug/settings/basic",label_en:"repo setting page"},group_home:{key:"group_home",icon:"left-arrow",label:":group_name",url:"/:group_login",label_en:"group home"},group_activity:{key:"group_activity",icon:"dynamic2",label:__("动态"),url:"/r/:group_login/activities",label_en:"group activity"},group_book:{key:"group_book",icon:"helpdoc",label:__("知识库"),url:l.g?"/:group_login":"/r/:group_login/books",label_en:"my books"},dashboard:{key:"dashboard",icon:"nav-clock",label:__("开始"),url:"/dashboard",label_en:"dashboard"},back_dashboard:{key:"back_dashboard",icon:"left-arrow",label:__("工作台"),url:"/dashboard"},note:{key:"note",icon:"note",label:__("小记"),url:"/dashboard/notes",label_en:"create note"},wiki:{key:"wiki",icon:"wiki",label:__("公共区"),url:"/dashboard/org_wiki",label_en:"common wiki"}};var P={GROUP_SELECT:"GROUP_SELECT",DOC_SELECT:"DOC_SELECT"},I=new a.a;t.b={SEARCH_TOOL_EVENTS:P,SEARCH_TYPES:g,CONTENT_TYPES:v,TIMES:b,SEARCH_TABS:w,JUMP_LINKS:C,searchToolEvent:I,can:O,escapeStrRegexp:S,getLabelByKey:function(e,t){return"TIMES"===e&&"all"===t?__("更新时间"):((E[e.toUpperCase()]||[]).filter((function(e){return e.key===t}))[0]||{}).label||null},getQueryByString:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).share,r={},n=new URLSearchParams(e);n.get("p")>250&&n.set("p",250);var o,a=p(n);try{for(a.s();!(o=a.n()).done;){var i=h(o.value,2),c=i[0],l=i[1];"false"!==l&&(r[c]=l)}}catch(e){a.e(e)}finally{a.f()}return t&&"Book"===t.target_type&&(r.token=t.token),r.type=r.type||"content",r.tab||(r.tab=k(r.scope,r.token)),r},gotoSearchPage:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.history,o=r.forceOpen,a=r.overwrite,i=r.handleMobileTabChange,c=r.handleDesktopTabChange,u=r.sence,s=r.isPublicPage,f=A(u);t.tab!==w.public&&t.tab!==w.related||(t.scope="/"),a?e=new URLSearchParams(t):(e=f?new URLSearchParams(window.location.search):new URLSearchParams({}),Object.keys(t).forEach((function(r){e.set(r,t[r])})));var d,m=p(e);try{for(m.s();!(d=m.n()).done;){var y=h(d.value,2),v=y[0];"false"===y[1]&&e.delete(v)}}catch(e){m.e(e)}finally{m.f()}if(i)return i(function(e){var t,r={},n=p(e);try{for(n.s();!(t=n.n()).done;){var o=h(t.value,2),a=o[0],i=o[1];r[a]=i}}catch(e){n.e(e)}finally{n.f()}return r}(e));var b="/search?".concat(e.toString());if(c)return c({},b);if(o)return window.open(b);var g=window.location,_=g.origin;if(g.pathname,s)return n?n.push("/r/organizations/homepage"+b):window.open(_+"/r/organizations/homepage"+b);window.h5||f||l.g?n?n.push(b):window.location.href=b:window.open(b)},clacTabByScope:k,getSearchTypesByTab:function(e){var t=[];return e===w.book&&(t=["content"]),e===w.group&&(t=["content","book"]),e===w.public&&(t=["content","book","group","user"]),[w.related,w.organization].includes(e)&&(t=["content","book","group"]),g.filter((function(e){return t.includes(e.key)}))},getShowTabs:j,isSearchEnabled:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public",r=e.isYuque,n=e.settings,o=void 0===n?{}:n,a=e.search,c=e.share&&e.share.token;return!(!a||!a.display)&&((!r||!1!==o.public_space_doc_search_enable)&&((!o||!1!==o.enable_search)&&(!i.a.shouldHiddenFeature("search")&&((a.scope||c)&&(t=k(a.scope,c)),j(t,e).length>0))))},isSearchPage:function(e){return window&&window.location&&"/search"===window.location.pathname},isSinglePage:A,generateMenuList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=e.organization,o=e.group,a=e.book,i=e.doc,c=e.me,u=e.subSence,s=null==n?void 0:n.id,d=(null==c?void 0:c.id)&&(!s||O(n,"read"));if("command"===t){var p=[];"book"===r&&null!=i&&i.id?"docEdit"===u?p.push.apply(p,[x.sep,O(i,"update")&&x.publish_doc]):p.push.apply(p,[x.sep,O(i,"update")&&x.edit_doc,"Doc"===(null==i?void 0:i.type)&&x.enter_ppt]):"book"===r?p.push.apply(p,[x.sep]):"group"===r?p.push.apply(p,[O(o,"create_book")&&x.create_repo,x.sep]):p.push.apply(p,[(null==c?void 0:c.id)&&x.create_repo,x.sep]);var h=[x.create_note,x.create_doc,x.create_sheet,x.create_board,x.create_table];return"book"===r&&O(a,"create_doc")?"docEdit"!==u&&p.unshift.apply(p,h):"book"!==r&&null!=c&&c.id&&p.unshift.apply(p,h),null!=c&&c.id&&p.push.apply(p,[!l.c&&(!s||O(n,"read"))&&x.view_notification,(!s||O(n,"read"))&&x.switch_theme]),1===p.length&&p[0].isSep&&p.pop(),p.filter(Boolean).map((function(e){return f({},e)}))}var m=[];return"book"===r&&null!=i&&i.id?m.push.apply(m,[C.book_home,O(a,"update")&&C.book_settings,O(o,"read")&&C.group_home,d&&C.back_dashboard]):"book"===r?m.push.apply(m,["bookSetting"===u&&C.book_home,O(a,"update")&&"bookSetting"!==u&&C.book_settings,O(o,"read")&&C.group_home,d&&C.back_dashboard]):"group"===r?"Group"===(null==o?void 0:o.type)?m.push.apply(m,[!l.c&&C.group_activity,C.group_book]):"Wiki"===(null==o?void 0:o.type)&&m.push.apply(m,[d&&C.dashboard]):m.push.apply(m,[d&&C.dashboard,(null==c?void 0:c.id)&&(s?O(n,"read")&&C.wiki:C.note)]),m.length&&m.push(x.sep),m.filter(Boolean).map((function(e){return f({},e)}))}}},3616:function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=r(0),a=n(o),i=n(r(280));function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,r){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==r&&"function"!=typeof r)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(n){if("function"!=typeof n)throw new Error("Expected WrappedComponent to be a React component.");var u,s=[];function f(){u=e(s.map((function(e){return e.props}))),d.canUseDOM?t(u):r&&(u=r(u))}var d=function(e){var t,r;function o(){return e.apply(this,arguments)||this}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.peek=function(){return u},o.rewind=function(){if(o.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=u;return u=void 0,s=[],e};var c=o.prototype;return c.shouldComponentUpdate=function(e){return!i(e,this.props)},c.componentWillMount=function(){s.push(this),f()},c.componentDidUpdate=function(){f()},c.componentWillUnmount=function(){var e=s.indexOf(this);s.splice(e,1),f()},c.render=function(){return a.createElement(n,this.props)},o}(o.Component);return c(d,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(n)+")"),c(d,"canUseDOM",l),d}}},362:function(e,t,r){"use strict";var n=r(1202);r.d(t,"a",(function(){return n.a}))},3634:function(e,t,r){"use strict";t.a={description:"index-module_description_3zdQm",title:"index-module_title_wvDlw",modalStyle:"index-module_modalStyle_mcrRn",qrCode:"index-module_qrCode_tO6RV",resultBox:"index-module_resultBox_kmldH",resultContentBox:"index-module_resultContentBox_DyUmc",checkIcon:"index-module_checkIcon_R-xBl",closeIcon:"index-module_closeIcon_3nBx0",img:"index-module_img_CCkgm"}},3663:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r(11),o=r(181),a=function(e,t,r){var a=window.appData.note;return a?1===a.public:(e=e||window.appData.group,t=t||window.appData.book,r=r||window.appData.doc,!(!e||!t)&&(r?Object(o.c)({type:"doc",target:r,group:e,book:t}):Object(o.c)({type:"book",target:t,group:e}))===n.PRIVACY.public)},i=function(e,t,r){var n=window.appData.note;return n?!!n.is_public:(e=e||window.appData.share,t=t||window.appData.book,r=r||window.appData.doc,!!(e&&t&&r&&r.book_id===t.id)&&(0===e.status&&0===e.scope&&(e.target_id===r.book_id||e.target_id===r.id)))}},3671:function(e,t,r){"use strict";r(71);var n=r(31),o=(r(56),r(12)),a=(r(42),r(9)),i=(r(155),r(22)),c=r(0),l=r.n(c),u=r(2),s=r.n(u),f=r(117),d="CollectionModal-module_collectionModal_sJKOy",p="CollectionModal-module_collectionModalContent_6NiUd";function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(){m=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:x(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",y="executing",v="completed",b={};function g(){}function w(){}function _(){}var E={};u(E,i,(function(){return this}));var O=Object.getPrototypeOf,S=O&&O(O(N([])));S&&S!==r&&n.call(S,i)&&(E=S);var A=_.prototype=g.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==h(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function x(t,r,n){var o=d;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===b)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?v:p,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,b;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(h(t)+" is not iterable")}return w.prototype=_,o(A,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=u(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(j.prototype),u(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),u(A,l,"Generator"),u(A,i,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function y(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){y(a,n,o,i,c,"next",e)}function c(e){y(a,n,o,i,c,"throw",e)}i(void 0)}))}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e){var t=e.isModalVisible,r=e.handleOk,u=e.handleCancel,s=e.type,h=e.value,y=b(i.a.useForm(),1)[0],g=b(Object(c.useState)(!0),2),w=g[0],_=g[1];function E(){return(E=v(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.webProxy.actionTags.create({name:t,action_type:"mark"});case 2:(n=e.sent)&&(r("CREATE",n),u());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=v(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.webProxy.actionTags.update({id:h.id,name:t});case 2:(n=e.sent)&&(r("UPDATE",n),u());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){var e=y.getFieldsValue(),t=null==e?void 0:e.name;!t||t.length>50||("CREATE"===s?function(e){E.apply(this,arguments)}(t):function(e){O.apply(this,arguments)}(t))}return Object(c.useEffect)((function(){y.setFieldsValue({name:"EDIT"===s?h.name:null}),_("EDIT"!==s)}),[]),l.a.createElement("div",null,l.a.createElement(n.a,{title:"CREATE"===s?__("新建分组"):__("编辑分组"),width:400,visible:t,onCancel:u,className:d,zIndex:9999,footer:[l.a.createElement(a.a,{key:"back",onClick:u},__("取消")),l.a.createElement(a.a,{key:"submit",type:"primary",onClick:S,disabled:w},__("确定"))]},l.a.createElement("div",{className:p},l.a.createElement(i.a,{form:y,onValuesChange:function(e){e&&e.name&&e.name.trim()?_(!1):_(!0),y.setFieldsValue(e)},layout:"vertical"},l.a.createElement(i.a.Item,{label:__("分组名称"),name:"name",rules:[{max:50,message:__("请调整分组名称，不要超过50个字")}]},l.a.createElement(o.a,{className:"collection-input",placeholder:__("请输入分组名称"),onKeyDown:function(e){13===(e.keyCode||e.which)&&(e.preventDefault(),S())},autocomplete:"off"}))))))}w.propTypes={isModalVisible:s.a.bool,handleOk:s.a.func,handleCancel:s.a.func,type:s.a.string,value:s.a.object};t.a=w},3683:function(e,t,r){"use strict";r(258);var n=r(135),o=(r(41),r(10)),a=(r(552),r(186)),i=r(0),c=r.n(i),l=r(2),u=r.n(l),s=r(1618),f=r(117),d=r(3393),p=r(3671),h="SelectGroup-module_selectGroup_PPbXd",m="SelectGroup-module_title_62QjW",y="SelectGroup-module_p1_iKXf5",v="SelectGroup-module_p2_vn1NJ",b="SelectGroup-module_content_J8Ejd",g="SelectGroup-module_empty_k0F6W",w="SelectGroup-module_checkContent_hhsnD",_="SelectGroup-module_checkboxWrapper_5aHCt",E="SelectGroup-module_footer_09b+K";function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function S(){S=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:x(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(N([])));E&&E!==r&&n.call(E,i)&&(w=E);var A=g.prototype=v.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==O(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function x(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(O(t)+" is not iterable")}return b.prototype=g,o(A,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(j.prototype),u(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),u(A,l,"Generator"),u(A,i,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function A(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function k(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){A(a,n,o,i,c,"next",e)}function c(e){A(a,n,o,i,c,"throw",e)}i(void 0)}))}}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=I(e);if(t){var o=I(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}(this,r)}}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function T(e,t,r){return(t=N(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}var L=function(e){var t=e.collection,r=e.onSelectChange,n=Object(i.useRef)(null);return c.a.createElement(a.a,{className:_,checked:t.checked,onChange:r},c.a.createElement(d.a,{textRef:n,title:t.name,placement:"bottom"},c.a.createElement("span",{className:"ellipsis-wrapper"},c.a.createElement("span",{ref:n,className:"ellipsis-text"},t.name))))},D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(l,e);var t,r,a,i=C(l);function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return T(P(e=i.call.apply(i,[this].concat(r))),"state",{collectionList:[],modalVisible:!1,loading:!1}),T(P(e),"getCollectionList",k(S().mark((function t(){var r,n,o,a,i,c,l=arguments;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.length>0&&void 0!==l[0]?l[0]:"OTHER",n=l.length>1&&void 0!==l[1]?l[1]:null,e.setState({loading:!0}),o=e.props.record,a=o.action_tags,i=a&&a.split(","),t.next=8,f.webProxy.actionTags.list({action_type:"mark",v:new Date});case 8:(c=t.sent)&&(c.forEach((function(e){i&&i.includes(String(e.id))?e.checked=!0:e.checked=!1})),"CREATE"===r&&(c&&c.find((function(e){return e.id===n.id}))||c.unshift(n),c[0].checked=!0,e.setTags(c)),e.setState({collectionList:c,loading:!1}));case 10:case"end":return t.stop()}}),t)})))),T(P(e),"onUnMarks",k(S().mark((function t(){var r,n,a,i,c;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.collectionList,n=e.props,a=n.record,i=n.refetch,c=null==r?void 0:r.filter((function(e){return e.checked})),t.next=5,f.webProxy.mine.marks.destroy({action_id:a.id});case 5:t.sent&&(o.a.success(__("已取消收藏")),i&&i({type:"CANCEL",value:c,actionInfo:a}));case 7:case"end":return t.stop()}}),t)})))),T(P(e),"onSelectChange",(function(t,r){var n=e.state.collectionList;(null==n?void 0:n.find((function(e){return e.id===t.id}))).checked=r,e.setState({collectionList:n}),e.setTags(n)})),T(P(e),"setTags",function(){var t=k(S().mark((function t(r){var n,o,a,i;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null==r?void 0:r.filter((function(e){return e.checked})),o=e.props,a=o.record,i=o.refetch,t.next=4,f.webProxy.actionTags.setTags({action_id:a.id,tags:n});case 4:t.sent&&i({type:"SET_TAG",value:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),T(P(e),"createHandleOk",(function(t,r){var n=e.state.collectionList,o=e.props.refetch,a=null==n?void 0:n.filter((function(e){return e.checked}));e.getCollectionList(t,r),e.setState({modalVisible:!1}),o&&o({type:"CREATE",value:a}),document.getElementById("scrollContent").scrollTop=0})),e}return t=l,(r=[{key:"componentDidMount",value:function(){this.getCollectionList()}},{key:"render",value:function(){var e=this,t=this.state,r=t.collectionList,o=t.modalVisible;return c.a.createElement("div",null,c.a.createElement("div",{className:h},c.a.createElement("div",null,c.a.createElement("div",{className:m},c.a.createElement("p",{className:y},__("选择分组")),c.a.createElement("p",{className:v},__("你可以选择分组或直接")," ",c.a.createElement("a",{onClick:this.onUnMarks},__("取消收藏")))),c.a.createElement("div",{className:b,id:"scrollContent"},c.a.createElement(n.a,{spinning:this.state.loading},!(null!=r&&r.length)&&c.a.createElement("div",{className:g},__("暂无分组")),r.length>0&&(null==r?void 0:r.map((function(t){return c.a.createElement("div",{key:t.id,className:w},c.a.createElement(L,{collection:t,onSelectChange:function(r){return e.onSelectChange(t,r.target.checked)}}))}))))),c.a.createElement("div",{className:E,onClick:function(){e.setState({modalVisible:!0})}},c.a.createElement(s.default,{style:{marginRight:"4px"}}),__("新建分组")))),o&&c.a.createElement(p.a,{type:"CREATE",isModalVisible:o,handleOk:this.createHandleOk,handleCancel:function(){e.setState({modalVisible:!1})}}))}}])&&j(t.prototype,r),a&&j(t,a),Object.defineProperty(t,"prototype",{writable:!1}),l}(c.a.Component);D.propTypes={isModalVisible:u.a.bool,refetch:u.a.func,record:u.a.object};t.a=D},3686:function(e,t,r){"use strict";var n=r(3615);r.d(t,"a",(function(){return n.a})),r.d(t,"c",(function(){return n.d})),r.d(t,"b",(function(){return n.b}))},3700:function(e,t,r){"use strict";var n=r(0),o=r.n(n);t.a=function(){return o.a.createElement("div",null)}},3702:function(e,t,r){"use strict";r(782);var n=r(379),o=(r(151),r(66)),a=(r(41),r(10)),i=r(0),c=r.n(i),l=r(2),u=r.n(l),s=r(509),f=r(5),d=r.n(f),p=r(117),h=r(3683),m=r(45),y=r(108),v=r(461),b=r(24),g="index-module_icon_hhi0u",w="index-module_markedHover_PaCO8",_="index-module_markedNormal_lQdFH",E="index-module_smallMark_FfS6d",O="index-module_mark_3qbSl",S="index-module_markIconContent_GN4G+",A="index-module_isMiniTypeMark_Q9Bf6",k="index-module_iconMarked_vNmDS";function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=function(e){var t=e.target,r=e.isMiniType,l=e.me,u=void 0===l?{}:l,s=e.reGetData,f=e.size,x=void 0===f?"normal":f,C=e.iconSize,P=e.getPopupContainer,I=Object(v.a)().isDarkMode,T=j(Object(i.useState)(!1),2),N=T[0],L=T[1],D=j(Object(i.useState)(),2),R=D[0],M=D[1],B=j(Object(i.useState)(!1),2),F=B[0],G=B[1],z=j(Object(i.useState)(t.action_tags||null),2),U=z[0],q=z[1];Object(i.useEffect)((function(){G(!!t.id)}),[t.id]),Object(i.useEffect)((function(){q(t.action_tags)}),[t.action_tags]);var W={target_type:e.targetType,id:R||t&&t.id,target_id:t&&t.target_id,action_tags:U},V=c.a.createElement(h.a,{record:W,refetch:function(e){var t=e.type,r=e.value,n=r&&r.map((function(e){return e.id})).join();q(n),"CANCEL"===t&&(G(!1),L(!1),q(null),s&&s())}}),H="small"===x?E:O,Y=I?c.a.createElement(m.b,{name:"icon-collected",width:"12",height:"12",color:"#D2A638",style:{marginRight:"4px"}}):c.a.createElement("img",{width:"12",height:"12",style:{marginRight:"4px"},src:"https://gw.alipayobjects.com/mdn/rms_a6038f/afts/img/A*LpjOSJolIloAAAAAAAAAAAAAARQnAQ",alt:"avatar"}),K=I?c.a.createElement(m.b,{name:"icon-collect",width:"12",height:"12",style:{marginRight:"4px"}}):c.a.createElement("img",{width:"12",height:"12",style:{marginRight:"4px"},src:"https://gw.alipayobjects.com/mdn/rms_a6038f/afts/img/A*s0VKTqCIM0EAAAAAAAAAAAAAARQnAQ",alt:"avatar"});return c.a.createElement(n.a,{type:"menu",trigger:["click"],content:V,visible:N,onVisibleChange:function(e){if(!u||!u.id)return null;L(e)},destroyPopupOnHide:!0,getPopupContainer:P,placement:r?"bottomRight":"bottomLeft"},c.a.createElement("div",{className:r?A:H},c.a.createElement(o.a,{title:r?__("收藏"):null,placement:"bottom"},c.a.createElement("div",{className:d()(N&&r?w:_,"select-group-mark-wrapper")},F?c.a.createElement("div",{className:S,"data-testid":"already-mark",onClick:function(){L(!0)}},window.h5?Y:c.a.createElement(m.b,{name:"star",className:d()(g,k),size:C||12}),!r&&c.a.createElement("span",null,__("已收藏"))):c.a.createElement("div",{className:S,"data-testid":"select-group-mark-entry",onClick:function(){!function(){var r,n=e.targetType,o=e.goLogin,i=window.appData,l=i.sharePage,f=i.share,d=i.isCollaborationPage;Object(y.spmClick)("c322275.d348447"),d&&(r=n),u.id||!o?p.webProxy.mine.marks.create({target_type:n,target_id:t.target_id,share_target_type:l&&f&&f.target_type,collaboration_target_type:r}).then((function(e){G(!0),M(e.id),setTimeout((function(){L(!0)}),100);var t=window.appData,r=t.organization,n=t.defaultSpaceHost,o=r&&r.id,i="/dashboard/collections",l=i;0===e.organization_id&&o&&(l="".concat(n).concat(i));var u=c.a.createElement("a",{href:l},"收藏");b.c?a.a.success(c.a.createElement("span",null,__("收藏成功"))):a.a.success(c.a.createElement("span",null,__("收藏成功，前往 {toastText} 查看",{toastText:u}))),s&&s()})).catch((function(e){a.a.error(e.message)})):o()}()}},window.h5?K:c.a.createElement(m.b,{name:"star-outlined",className:g,size:C||12}),!r&&c.a.createElement("span",null,__("收藏")))))))};C.defaultProps={me:window.appData.me,isMobile:window.h5,getPopupContainer:function(e){return e.parentNode}},C.propTypes={isMiniType:u.a.bool,target:u.a.object,targetType:u.a.oneOf(s.default.ALLOW_MARK_TARGET_TYPES).isRequired,style:u.a.object,onStatusChange:u.a.func,me:u.a.object,isMobile:u.a.bool,iconSize:u.a.number,getPopupContainer:u.a.func};var P=C,I=r(469);function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(this,arguments)}t.a=Object(I.d)()((function(e){var t=e.dispatch;return React.createElement(P,T({},e,{goLogin:function(){t({type:"error/toggleLoginModal",payload:{visible:!0}})}}))}))},3728:function(e,t,r){"use strict";var n=r(3399);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}t.a=function(e){var t=window.appData,r=t.isYuque,a=t.organization;return React.createElement(n.a,o({},e,{isYuque:r,organization:a}))}},3760:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(803),i=r(1861),c=r(1434),l=r(3634);t.a=function(e){var t=e.verifyStatus,r=e.seconds,u=Object(n.useCallback)((function(){switch(t){case a.CERTIFICATION_STATUS.certified:return o.a.createElement("div",{className:l.a.resultContentBox},o.a.createElement(i.default,{className:l.a.checkIcon}),o.a.createElement("div",{className:l.a.title},__("实名认证成功，{seconds}s 后自动关闭",{seconds:r})),o.a.createElement("div",{className:l.a.description},__("实名认证成功，可继续进行分享操作")));case a.CERTIFICATION_STATUS.fail:return o.a.createElement("div",{className:l.a.resultContentBox},o.a.createElement(c.default,{className:l.a.closeIcon}),o.a.createElement("div",{className:l.a.title},__("认证失败")),o.a.createElement("div",{className:l.a.description},__("抱歉，系统识别你的账号存在风险，未通过安全认证")));default:return null}}),[t,r]);return o.a.createElement("div",null,u(),o.a.createElement("div",{className:l.a.resultBox},o.a.createElement("img",{src:"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*OaxJQpBX8s8AAAAAAAAAAAAADvuFAQ/original"})))}},3763:function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n=r(51),o=r(419),a=r(53),i=r(803),c=r(11),l=r(812),u=r(229),s=(r(41),r(10)),f=r(0),d=r.n(f),p=r(3773),h=r(3583),m=r.n(h),y=r(3760),v=r(3634);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(){g=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:x(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function w(){}function _(){}var E={};u(E,i,(function(){return this}));var O=Object.getPrototypeOf,S=O&&O(O(N([])));S&&S!==r&&n.call(S,i)&&(E=S);var A=_.prototype=v.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==b(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function x(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(b(t)+" is not iterable")}return w.prototype=_,o(A,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=u(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(j.prototype),u(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),u(A,l,"Generator"),u(A,i,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function w(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){w(a,n,o,i,c,"next",e)}function c(e){w(a,n,o,i,c,"throw",e)}i(void 0)}))}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=function(e){var t,r=e.onResult,o=e.onError,a=E(Object(f.useState)(i.CERTIFICATION_STATUS.init),2),c=a[0],l=a[1],u=E(Object(f.useState)(!1),2),h=u[0],b=u[1],w=E(Object(f.useState)(3),2),O=w[0],S=w[1],A=E(Object(f.useState)(""),2),k=A[0],j=A[1],x=Object(f.useRef)(0),C=function(){var e=_(g().mark((function e(){var a,c,u,f;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,x.current+=1,!(x.current>80)){e.next=6;break}return s.a.warning(__("人脸认证超时")),r(i.CERTIFICATION_STATUS.init,i.CERTIFICATION_STATUS.init,!0),e.abrupt("return");case 6:return e.next=8,n.a.mine.user_certification();case 8:if((null==(a=e.sent)?void 0:a.certification_status)!==i.CERTIFICATION_STATUS.init){e.next=13;break}return b(!0),t=setTimeout(C,3e3),e.abrupt("return");case 13:c=null==a?void 0:a.share_certification,u=null==a?void 0:a.face_certification,e.t0=c,e.next=e.t0===i.CERTIFICATION_STATUS.certified?18:22;break;case 18:return l(i.CERTIFICATION_STATUS.certified),r(c,u,!1),f=setInterval((function(){S((function(e){return e<=1&&(r(c,u,!0),clearInterval(f)),e-1}))}),1e3),e.abrupt("break",24);case 22:return(null==a?void 0:a.certification_status)===i.CERTIFICATION_STATUS.fail?(l(i.CERTIFICATION_STATUS.fail),clearTimeout(t),setTimeout((function(){r(c,u,!0)}),1e3)):t=setTimeout(C,3e3),e.abrupt("break",24);case 24:e.next=30;break;case 26:e.prev=26,e.t1=e.catch(0),clearTimeout(t),o(e.t1);case 30:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=_(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.faceCertify.reset();case 2:e.sent.success&&C();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function I(){return(I=_(g().mark((function e(){var t,r,o,a,i,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.origin,e.prev=1,r="".concat(t,"/r/face_certify"),e.next=5,n.a.accounts.getAuthToken({url:r});case 5:o=e.sent,(a=o.token)&&(i=m.a.stringify({url:r,token:a}),(c="".concat(t,"/r/auth?").concat(i))&&j(c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s.a.error(__("获取扫码链接失败"));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}Object(f.useEffect)((function(){return P(),function(){clearTimeout(t)}}),[]),Object(f.useEffect)((function(){!function(){I.apply(this,arguments)}()}),[]);var T=Object(f.useCallback)((function(){switch(c){case i.CERTIFICATION_STATUS.certified:return d.a.createElement(y.a,{verifyStatus:i.CERTIFICATION_STATUS.certified,seconds:O});case i.CERTIFICATION_STATUS.fail:return d.a.createElement(y.a,{verifyStatus:i.CERTIFICATION_STATUS.fail});default:return h?d.a.createElement("div",null,d.a.createElement("div",{className:v.a.title},__("扫描成功")),d.a.createElement("div",{className:v.a.description},__("请继续在手机上完成实名认证"))):d.a.createElement("div",null,d.a.createElement("div",{className:v.a.title},__("请使用支付宝 APP 扫码完成实名认证")),d.a.createElement("div",{className:v.a.description},__("使用互联网公开分享功能需要进行实名认证")))}}),[c,O,h]);return d.a.createElement("div",null,d.a.createElement("img",{className:v.a.img,src:"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*OaxJQpBX8s8AAAAAAAAAAAAADvuFAQ/original"}),T(),c===i.CERTIFICATION_STATUS.init?d.a.createElement(p.b,{value:k,size:232,className:v.a.qrCode}):null)},A=function(e){return new Promise((function(t,r){var n,o=e.confirm({content:d.a.createElement(S,{onResult:function(e,r,a){n={shareCertification:e,faceCertification:r},a&&(t(n),o.destroy())},onError:function(e){r(e)}}),onCancel:function(){n&&t(n)},className:v.a.modalStyle,bodyStyle:{textAlign:"center"},width:550,closable:!0,icon:d.a.createElement(d.a.Fragment,null),cancelButtonProps:{style:{display:"none"}},okButtonProps:{style:{display:"none"}}})}))},k=r(3323);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function x(){x=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(N([])));E&&E!==r&&n.call(E,i)&&(w=E);var O=g.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==j(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(j(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function C(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function P(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){C(a,n,o,i,c,"next",e)}function c(e){C(a,n,o,i,c,"throw",e)}i(void 0)}))}}var I=function(){var e=P(x().mark((function e(t,r,o,l,s,f,d,p){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof f){e.next=6;break}return e.next=3,f({public:t});case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:if(t!==c.PRIVACY.public){e.next=28;break}if(Object(u.a)()&&!l.interests[a.INTEREST_CODE.create_public_resource]){e.next=12;break}return e.next=10,T(t,r,o,s,d,p);case 10:case 18:e.next=26;break;case 12:return e.next=14,n.a.mine.user_certification();case 14:if(e.sent.share_certification!==i.CERTIFICATION_STATUS.certified){e.next=20;break}return e.next=18,T(t,r,o,s,d,p);case 20:return e.next=22,A(s);case 22:if(e.sent.shareCertification!==i.CERTIFICATION_STATUS.certified){e.next=26;break}return e.next=26,T(t,r,o,s,d,p);case 26:e.next=30;break;case 28:return e.next=30,T(t,r,o,s,d,p);case 30:case"end":return e.stop()}}),e)})));return function(t,r,n,o,a,i,c,l){return e.apply(this,arguments)}}(),T=function(){var e=P(x().mark((function e(t,r,n,a,i,s){var f,d;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==c.PRIVACY.public){e.next=29;break}if(Object(u.a)()){e.next=23;break}return e.prev=2,e.next=5,null==i?void 0:i({public:t});case 5:e.next=23;break;case 7:if(e.prev=7,e.t0=e.catch(2),f=r===o.b.DOC?l.TargetType.Doc:l.TargetType.Book,d=r===o.b.DOC?l.WorkflowType.DocPublicPrivacyWorkflow:l.WorkflowType.BookPublicPrivacyWorkflow,(null===e.t0||void 0===e.t0?void 0:e.t0.errorCode)!==c.PUBLIC_SET_CODE.public_has_approve){e.next=14;break}return u.b.windowOpen("/g/approve_workflow?target_id=".concat(n.id,"&target_type=").concat(f,"&type=").concat(d)),e.abrupt("return");case 14:if((null===e.t0||void 0===e.t0?void 0:e.t0.errorCode)!==c.PUBLIC_SET_CODE.public_need_approve){e.next=22;break}return e.next=17,Object(k.f)(r,a);case 17:if(e.sent){e.next=20;break}return e.abrupt("return");case 20:return u.b.windowOpen("/g/approve_workflow?target_id=".concat(n.id,"&target_type=").concat(f,"&type=").concat(d)),e.abrupt("return");case 22:throw e.t0;case 23:if(!Object(u.a)()){e.next=29;break}return e.next=26,Object(k.f)(r,a);case 26:if(e.sent){e.next=29;break}return e.abrupt("return");case 29:if(Object(u.a)()||t===c.PRIVACY.public||s!==c.PRIVACY.public){e.next=35;break}return e.next=32,Object(k.g)(a);case 32:if(e.sent){e.next=35;break}return e.abrupt("return");case 35:return Object(u.a)()||t!==c.EXTEND_PRIVATE_MAP_TO_PRIVACY_VALUE||(t=c.PRIVACY.private),e.next=38,null==i?void 0:i({public:t});case 38:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,r,n,o,a,i){return e.apply(this,arguments)}}()},3764:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(108);function n(e,t){return!1!==(null==t?void 0:t())&&function(e,t){var r=.1*(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0);if(!e)return!1;var n=t.id;if(!n)return!1;var o=Number(String(n).slice(-1));return!(r>1||o<10-10*r)}(window.appData.isYuque,window.appData.me,e)}},3773:function(e,t,r){"use strict";r.d(t,"a",(function(){return k})),r.d(t,"b",(function(){return x}));var n,o=r(0),a=r.n(o),i=Object.defineProperty,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&s(e,r,t[r]);if(c)for(var r of c(t))u.call(t,r)&&s(e,r,t[r]);return e},d=(e,t)=>{var r={};for(var n in e)l.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&c)for(var n of c(e))t.indexOf(n)<0&&u.call(e,n)&&(r[n]=e[n]);return r};(e=>{const t=class{constructor(e,r,n,o){if(this.version=e,this.errorCorrectionLevel=r,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(o<-1||o>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let i=[];for(let e=0;e<this.size;e++)i.push(!1);for(let e=0;e<this.size;e++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();const c=this.addEccAndInterleave(n);if(this.drawCodewords(c),-1==o){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const r=this.getPenaltyScore();r<e&&(o=t,e=r),this.applyMask(t)}}a(0<=o&&o<=7),this.mask=o,this.applyMask(o),this.drawFormatBits(o),this.isFunction=[]}static encodeText(r,n){const o=e.QrSegment.makeSegments(r);return t.encodeSegments(o,n)}static encodeBinary(r,n){const o=e.QrSegment.makeBytes(r);return t.encodeSegments([o],n)}static encodeSegments(e,r,o=1,i=40,l=-1,u=!0){if(!(t.MIN_VERSION<=o&&o<=i&&i<=t.MAX_VERSION)||l<-1||l>7)throw new RangeError("Invalid value");let s,f;for(s=o;;s++){const n=8*t.getNumDataCodewords(s,r),o=c.getTotalBits(e,s);if(o<=n){f=o;break}if(s>=i)throw new RangeError("Data too long")}for(const e of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])u&&f<=8*t.getNumDataCodewords(s,e)&&(r=e);let d=[];for(const t of e){n(t.mode.modeBits,4,d),n(t.numChars,t.mode.numCharCountBits(s),d);for(const e of t.getData())d.push(e)}a(d.length==f);const p=8*t.getNumDataCodewords(s,r);a(d.length<=p),n(0,Math.min(4,p-d.length),d),n(0,(8-d.length%8)%8,d),a(d.length%8==0);for(let e=236;d.length<p;e^=253)n(e,8,d);let h=[];for(;8*h.length<d.length;)h.push(0);return d.forEach(((e,t)=>h[t>>>3]|=e<<7-(7&t))),new t(s,r,h,l)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let r=0;r<t;r++)for(let n=0;n<t;n++)0==r&&0==n||0==r&&n==t-1||r==t-1&&0==n||this.drawAlignmentPattern(e[r],e[n]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let r=t;for(let e=0;e<10;e++)r=r<<1^1335*(r>>>9);const n=21522^(t<<10|r);a(n>>>15==0);for(let e=0;e<=5;e++)this.setFunctionModule(8,e,o(n,e));this.setFunctionModule(8,7,o(n,6)),this.setFunctionModule(8,8,o(n,7)),this.setFunctionModule(7,8,o(n,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,o(n,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,o(n,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,o(n,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;a(t>>>18==0);for(let e=0;e<18;e++){const r=o(t,e),n=this.size-11+e%3,a=Math.floor(e/3);this.setFunctionModule(n,a,r),this.setFunctionModule(a,n,r)}}drawFinderPattern(e,t){for(let r=-4;r<=4;r++)for(let n=-4;n<=4;n++){const o=Math.max(Math.abs(n),Math.abs(r)),a=e+n,i=t+r;0<=a&&a<this.size&&0<=i&&i<this.size&&this.setFunctionModule(a,i,2!=o&&4!=o)}}drawAlignmentPattern(e,t){for(let r=-2;r<=2;r++)for(let n=-2;n<=2;n++)this.setFunctionModule(e+n,t+r,1!=Math.max(Math.abs(n),Math.abs(r)))}setFunctionModule(e,t,r){this.modules[t][e]=r,this.isFunction[t][e]=!0}addEccAndInterleave(e){const r=this.version,n=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(r,n))throw new RangeError("Invalid argument");const o=t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][r],i=t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][r],c=Math.floor(t.getNumRawDataModules(r)/8),l=o-c%o,u=Math.floor(c/o);let s=[];const f=t.reedSolomonComputeDivisor(i);for(let r=0,n=0;r<o;r++){let o=e.slice(n,n+u-i+(r<l?0:1));n+=o.length;const a=t.reedSolomonComputeRemainder(o,f);r<l&&o.push(0),s.push(o.concat(a))}let d=[];for(let e=0;e<s[0].length;e++)s.forEach(((t,r)=>{(e!=u-i||r>=l)&&d.push(t[e])}));return a(d.length==c),d}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let r=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let n=0;n<this.size;n++)for(let a=0;a<2;a++){const i=t-a,c=0==(t+1&2)?this.size-1-n:n;!this.isFunction[c][i]&&r<8*e.length&&(this.modules[c][i]=o(e[r>>>3],7-(7&r)),r++)}}a(r==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let r=0;r<this.size;r++){let n;switch(e){case 0:n=(r+t)%2==0;break;case 1:n=t%2==0;break;case 2:n=r%3==0;break;case 3:n=(r+t)%3==0;break;case 4:n=(Math.floor(r/3)+Math.floor(t/2))%2==0;break;case 5:n=r*t%2+r*t%3==0;break;case 6:n=(r*t%2+r*t%3)%2==0;break;case 7:n=((r+t)%2+r*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][r]&&n&&(this.modules[t][r]=!this.modules[t][r])}}getPenaltyScore(){let e=0;for(let r=0;r<this.size;r++){let n=!1,o=0,a=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[r][i]==n?(o++,5==o?e+=t.PENALTY_N1:o>5&&e++):(this.finderPenaltyAddHistory(o,a),n||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),n=this.modules[r][i],o=1);e+=this.finderPenaltyTerminateAndCount(n,o,a)*t.PENALTY_N3}for(let r=0;r<this.size;r++){let n=!1,o=0,a=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[i][r]==n?(o++,5==o?e+=t.PENALTY_N1:o>5&&e++):(this.finderPenaltyAddHistory(o,a),n||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),n=this.modules[i][r],o=1);e+=this.finderPenaltyTerminateAndCount(n,o,a)*t.PENALTY_N3}for(let r=0;r<this.size-1;r++)for(let n=0;n<this.size-1;n++){const o=this.modules[r][n];o==this.modules[r][n+1]&&o==this.modules[r+1][n]&&o==this.modules[r+1][n+1]&&(e+=t.PENALTY_N2)}let r=0;for(const e of this.modules)r=e.reduce(((e,t)=>e+(t?1:0)),r);const n=this.size*this.size,o=Math.ceil(Math.abs(20*r-10*n)/n)-1;return a(0<=o&&o<=9),e+=o*t.PENALTY_N4,a(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let r=[6];for(let n=this.size-7;r.length<e;n-=t)r.splice(1,0,n);return r}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let r=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;r-=(25*t-10)*t-55,e>=7&&(r-=36)}return a(208<=r&&r<=29648),r}static getNumDataCodewords(e,r){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let r=[];for(let t=0;t<e-1;t++)r.push(0);r.push(1);let n=1;for(let o=0;o<e;o++){for(let e=0;e<r.length;e++)r[e]=t.reedSolomonMultiply(r[e],n),e+1<r.length&&(r[e]^=r[e+1]);n=t.reedSolomonMultiply(n,2)}return r}static reedSolomonComputeRemainder(e,r){let n=r.map((e=>0));for(const o of e){const e=o^n.shift();n.push(0),r.forEach(((r,o)=>n[o]^=t.reedSolomonMultiply(r,e)))}return n}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let r=0;for(let n=7;n>=0;n--)r=r<<1^285*(r>>>7),r^=(t>>>n&1)*e;return a(r>>>8==0),r}finderPenaltyCountPatterns(e){const t=e[1];a(t<=3*this.size);const r=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(r&&e[0]>=4*t&&e[6]>=t?1:0)+(r&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,r){return e&&(this.finderPenaltyAddHistory(t,r),t=0),t+=this.size,this.finderPenaltyAddHistory(t,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};let r=t;function n(e,t,r){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let n=t-1;n>=0;n--)r.push(e>>>n&1)}function o(e,t){return 0!=(e>>>t&1)}function a(e){if(!e)throw new Error("Assertion error")}r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;const i=class{constructor(e,t,r){if(this.mode=e,this.numChars=t,this.bitData=r,t<0)throw new RangeError("Invalid argument");this.bitData=r.slice()}static makeBytes(e){let t=[];for(const r of e)n(r,8,t);return new i(i.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!i.isNumeric(e))throw new RangeError("String contains non-numeric characters");let t=[];for(let r=0;r<e.length;){const o=Math.min(e.length-r,3);n(parseInt(e.substr(r,o),10),3*o+1,t),r+=o}return new i(i.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!i.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let t,r=[];for(t=0;t+2<=e.length;t+=2){let o=45*i.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t));o+=i.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),n(o,11,r)}return t<e.length&&n(i.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,r),new i(i.Mode.ALPHANUMERIC,e.length,r)}static makeSegments(e){return""==e?[]:i.isNumeric(e)?[i.makeNumeric(e)]:i.isAlphanumeric(e)?[i.makeAlphanumeric(e)]:[i.makeBytes(i.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)n(e,8,t);else if(e<16384)n(2,2,t),n(e,14,t);else{if(!(e<1e6))throw new RangeError("ECI assignment value out of range");n(6,3,t),n(e,21,t)}return new i(i.Mode.ECI,0,t)}static isNumeric(e){return i.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return i.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let r=0;for(const n of e){const e=n.mode.numCharCountBits(t);if(n.numChars>=1<<e)return 1/0;r+=4+e+n.bitData.length}return r}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let r=0;r<e.length;r++)"%"!=e.charAt(r)?t.push(e.charCodeAt(r)):(t.push(parseInt(e.substr(r+1,2),16)),r+=2);return t}};let c=i;c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=c})(n||(n={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};let r=t;r.LOW=new t(0,1),r.MEDIUM=new t(1,0),r.QUARTILE=new t(2,3),r.HIGH=new t(3,2),e.Ecc=r})(t=e.QrCode||(e.QrCode={}))})(n||(n={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};let r=t;r.NUMERIC=new t(1,[10,12,14]),r.ALPHANUMERIC=new t(2,[9,11,13]),r.BYTE=new t(4,[8,16,16]),r.KANJI=new t(8,[8,10,12]),r.ECI=new t(7,[0,0,0]),e.Mode=r})(t=e.QrSegment||(e.QrSegment={}))})(n||(n={}));var p=n,h={L:p.QrCode.Ecc.LOW,M:p.QrCode.Ecc.MEDIUM,Q:p.QrCode.Ecc.QUARTILE,H:p.QrCode.Ecc.HIGH},m=128,y="L",v="#FFFFFF",b="#000000",g=!1,w=4,_=.1;function E(e,t=0){const r=[];return e.forEach((function(e,n){let o=null;e.forEach((function(a,i){if(!a&&null!==o)return r.push(`M${o+t} ${n+t}h${i-o}v1H${o+t}z`),void(o=null);if(i!==e.length-1)a&&null===o&&(o=i);else{if(!a)return;null===o?r.push(`M${i+t},${n+t} h1v1H${i+t}z`):r.push(`M${o+t},${n+t} h${i+1-o}v1H${o+t}z`)}}))})),r.join("")}function O(e,t){return e.slice().map(((e,r)=>r<t.y||r>=t.y+t.h?e:e.map(((e,r)=>(r<t.x||r>=t.x+t.w)&&e))))}function S(e,t,r,n){if(null==n)return null;const o=r?w:0,a=e.length+2*o,i=Math.floor(t*_),c=a/t,l=(n.width||i)*c,u=(n.height||i)*c,s=null==n.x?e.length/2-l/2:n.x*c,f=null==n.y?e.length/2-u/2:n.y*c;let d=null;if(n.excavate){let e=Math.floor(s),t=Math.floor(f);d={x:e,y:t,w:Math.ceil(l+s-e),h:Math.ceil(u+f-t)}}return{x:s,y:f,h:u,w:l,excavation:d}}var A=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}();function k(e){const t=e,{value:r,size:n=m,level:i=y,bgColor:c=v,fgColor:l=b,includeMargin:u=g,style:s,imageSettings:_}=t,k=d(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),j=null==_?void 0:_.src,x=Object(o.useRef)(null),C=Object(o.useRef)(null),[P,I]=Object(o.useState)(!1);Object(o.useEffect)((()=>{if(null!=x.current){const e=x.current,t=e.getContext("2d");if(!t)return;let o=p.QrCode.encodeText(r,h[i]).getModules();const a=u?w:0,s=o.length+2*a,f=S(o,n,u,_),d=C.current,m=null!=f&&null!==d&&d.complete&&0!==d.naturalHeight&&0!==d.naturalWidth;m&&null!=f.excavation&&(o=O(o,f.excavation));const y=window.devicePixelRatio||1;e.height=e.width=n*y;const v=n/s*y;t.scale(v,v),t.fillStyle=c,t.fillRect(0,0,s,s),t.fillStyle=l,A?t.fill(new Path2D(E(o,a))):o.forEach((function(e,r){e.forEach((function(e,n){e&&t.fillRect(n+a,r+a,1,1)}))})),m&&t.drawImage(d,f.x+a,f.y+a,f.w,f.h)}})),Object(o.useEffect)((()=>{I(!1)}),[j]);const T=f({height:n,width:n},s);let N=null;return null!=j&&(N=a.a.createElement("img",{src:j,key:j,style:{display:"none"},onLoad:()=>{I(!0)},ref:C})),a.a.createElement(a.a.Fragment,null,a.a.createElement("canvas",f({style:T,height:n,width:n,ref:x},k)),N)}function j(e){const t=e,{value:r,size:n=m,level:o=y,bgColor:i=v,fgColor:c=b,includeMargin:l=g,imageSettings:u}=t,s=d(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let _=p.QrCode.encodeText(r,h[o]).getModules();const A=l?w:0,k=_.length+2*A,j=S(_,n,l,u);let x=null;null!=u&&null!=j&&(null!=j.excavation&&(_=O(_,j.excavation)),x=a.a.createElement("image",{xlinkHref:u.src,height:j.h,width:j.w,x:j.x+A,y:j.y+A,preserveAspectRatio:"none"}));const C=E(_,A);return a.a.createElement("svg",f({height:n,width:n,viewBox:`0 0 ${k} ${k}`},s),a.a.createElement("path",{fill:i,d:`M0,0 h${k}v${k}H0z`,shapeRendering:"crispEdges"}),a.a.createElement("path",{fill:c,d:C,shapeRendering:"crispEdges"}),x)}var x=e=>{const t=e,{renderAs:r}=t,n=d(t,["renderAs"]);return"svg"===r?a.a.createElement(j,f({},n)):a.a.createElement(k,f({},n))}},3787:function(e,t,r){"use strict";r(1005);var n=r(707),o=r(0),a=r.n(o),i=r(1448);t.a=function(e){var t=e.book,r=e.onDelete,o=e.closeModal,c=e.visible;return a.a.createElement(i.a,{visible:c,title:__("删除知识库"),content:a.a.createElement(n.a,{description:__("正在删除知识库 {name}，该操作不可逆，一旦操作成功，知识库下的所有内容将会删除。请输入下面内容再次确认操作。",{name:a.a.createElement("span",{className:"highlight_name"},t.name)}),type:"warning",message:void 0}),buttonText:__("确定删除 {name}",{name:t.name}),slug:t.slug,onOk:function(){return r(t)},onCancel:o})}},3854:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));r(151);var n=r(66),o=r(0),a=r(45),i=r(5),c=r.n(i),l="styles-module_iconAction_3ZFFk",u=["iconName","icon","className"],s=["tooltip"];function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=function(e){var t=e.iconName,r=e.icon,n=e.className,i=d(e,u);return o.createElement("button",f({type:"button"},i,{className:c()(l,n)}),t?o.createElement(a.b,{name:t,size:20}):r)},h=function(e){var t=e.tooltip,r=d(e,s);return t?o.createElement(n.a,{placement:r.placement||"bottom",title:t},o.createElement(p,r)):o.createElement(p,r)}},3879:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r(42);var n=r(9),o=r(0),a=r.n(o),i=r(45),c={playBtn:"index-module_playBtn_5wHuG"};function l(){return a.a.createElement(n.a,{className:c.playBtn,onClick:function(){return window.postMessage("show:play")}},a.a.createElement(i.b,{name:"play",width:8,height:12}),__("播放"))}},3982:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return a}));var n="data-lark-popup-container",o="data-lark-doc-embed",a="doc_embed"},4025:function(e,t,r){"use strict";r.d(t,"a",(function(){return _a})),r.d(t,"c",(function(){return ki})),r.d(t,"b",(function(){return yi})),r.d(t,"d",(function(){return Bo})),r.d(t,"e",(function(){return Yo}));var n=r(0),o=r.n(n);function a(e,t){}var i=a.bind(null,"warn");a.bind(null,"error");function c(){}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r){var n=t.map((function(t){var n=function(e,t){return s(s({},e),t)}(r,t.options);return e.addEventListener(t.eventName,t.fn,n),function(){e.removeEventListener(t.eventName,t.fn,n)}}));return function(){n.forEach((function(e){e()}))}}var p=!0,h="Invariant failed";function m(e){this.message=e}function y(e,t){if(!e)throw new m(p?h:"".concat(h,": ").concat(t||""))}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===v(a)?a:String(a)),n)}var o,a}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}m.prototype.toString=function(){return this.message};var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,r,n,o=w(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).callbacks=null,e.unbind=c,e.onWindowError=function(t){var r=e.getCallbacks();r.isDragging()&&(r.tryAbort(),i("\n        An error was caught by our window 'error' event listener while a drag was occurring.\n        The active drag has been aborted.\n      ")),t.error instanceof m&&t.preventDefault()},e.getCallbacks=function(){if(!e.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return e.callbacks},e.setCallbacks=function(t){e.callbacks=t},e}return t=a,(r=[{key:"componentDidMount",value:function(){this.unbind=d(window,[{eventName:"error",fn:this.onWindowError}])}},{key:"componentDidCatch",value:function(e){if(!(e instanceof m))throw e;this.setState({})}},{key:"componentWillUnmount",value:function(){this.unbind()}},{key:"render",value:function(){return this.props.children(this.setCallbacks)}}])&&b(t.prototype,r),n&&b(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.a.Component),O=function(e){return e+1},S=function(e,t){var r=e.droppableId===t.droppableId,n=O(e.index),o=O(t.index);return r?"\n      You have moved the item from position ".concat(n,"\n      to position ").concat(o,"\n    "):"\n    You have moved the item from position ".concat(n,"\n    in list ").concat(e.droppableId,"\n    to list ").concat(t.droppableId,"\n    in position ").concat(o,"\n  ")},A=function(e,t,r){return t.droppableId===r.droppableId?"\n      The item ".concat(e,"\n      has been combined with ").concat(r.draggableId):"\n      The item ".concat(e,"\n      in list ").concat(t.droppableId,"\n      has been combined with ").concat(r.draggableId,"\n      in list ").concat(r.droppableId,"\n    ")},k=function(e){return"\n  The item has returned to its starting position\n  of ".concat(O(e.index),"\n")},j={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:function(e){return"\n  You have lifted an item in position ".concat(O(e.source.index),"\n")},onDragUpdate:function(e){var t=e.destination;if(t)return S(e.source,t);var r=e.combine;return r?A(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},onDragEnd:function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      ".concat(k(e.source),"\n    ");var t=e.destination,r=e.combine;return t?"\n      You have dropped the item.\n      ".concat(S(e.source,t),"\n    "):r?"\n      You have dropped the item.\n      ".concat(A(e.draggableId,e.source,r),"\n    "):"\n    The item has been dropped while not over a drop area.\n    ".concat(k(e.source),"\n  ")}},x=r(828),C=r(469);function P(e,t){var r=Object(n.useState)((function(){return{inputs:t,result:e()}}))[0],o=Object(n.useRef)(!0),a=Object(n.useRef)(r),i=o.current||Boolean(t&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,a.current.inputs))?a.current:{inputs:t,result:e()};return Object(n.useEffect)((function(){o.current=!1,a.current=i}),[i]),i.result}var I=P,T=function(e,t){return P((function(){return e}),t)};function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function L(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==N(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===N(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M={x:0,y:0},B=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},F=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},G=function(e,t){return e.x===t.x&&e.y===t.y},z=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},U=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return R(r={},e,t),R(r,"x"===e?"y":"x",n),r},q=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},W=function(e,t){return Math.min.apply(Math,L(t.map((function(t){return q(e,t)}))))},V=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},H=r(274),Y=function(e){var t=e.top,r=e.right,n=e.bottom,o=e.left;return{top:t,right:r,bottom:n,left:o,width:r-o,height:n-t,x:o,y:t,center:{x:(r+o)/2,y:(n+t)/2}}},K=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Q=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Z={top:0,right:0,bottom:0,left:0},X=function(e){var t=e.borderBox,r=e.margin,n=void 0===r?Z:r,o=e.border,a=void 0===o?Z:o,i=e.padding,c=void 0===i?Z:i,l=Y(K(t,n)),u=Y(Q(t,a)),s=Y(Q(u,c));return{marginBox:l,borderBox:Y(t),paddingBox:u,contentBox:s,margin:n,border:a,padding:c}},J=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var r=Number(t);return isNaN(r)&&Object(H.default)(!1),r},$=function(e,t){var r,n,o=e.borderBox,a=e.border,i=e.margin,c=e.padding,l=(n=t,{top:(r=o).top+n.y,left:r.left+n.x,bottom:r.bottom+n.y,right:r.right+n.x});return X({borderBox:l,border:a,margin:i,padding:c})},ee=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),$(e,t)},te=function(e,t){var r={top:J(t.marginTop),right:J(t.marginRight),bottom:J(t.marginBottom),left:J(t.marginLeft)},n={top:J(t.paddingTop),right:J(t.paddingRight),bottom:J(t.paddingBottom),left:J(t.paddingLeft)},o={top:J(t.borderTopWidth),right:J(t.borderRightWidth),bottom:J(t.borderBottomWidth),left:J(t.borderLeftWidth)};return X({borderBox:e,margin:r,padding:n,border:o})},re=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return te(t,r)},ne=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},oe=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]};function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){le(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function le(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ae(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ae(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ue=function(e,t){return t&&t.shouldClipSubject?function(e,t){var r=Y({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r}(t.pageMarginBox,e):Y(e)},se=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,o=e.frame,a=function(e,t){return t?ne(e,t.scroll.diff.displacement):e}(t.marginBox,o),i=function(e,t,r){return r&&r.increasedBy?ce(ce({},e),{},le({},t.end,e[t.end]+r.increasedBy[t.line])):e}(a,n,r);return{page:t,withPlaceholder:r,active:ue(i,o)}};function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function he(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==fe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var me=function(e,t){y(e.frame);var r=e.frame,n=F(t,r.scroll.initial),o=z(n),a=pe(pe({},r),{},{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:o},max:r.scroll.max}}),i=se({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return pe(pe({},e),{},{frame:a,subject:i})},ye=r(3381);function ve(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function be(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function ge(e,t){if(e.find)return e.find(t);var r=be(e,t);return-1!==r?e[r]:void 0}function we(e){return Array.prototype.slice.call(e)}var _e=Object(ye.a)((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Ee=Object(ye.a)((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Oe=Object(ye.a)((function(e){return ve(e)})),Se=Object(ye.a)((function(e){return ve(e)})),Ae=Object(ye.a)((function(e,t){return Se(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}))}));function ke(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function je(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var xe=Object(ye.a)((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))}));function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){Te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Te(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ce(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ce(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ne=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Le={point:M,value:0},De={invisible:{},visible:{},all:[]},Re={displaced:De,displacedBy:Le,at:null},Me=function(e,t){return function(r){return e<=r&&r<=t}},Be=function(e){var t=Me(e.top,e.bottom),r=Me(e.left,e.right);return function(n){if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;var o=t(n.top)||t(n.bottom),a=r(n.left)||r(n.right);if(o&&a)return!0;var i=n.top<e.top&&n.bottom>e.bottom,c=n.left<e.left&&n.right>e.right;return!(!i||!c)||(i&&a||c&&o)}},Fe=function(e){var t=Me(e.top,e.bottom),r=Me(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&r(e.left)&&r(e.right)}},Ge={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ze={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ve(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ue(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ue(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var He=function(e){var t=e.target,r=e.destination,n=e.viewport,o=e.withDroppableDisplacement,a=e.isVisibleThroughFrameFn,i=o?function(e,t){var r=t.frame?t.frame.scroll.diff.displacement:M;return ne(e,r)}(t,r):t;return function(e,t,r){return!!t.subject.active&&r(t.subject.active)(e)}(i,r,a)&&function(e,t,r){return r(t)(e)}(i,n,a)},Ye=function(e){return He(We(We({},e),{},{isVisibleThroughFrameFn:Be}))},Ke=function(e){return He(We(We({},e),{},{isVisibleThroughFrameFn:Fe}))},Qe=function(e,t,r){if("boolean"==typeof r)return r;if(!t)return!0;var n=t.invisible,o=t.visible;if(n[e])return!1;var a=o[e];return!a||a.shouldAnimate};function Ze(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,o=e.viewport,a=e.forceShouldAnimate,i=e.last;return t.reduce((function(e,t){var c=function(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Y(K(r,n))}(t,n),l=t.descriptor.id;if(e.all.push(l),!Ye({target:c,destination:r,viewport:o,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var u={draggableId:l,shouldAnimate:Qe(l,i,a)};return e.visible[l]=u,e}),{all:[],visible:{},invisible:{}})}function Xe(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,o=e.destination,a=function(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}(t,{inHomeList:r});return{displaced:De,displacedBy:n,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:a}}}}function Je(e){var t=e.draggable,r=e.insideDestination,n=e.destination,o=e.viewport,a=e.displacedBy,i=e.last,c=e.index,l=e.forceShouldAnimate,u=Ne(t,n);if(null==c)return Xe({insideDestination:r,inHomeList:u,displacedBy:a,destination:n});var s=ge(r,(function(e){return e.descriptor.index===c}));if(!s)return Xe({insideDestination:r,inHomeList:u,displacedBy:a,destination:n});var f=xe(t,r),d=r.indexOf(s);return{displaced:Ze({afterDragging:f.slice(d),destination:n,displacedBy:a,last:i,viewport:o.frame,forceShouldAnimate:l}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:c}}}}function $e(e,t){return Boolean(t.effected[e])}var et=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,o=e.draggables,a=e.destination,i=e.insideDestination,c=e.previousImpact,l=e.viewport,u=e.afterCritical,s=c.at;if(y(s,"Cannot move in direction without previous impact location"),"REORDER"===s.type){var f=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,o=e.location;if(!n.length)return null;var a=o.index,i=t?a+1:a-1,c=n[0].descriptor.index,l=n[n.length-1].descriptor.index;return i<c||i>(r?l:l+1)?null:i}({isMovingForward:t,isInHomeList:r,location:s.destination,insideDestination:i});return null==f?null:Je({draggable:n,insideDestination:i,destination:a,viewport:l,last:c.displaced,displacedBy:c.displacedBy,index:f})}var d=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,o=e.combine,a=e.afterCritical;if(!r.isCombineEnabled)return null;var i=o.draggableId,c=n[i].descriptor.index;return $e(i,a)?t?c:c-1:t?c+1:c}({isMovingForward:t,destination:a,displaced:c.displaced,draggables:o,combine:s.combine,afterCritical:u});return null==d?null:Je({draggable:n,insideDestination:i,destination:a,viewport:l,last:c.displaced,displacedBy:c.displacedBy,index:d})},tt=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,o=je(r);y(o);var a=o.draggableId,i=n[a].page.borderBox.center,c=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,o=e.displacedBy,a=Boolean(t.visible[n]||t.invisible[n]);return $e(n,r)?a?M:z(o.point):a?o.point:M}({displaced:r.displaced,afterCritical:t,combineWith:a,displacedBy:r.displacedBy});return B(i,c)},rt=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},nt=function(e,t,r){return t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},ot=function(e){var t=e.axis,r=e.moveRelativeTo,n=e.isMoving;return U(t.line,r.marginBox[t.end]+rt(t,n),nt(t,r.marginBox,n))},at=function(e){var t=e.axis,r=e.moveRelativeTo,n=e.isMoving;return U(t.line,r.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,n),nt(t,r.marginBox,n))},it=function(e){var t=e.impact,r=e.draggable,n=e.draggables,o=e.droppable,a=e.afterCritical,i=Ae(o.descriptor.id,n),c=r.page,l=o.axis;if(!i.length)return function(e){var t=e.axis,r=e.moveInto,n=e.isMoving;return U(t.line,r.contentBox[t.start]+rt(t,n),nt(t,r.contentBox,n))}({axis:l,moveInto:o.page,isMoving:c});var u=t.displaced,s=t.displacedBy,f=u.all[0];if(f){var d=n[f];if($e(f,a))return at({axis:l,moveRelativeTo:d.page,isMoving:c});var p=$(d.page,s.point);return at({axis:l,moveRelativeTo:p,isMoving:c})}var h=i[i.length-1];if(h.descriptor.id===r.descriptor.id)return c.borderBox.center;if($e(h.descriptor.id,a)){var m=$(h.page,z(a.displacedBy.point));return ot({axis:l,moveRelativeTo:m,isMoving:c})}return ot({axis:l,moveRelativeTo:h.page,isMoving:c})},ct=function(e,t){var r=e.frame;return r?B(t,r.scroll.diff.displacement):t},lt=function(e){var t=function(e){var t=e.impact,r=e.draggable,n=e.droppable,o=e.draggables,a=e.afterCritical,i=r.page.borderBox.center,c=t.at;return n&&c?"REORDER"===c.type?it({impact:t,draggable:r,draggables:o,droppable:n,afterCritical:a}):tt({impact:t,draggables:o,afterCritical:a}):i}(e),r=e.droppable;return r?ct(r,t):t},ut=function(e,t){var r=F(t,e.scroll.initial),n=z(r);return{frame:Y({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach((function(t){pt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==st(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==st(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===st(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ht(e,t){return e.map((function(e){return t[e]}))}var mt=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=function(e,t){return B(e.scroll.diff.displacement,t)}(e.viewport,t),o=F(n,r.page.borderBox.center);return B(r.client.borderBox.center,o)},yt=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,o=e.viewport,a=e.withDroppableDisplacement,i=e.onlyOnMainAxis,c=void 0!==i&&i,l=F(n,t.page.borderBox.center),u={target:ne(t.page.borderBox,l),destination:r,withDroppableDisplacement:a,viewport:o};return c?function(e){return He(We(We({},e),{},{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var r=Me(e.top,e.bottom),n=Me(e.left,e.right);return function(e){return t===Ge?r(e.top)&&r(e.bottom):n(e.left)&&n(e.right)}})}));var t}(u):Ke(u)},vt=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.draggables,a=e.previousImpact,i=e.viewport,c=e.previousPageBorderBoxCenter,l=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var s=Ae(n.descriptor.id,o),f=Ne(r,n),d=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.insideDestination,a=e.previousImpact;if(!n.isCombineEnabled)return null;if(!ke(a))return null;function i(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return Ie(Ie({},a),{},{at:t})}var c=a.displaced.all,l=c.length?c[0]:null;if(t)return l?i(l):null;var u=xe(r,o);if(!l)return u.length?i(u[u.length-1].descriptor.id):null;var s=be(u,(function(e){return e.descriptor.id===l}));y(-1!==s,"Could not find displaced item in set");var f=s-1;return f<0?null:i(u[f].descriptor.id)}({isMovingForward:t,draggable:r,destination:n,insideDestination:s,previousImpact:a})||et({isMovingForward:t,isInHomeList:f,draggable:r,draggables:o,destination:n,insideDestination:s,previousImpact:a,viewport:i,afterCritical:u});if(!d)return null;var p=lt({impact:d,draggable:r,droppable:n,draggables:o,afterCritical:u});if(yt({draggable:r,destination:n,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:mt({pageBorderBoxCenter:p,draggable:r,viewport:i}),impact:d,scrollJumpRequest:null};var h=F(p,c),m=function(e){var t=e.impact,r=e.viewport,n=e.destination,o=e.draggables,a=e.maxScrollChange,i=ut(r,B(r.scroll.current,a)),c=n.frame?me(n,B(n.frame.scroll.current,a)):n,l=t.displaced,u=Ze({afterDragging:ht(l.all,o),destination:n,displacedBy:t.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),s=Ze({afterDragging:ht(l.all,o),destination:c,displacedBy:t.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),f={},d={},p=[l,u,s];return l.all.forEach((function(e){var t=function(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}(e,p);t?d[e]=t:f[e]=!0})),dt(dt({},t),{},{displaced:{all:l.all,invisible:f,visible:d}})}({impact:d,viewport:i,destination:n,draggables:o,maxScrollChange:h});return{clientSelection:l,impact:m,scrollJumpRequest:h}},bt=function(e){var t=e.subject.active;return y(t,"Cannot get clipped area from droppable"),t},gt=function(e,t){var r=e.page.borderBox.center;return $e(e.descriptor.id,t)?F(r,t.displacedBy.point):r},wt=function(e,t){var r=e.page.borderBox;return $e(e.descriptor.id,t)?ne(r,z(t.displacedBy.point)):r},_t=Object(ye.a)((function(e,t){var r=t[e.line];return{value:r,point:U(e.line,r)}}));function Et(e){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et(e)}function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){At(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function At(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Et(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Et(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kt=function(e,t){return St(St({},e),{},{scroll:St(St({},e.scroll),{},{max:t})})},jt=function(e,t,r){var n=e.frame;y(!Ne(t,e),"Should not add placeholder space to home list"),y(!e.subject.withPlaceholder,"Cannot add placeholder size to a subject when it already has one");var o=_t(e.axis,t.displaceBy).point,a=function(e,t,r){var n=e.axis;if("virtual"===e.descriptor.mode)return U(n.line,t[n.line]);var o=e.subject.page.contentBox[n.size],a=Ae(e.descriptor.id,r).reduce((function(e,t){return e+t.client.marginBox[n.size]}),0)+t[n.line]-o;return a<=0?null:U(n.line,a)}(e,o,r),i={placeholderSize:o,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n){var c=se({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return St(St({},e),{},{subject:c})}var l=a?B(n.scroll.max,a):n.scroll.max,u=kt(n,l),s=se({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:u});return St(St({},e),{},{subject:s,frame:u})},xt=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,o=e.isOver,a=e.draggables,i=e.droppables,c=e.viewport,l=e.afterCritical,u=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,o=e.droppables,a=e.viewport,i=n.subject.active;if(!i)return null;var c=n.axis,l=Me(i[c.start],i[c.end]),u=Oe(o).filter((function(e){return e!==n})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return Be(a.frame)(bt(e))})).filter((function(e){var r=bt(e);return t?i[c.crossAxisEnd]<r[c.crossAxisEnd]:r[c.crossAxisStart]<i[c.crossAxisStart]})).filter((function(e){var t=bt(e),r=Me(t[c.start],t[c.end]);return l(t[c.start])||l(t[c.end])||r(i[c.start])||r(i[c.end])})).sort((function(e,r){var n=bt(e)[c.crossAxisStart],o=bt(r)[c.crossAxisStart];return t?n-o:o-n})).filter((function(e,t,r){return bt(e)[c.crossAxisStart]===bt(r[0])[c.crossAxisStart]}));if(!u.length)return null;if(1===u.length)return u[0];var s=u.filter((function(e){return Me(bt(e)[c.start],bt(e)[c.end])(r[c.line])}));return 1===s.length?s[0]:s.length>1?s.sort((function(e,t){return bt(e)[c.start]-bt(t)[c.start]}))[0]:u.sort((function(e,t){var n=W(r,oe(bt(e))),o=W(r,oe(bt(t)));return n!==o?n-o:bt(e)[c.start]-bt(t)[c.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:r,source:o,droppables:i,viewport:c});if(!u)return null;var s=Ae(u.descriptor.id,a),f=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,o=e.insideDestination,a=e.afterCritical;return o.filter((function(e){return Ke({target:wt(e,a),destination:n,viewport:r.frame,withDroppableDisplacement:!0})})).sort((function(e,r){var o=q(t,ct(n,gt(e,a))),i=q(t,ct(n,gt(r,a)));return o<i?-1:i<o?1:e.descriptor.index-r.descriptor.index}))[0]||null}({pageBorderBoxCenter:r,viewport:c,destination:u,insideDestination:s,afterCritical:l}),d=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,o=e.draggable,a=e.draggables,i=e.destination,c=e.viewport,l=e.afterCritical;if(!r){if(n.length)return null;var u={displaced:De,displacedBy:Le,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},s=lt({impact:u,draggable:o,droppable:i,draggables:a,afterCritical:l}),f=Ne(o,i)?i:jt(i,o,a);return yt({draggable:o,destination:f,newPageBorderBoxCenter:s,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}var d,p=Boolean(t[i.axis.line]<=r.page.borderBox.center[i.axis.line]),h=(d=r.descriptor.index,r.descriptor.id===o.descriptor.id||p?d:d+1),m=_t(i.axis,o.displaceBy);return Je({draggable:o,insideDestination:n,destination:i,viewport:c,displacedBy:m,last:De,index:h})}({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:a,moveRelativeTo:f,insideDestination:s,viewport:c,afterCritical:l});if(!d)return null;var p=lt({impact:d,draggable:n,droppable:u,draggables:a,afterCritical:l});return{clientSelection:mt({pageBorderBoxCenter:p,draggable:n,viewport:c}),impact:d,scrollJumpRequest:null}},Ct=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Pt=function(e){var t=e.state,r=e.type,n=function(e,t){var r=Ct(e);return r?t[r]:null}(t.impact,t.dimensions.droppables),o=Boolean(n),a=t.dimensions.droppables[t.critical.droppable.id],i=n||a,c=i.axis.direction,l="vertical"===c&&("MOVE_UP"===r||"MOVE_DOWN"===r)||"horizontal"===c&&("MOVE_LEFT"===r||"MOVE_RIGHT"===r);if(l&&!o)return null;var u="MOVE_DOWN"===r||"MOVE_RIGHT"===r,s=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,d=t.dimensions,p=d.draggables,h=d.droppables;return l?vt({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:s,destination:i,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):xt({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:s,isOver:i,draggables:p,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function It(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Tt(e){var t=Me(e.top,e.bottom),r=Me(e.left,e.right);return function(e){return t(e.y)&&r(e.x)}}function Nt(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,o=Oe(n).filter((function(e){if(!e.isEnabled)return!1;var r,n,o=e.subject.active;if(!o)return!1;if(n=o,!((r=t).left<n.right&&r.right>n.left&&r.top<n.bottom&&r.bottom>n.top))return!1;if(Tt(o)(t.center))return!0;var a=e.axis,i=o.center[a.crossAxisLine],c=t[a.crossAxisStart],l=t[a.crossAxisEnd],u=Me(o[a.crossAxisStart],o[a.crossAxisEnd]),s=u(c),f=u(l);return!s&&!f||(s?c<i:l>i)}));return o.length?1===o.length?o[0].descriptor.id:function(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,o=r.page.borderBox.center,a=n.map((function(e){var r=e.axis,n=U(e.axis.line,t.center[r.line],e.page.borderBox.center[r.crossAxisLine]);return{id:e.descriptor.id,distance:q(o,n)}})).sort((function(e,t){return t.distance-e.distance}));return a[0]?a[0].id:null}({pageBorderBox:t,draggable:r,candidates:o}):null}var Lt=function(e,t){return Y(ne(e,t))};function Dt(e){var t=e.displaced,r=e.id;return Boolean(t.visible[r]||t.invisible[r])}var Rt=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,o=e.droppables,a=e.previousImpact,i=e.viewport,c=e.afterCritical,l=Lt(r.page.borderBox,t),u=Nt({pageBorderBox:l,draggable:r,droppables:o});if(!u)return Re;var s,f,d=o[u],p=Ae(d.descriptor.id,n),h=(s=l,(f=d.frame)?Lt(s,f.scroll.diff.value):s);return function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,o=e.destination,a=e.insideDestination,i=e.afterCritical;if(!o.isCombineEnabled)return null;var c=o.axis,l=_t(o.axis,t.displaceBy),u=l.value,s=r[c.start],f=r[c.end],d=ge(xe(t,a),(function(e){var t=e.descriptor.id,r=e.page.borderBox,o=r[c.size]/4,a=$e(t,i),l=Dt({displaced:n.displaced,id:t});return a?l?f>r[c.start]+o&&f<r[c.end]-o:s>r[c.start]-u+o&&s<r[c.end]-u-o:l?f>r[c.start]+u+o&&f<r[c.end]+u-o:s>r[c.start]+o&&s<r[c.end]-o}));return d?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:o.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:h,draggable:r,previousImpact:a,destination:d,insideDestination:p,afterCritical:c})||function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,o=e.insideDestination,a=e.last,i=e.viewport,c=e.afterCritical,l=n.axis,u=_t(n.axis,r.displaceBy),s=u.value,f=t[l.start],d=t[l.end],p=function(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}({draggable:r,closest:ge(xe(r,o),(function(e){var t=e.descriptor.id,r=e.page.borderBox.center[l.line],n=$e(t,c),o=Dt({displaced:a,id:t});return n?o?d<=r:f<r-s:o?d<=r+s:f<r})),inHomeList:Ne(r,n)});return Je({draggable:r,insideDestination:o,destination:n,viewport:i,last:a,displacedBy:u,index:p})}({pageBorderBoxWithDroppableScroll:h,draggable:r,destination:d,insideDestination:p,last:a.displaced,viewport:i,afterCritical:c})};function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}function Bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(r),!0).forEach((function(t){Gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Mt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Mt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zt=function(e,t){return Ft(Ft({},e),{},Gt({},t.descriptor.id,t))},Ut=function(e){var t=e.previousImpact,r=e.impact,n=e.droppables,o=Ct(t),a=Ct(r);if(!o)return n;if(o===a)return n;var i=n[o];if(!i.subject.withPlaceholder)return n;var c=function(e){var t=e.subject.withPlaceholder;y(t,"Cannot remove placeholder form subject when there was none");var r=e.frame;if(!r){var n=se({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return St(St({},e),{},{subject:n})}var o=t.oldFrameMaxScroll;y(o,"Expected droppable with frame to have old max frame scroll when removing placeholder");var a=kt(r,o),i=se({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return St(St({},e),{},{subject:i,frame:a})}(i);return zt(n,c)};function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(r),!0).forEach((function(t){Ht(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ht(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==qt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yt=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,o=e.viewport,a=e.impact,i=e.scrollJumpRequest,c=o||t.viewport,l=n||t.dimensions,u=r||t.current.client.selection,s=F(u,t.initial.client.selection),f={offset:s,selection:u,borderBoxCenter:B(t.initial.client.borderBoxCenter,s)},d={selection:B(f.selection,c.scroll.current),borderBoxCenter:B(f.borderBoxCenter,c.scroll.current),offset:B(f.offset,c.scroll.diff.value)},p={client:f,page:d};if("COLLECTING"===t.phase)return Vt(Vt({phase:"COLLECTING"},t),{},{dimensions:l,viewport:c,current:p});var h=l.draggables[t.critical.draggable.id],m=a||Rt({pageOffset:d.offset,draggable:h,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:c,afterCritical:t.afterCritical}),y=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,o=e.previousImpact,a=e.impact,i=Ut({previousImpact:o,impact:a,droppables:n}),c=Ct(a);if(!c)return i;var l=n[c];if(Ne(t,l))return i;if(l.subject.withPlaceholder)return i;var u=jt(l,t,r);return zt(i,u)}({draggable:h,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return Vt(Vt({},t),{},{current:p,dimensions:{draggables:l.draggables,droppables:y},impact:m,viewport:c,scrollJumpRequest:i||null,forceShouldAnimate:!i&&null})};function Kt(e){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kt(e)}function Qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(r),!0).forEach((function(t){Xt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Kt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Kt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jt=function(e){var t=e.impact,r=e.viewport,n=e.draggables,o=e.destination,a=e.forceShouldAnimate,i=t.displaced,c=function(e,t){return e.map((function(e){return t[e]}))}(i.all,n),l=Ze({afterDragging:c,destination:o,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:i});return Zt(Zt({},t),{},{displaced:l})},$t=function(e){var t=e.impact,r=e.draggable,n=e.droppable,o=e.draggables,a=e.viewport,i=e.afterCritical,c=lt({impact:t,draggable:r,draggables:o,droppable:n,afterCritical:i});return mt({pageBorderBoxCenter:c,draggable:r,viewport:a})},er=function(e){var t=e.state,r=e.dimensions,n=e.viewport;y("SNAP"===t.movementMode);var o=t.impact,a=n||t.viewport,i=r||t.dimensions,c=i.draggables,l=i.droppables,u=c[t.critical.draggable.id],s=Ct(o);y(s,"Must be over a destination in SNAP movement mode");var f=l[s],d=Jt({impact:o,viewport:a,destination:f,draggables:c}),p=$t({impact:d,draggable:u,droppable:f,draggables:c,viewport:a,afterCritical:t.afterCritical});return Yt({impact:d,clientSelection:p,state:t,dimensions:i,viewport:a})},tr=function(e){var t=e.draggable,r=e.home,n=e.draggables,o=e.viewport,a=_t(r.axis,t.displaceBy),i=Ae(r.descriptor.id,n),c=i.indexOf(t);y(-1!==c,"Expected draggable to be inside home list");var l,u=i.slice(c+1),s=u.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),f={inVirtualList:"virtual"===r.descriptor.mode,displacedBy:a,effected:s};return{impact:{displaced:Ze({afterDragging:u,destination:r,displacedBy:a,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:f}};function rr(e){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(e)}function nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(r),!0).forEach((function(t){ar(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ar(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==rr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ir=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,o=n.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,a=function(e){var t=e.frame;return y(t,"Expected Droppable to have a frame"),t}(r[t]).scroll.diff.value,i=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,o=$(t.client,r),a=ee(o,n);return or(or({},t),{},{placeholder:or(or({},t.placeholder),{},{client:o}),client:o,page:a})}({draggable:e,offset:B(o,a),initialWindowScroll:n.scroll.initial});return i}))};function cr(e){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(e)}function lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(r),!0).forEach((function(t){sr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==cr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fr(e){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(e)}function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(r),!0).forEach((function(t){hr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==fr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==fr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mr=function(e){return"SNAP"===e.movementMode},yr=function(e,t,r){var n=function(e,t){return{draggables:e.draggables,droppables:zt(e.droppables,t)}}(e.dimensions,t);return!mr(e)||r?Yt({state:e,dimensions:n}):er({state:e,dimensions:n})};function vr(e){return e.isDragging&&"SNAP"===e.movementMode?pr(pr({phase:"DRAGGING"},e),{},{scrollJumpRequest:null}):e}var br={phase:"IDLE",completed:null,shouldFlush:!1},gr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br,t=arguments.length>1?arguments[1]:void 0;if("FLUSH"===t.type)return pr(pr({},br),{},{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){y("IDLE"===e.phase,"INITIAL_PUBLISH must come after a IDLE phase");var r=t.payload,n=r.critical,o=r.clientSelection,a=r.viewport,i=r.dimensions,c=r.movementMode,l=i.draggables[n.draggable.id],u=i.droppables[n.droppable.id],s={selection:o,borderBoxCenter:l.client.borderBox.center,offset:M},f={client:s,page:{selection:B(s.selection,a.scroll.initial),borderBoxCenter:B(s.selection,a.scroll.initial),offset:B(s.selection,a.scroll.diff.value)}},d=Oe(i.droppables).every((function(e){return!e.isFixedOnPage})),p=tr({draggable:l,home:u,draggables:i.draggables,viewport:a}),h=p.impact;return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:c,dimensions:i,initial:f,current:f,isWindowScrollAllowed:d,impact:h,afterCritical:p.afterCritical,onLiftImpact:h,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:(y("DRAGGING"===e.phase,"Collection cannot start from phase ".concat(e.phase)),pr(pr({phase:"COLLECTING"},e),{},{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return y("COLLECTING"===e.phase||"DROP_PENDING"===e.phase,"Unexpected ".concat(t.type," received in phase ").concat(e.phase)),function(e){var t=e.state,r=e.published,n=r.modified.map((function(e){var r=t.dimensions.droppables[e.droppableId];return me(r,e.scroll)})),o=ur(ur({},t.dimensions.droppables),_e(n)),a=Ee(ir({additions:r.additions,updatedDroppables:o,viewport:t.viewport})),i=ur(ur({},t.dimensions.draggables),a);r.removals.forEach((function(e){delete i[e]}));var c={droppables:o,draggables:i},l=Ct(t.impact),u=l?c.droppables[l]:null,s=c.draggables[t.critical.draggable.id],f=c.droppables[t.critical.droppable.id],d=tr({draggable:s,home:f,draggables:i,viewport:t.viewport}),p=d.impact,h=d.afterCritical,m=u&&u.isCombineEnabled?t.impact:p,y=Rt({pageOffset:t.current.page.offset,draggable:c.draggables[t.critical.draggable.id],draggables:c.draggables,droppables:c.droppables,previousImpact:m,viewport:t.viewport,afterCritical:h}),v=ur(ur({phase:"DRAGGING"},t),{},{phase:"DRAGGING",impact:y,onLiftImpact:p,dimensions:c,afterCritical:h,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:ur(ur({phase:"DROP_PENDING"},v),{},{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;y(It(e),"".concat(t.type," not permitted in phase ").concat(e.phase));var m=t.payload.client;return G(m,e.current.client.selection)?e:Yt({state:e,clientSelection:m,impact:mr(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return vr(e);if("COLLECTING"===e.phase)return vr(e);y(It(e),"".concat(t.type," not permitted in phase ").concat(e.phase));var v=t.payload,b=v.id,g=v.newScroll,w=e.dimensions.droppables[b];if(!w)return e;var _=me(w,g);return yr(e,_,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;y(It(e),"Attempting to move in an unsupported phase ".concat(e.phase));var E=t.payload,O=E.id,S=E.isEnabled,A=e.dimensions.droppables[O];y(A,"Cannot find Droppable[id: ".concat(O,"] to toggle its enabled state")),y(A.isEnabled!==S,"Trying to set droppable isEnabled to ".concat(String(S),"\n      but it is already ").concat(String(A.isEnabled)));var k=pr(pr({},A),{},{isEnabled:S});return yr(e,k,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;y(It(e),"Attempting to move in an unsupported phase ".concat(e.phase));var j=t.payload,x=j.id,C=j.isCombineEnabled,P=e.dimensions.droppables[x];y(P,"Cannot find Droppable[id: ".concat(x,"] to toggle its isCombineEnabled state")),y(P.isCombineEnabled!==C,"Trying to set droppable isCombineEnabled to ".concat(String(C),"\n      but it is already ").concat(String(P.isCombineEnabled)));var I=pr(pr({},P),{},{isCombineEnabled:C});return yr(e,I,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;y(It(e),"Cannot move by window in phase ".concat(e.phase)),y(e.isWindowScrollAllowed,"Window scrolling is currently not supported for fixed lists");var T=t.payload.newScroll;if(G(e.viewport.scroll.current,T))return vr(e);var N=ut(e.viewport,T);return mr(e)?er({state:e,viewport:N}):Yt({state:e,viewport:N})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!It(e))return e;var L=t.payload.maxScroll;if(G(L,e.viewport.scroll.max))return e;var D=pr(pr({},e.viewport),{},{scroll:pr(pr({},e.viewport.scroll),{},{max:L})});return pr(pr({phase:"DRAGGING"},e),{},{viewport:D})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;y("DRAGGING"===e.phase,"".concat(t.type," received while not in DRAGGING phase"));var R=Pt({state:e,type:t.type});return R?Yt({state:e,impact:R.impact,clientSelection:R.clientSelection,scrollJumpRequest:R.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var F=t.payload.reason;return y("COLLECTING"===e.phase,"Can only move into the DROP_PENDING phase from the COLLECTING phase"),pr(pr({phase:"DROP_PENDING"},e),{},{phase:"DROP_PENDING",isWaiting:!0,reason:F})}if("DROP_ANIMATE"===t.type){var z=t.payload,U=z.completed,q=z.dropDuration,W=z.newHomeClientOffset;return y("DRAGGING"===e.phase||"DROP_PENDING"===e.phase,"Cannot animate drop from phase ".concat(e.phase)),{phase:"DROP_ANIMATING",completed:U,dropDuration:q,newHomeClientOffset:W,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},wr=function(e){return{type:"LIFT",payload:e}},_r=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Er=function(){return{type:"COLLECTION_STARTING",payload:null}},Or=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Sr=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Ar=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},kr=function(e){return{type:"MOVE",payload:e}},jr=function(){return{type:"MOVE_UP",payload:null}},xr=function(){return{type:"MOVE_DOWN",payload:null}},Cr=function(){return{type:"MOVE_RIGHT",payload:null}},Pr=function(){return{type:"MOVE_LEFT",payload:null}},Ir=function(){return{type:"FLUSH",payload:null}},Tr=function(e){return{type:"DROP_COMPLETE",payload:e}},Nr=function(e){return{type:"DROP",payload:e}},Lr=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Dr="cubic-bezier(0.2, 0, 0, 1)",Rr="cubic-bezier(.2,1,.1,1)",Mr={drop:0,combining:.7},Br={drop:.75},Fr=.33,Gr=.55,zr="".concat(.2,"s ").concat(Dr),Ur={fluid:"opacity ".concat(zr),snap:"transform ".concat(zr,", opacity ").concat(zr),drop:function(e){var t="".concat(e,"s ").concat(Rr);return"transform ".concat(t,", opacity ").concat(t)},outOfTheWay:"transform ".concat(zr),placeholder:"height ".concat(zr,", width ").concat(zr,", margin ").concat(zr)},qr=function(e){return G(e,M)?null:"translate(".concat(e.x,"px, ").concat(e.y,"px)")},Wr={moveTo:qr,drop:function(e,t){var r=qr(e);return r?t?"".concat(r," scale(").concat(Br.drop,")"):r:null}},Vr=Fr,Hr=Gr,Yr=Hr-Vr;function Kr(e){return Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kr(e)}function Qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(r),!0).forEach((function(t){Xr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xr(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Kr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Kr(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jr=function(e){var t=e.getState,r=e.dispatch;return function(e){return function(n){if("DROP"===n.type){var o=t(),a=n.payload.reason;if("COLLECTING"!==o.phase){if("IDLE"!==o.phase){y(!("DROP_PENDING"===o.phase&&o.isWaiting),"A DROP action occurred while DROP_PENDING and still waiting"),y("DRAGGING"===o.phase||"DROP_PENDING"===o.phase,"Cannot drop in phase: ".concat(o.phase));var i=o.critical,c=o.dimensions,l=c.draggables[o.critical.draggable.id],u=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,o=e.home,a=e.viewport,i=e.onLiftImpact;return n.at&&"DROP"===r?"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:Zr(Zr({},n),{},{displaced:De}),didDropInsideDroppable:!0}:{impact:Jt({draggables:t,impact:i,destination:o,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:a,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),s=u.impact,f=u.didDropInsideDroppable,d=f?ke(s):null,p=f?je(s):null,h={index:i.draggable.index,droppableId:i.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:h,reason:a,mode:o.movementMode,destination:d,combine:p},v=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,o=e.viewport,a=e.afterCritical,i=n.draggables,c=n.droppables,l=Ct(t),u=l?c[l]:null,s=c[r.descriptor.droppableId],f=$t({impact:t,draggable:r,draggables:i,afterCritical:a,droppable:u||s,viewport:o});return F(f,r.client.borderBox.center)}({impact:s,draggable:l,dimensions:c,viewport:o.viewport,afterCritical:o.afterCritical}),b={critical:o.critical,afterCritical:o.afterCritical,result:m,impact:s};if(!G(o.current.client.offset,v)||Boolean(m.combine)){var g=function(e){var t=e.current,r=e.destination,n=e.reason,o=q(t,r);if(o<=0)return Vr;if(o>=1500)return Hr;var a=Vr+Yr*(o/1500);return Number(("CANCEL"===n?.6*a:a).toFixed(2))}({current:o.current.client.offset,destination:v,reason:a});r(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:v,dropDuration:g,completed:b}))}else r(Tr({completed:b}))}}else r(function(e){return{type:"DROP_PENDING",payload:e}}({reason:a}))}else e(n)}}},$r=function(e){var t=[],r=null,n=function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];t=o,r||(r=requestAnimationFrame((function(){r=null,e.apply(void 0,t)})))};return n.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},n},en=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function tn(e){var t=e.onWindowScroll;var r,n=$r((function(){t(en())})),o=(r=n,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||r()}}),a=c;function i(){return a!==c}return{start:function(){y(!i(),"Cannot start scroll listener when already active"),a=d(window,[o])},stop:function(){y(i(),"Cannot stop scroll listener when not active"),n.cancel(),a(),a=c},isActive:i}}var rn=function(e){var t=tn({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(r){t.isActive()||"INITIAL_PUBLISH"!==r.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r)&&t.stop(),e(r)}}};function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return on(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return on(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var an=function(){var e=[];return{add:function(t){var r=setTimeout((function(){return function(t){var r=be(e,(function(e){return e.timerId===t}));y(-1!==r,"Could not find timer"),nn(e.splice(r,1),1)[0].callback()}(r)})),n={timerId:r,callback:t};e.push(n)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}};function cn(e){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cn(e)}function ln(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(r),!0).forEach((function(t){sn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ln(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==cn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fn=function(e,t){t()},dn=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},pn=function(e,t,r,n){if(e){var o=function(e){var t=!1,r=!1,n=setTimeout((function(){r=!0})),o=function(o){t?i("Announcement already made. Not making a second announcement"):r?i("\n        Announcements cannot be made asynchronously.\n        Default message has already been announced.\n      "):(t=!0,e(o),clearTimeout(n))};return o.wasCalled=function(){return t},o}(r);e(t,{announce:o}),o.wasCalled()||r(n(t))}else r(n(t))},hn=function(e,t){var r=function(e,t){var r=an(),n=null,o=function(r){y(n,"Cannot fire onDragEnd when there is no matching onDragStart"),n=null,fn(0,(function(){return pn(e().onDragEnd,r,t,j.onDragEnd)}))};return{beforeCapture:function(t,r){y(!n,"Cannot fire onBeforeCapture as a drag start has already been published"),fn(0,(function(){var n=e().onBeforeCapture;n&&n({draggableId:t,mode:r})}))},beforeStart:function(t,r){y(!n,"Cannot fire onBeforeDragStart as a drag start has already been published"),fn(0,(function(){var n=e().onBeforeDragStart;n&&n(dn(t,r))}))},start:function(o,a){y(!n,"Cannot fire onBeforeDragStart as a drag start has already been published");var i=dn(o,a);n={mode:a,lastCritical:o,lastLocation:i.source,lastCombine:null},r.add((function(){fn(0,(function(){return pn(e().onDragStart,i,t,j.onDragStart)}))}))},update:function(o,a){var i=ke(a),c=je(a);y(n,"Cannot fire onDragMove when onDragStart has not been called");var l=!function(e,t){if(e===t)return!0;var r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n}(o,n.lastCritical);l&&(n.lastCritical=o);var u,s,f=(s=i,!(null==(u=n.lastLocation)&&null==s||null!=u&&null!=s&&u.droppableId===s.droppableId&&u.index===s.index));f&&(n.lastLocation=i);var d=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(n.lastCombine,c);if(d&&(n.lastCombine=c),l||f||d){var p=un(un({},dn(o,n.mode)),{},{combine:c,destination:i});r.add((function(){fn(0,(function(){return pn(e().onDragUpdate,p,t,j.onDragUpdate)}))}))}},flush:function(){y(n,"Can only flush responders while dragging"),r.flush()},drop:o,abort:function(){if(n){var e=un(un({},dn(n.lastCritical,n.mode)),{},{combine:null,destination:null,reason:"CANCEL"});o(e)}}}}(e,t);return function(e){return function(t){return function(n){if("BEFORE_INITIAL_CAPTURE"!==n.type){if("INITIAL_PUBLISH"===n.type){var o=n.payload.critical;return r.beforeStart(o,n.payload.movementMode),t(n),void r.start(o,n.payload.movementMode)}if("DROP_COMPLETE"===n.type){var a=n.payload.completed.result;return r.flush(),t(n),void r.drop(a)}if(t(n),"FLUSH"!==n.type){var i=e.getState();"DRAGGING"===i.phase&&r.update(i.critical,i.impact)}else r.abort()}else r.beforeCapture(n.payload.draggableId,n.payload.movementMode)}}}},mn=function(e){return function(t){return function(r){if("DROP_ANIMATION_FINISHED"===r.type){var n=e.getState();y("DROP_ANIMATING"===n.phase,"Cannot finish a drop animating when no drop is occurring"),e.dispatch(Tr({completed:n.completed}))}else t(r)}}},yn=function(e){var t=null,r=null;return function(n){return function(o){if("FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type&&"DROP_ANIMATION_FINISHED"!==o.type||(r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)),n(o),"DROP_ANIMATE"===o.type){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};r=requestAnimationFrame((function(){r=null,t=d(window,[a])}))}}}},vn=function(e){return function(t){return function(r){if(t(r),"PUBLISH_WHILE_DRAGGING"===r.type){var n=e.getState();"DROP_PENDING"===n.phase&&(n.isWaiting||e.dispatch(Nr({reason:n.reason})))}}}},bn=x.d,gn=function(e){var t,r=e.dimensionMarshal,n=e.focusMarshal,o=e.styleMarshal,a=e.getResponders,i=e.announce,c=e.autoScroller;return Object(x.e)(gr,bn(Object(x.a)((t=o,function(){return function(e){return function(r){"INITIAL_PUBLISH"===r.type&&t.dragging(),"DROP_ANIMATE"===r.type&&t.dropping(r.payload.completed.result.reason),"FLUSH"!==r.type&&"DROP_COMPLETE"!==r.type||t.resting(),e(r)}}}),function(e){return function(){return function(t){return function(r){"DROP_COMPLETE"!==r.type&&"FLUSH"!==r.type&&"DROP_ANIMATE"!==r.type||e.stopPublishing(),t(r)}}}}(r),function(e){return function(t){var r=t.getState,n=t.dispatch;return function(t){return function(o){if("LIFT"===o.type){var a=o.payload,i=a.id,c=a.clientSelection,l=a.movementMode,u=r();"DROP_ANIMATING"===u.phase&&n(Tr({completed:u.completed})),y("IDLE"===r().phase,"Unexpected phase to start a drag"),n(Ir()),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:i,movementMode:l}});var s={draggableId:i,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},f=e.startPublishing(s),d=f.critical,p=f.dimensions,h=f.viewport;n({type:"INITIAL_PUBLISH",payload:{critical:d,dimensions:p,clientSelection:c,movementMode:l,viewport:h}})}else t(o)}}}}(r),Jr,mn,yn,vn,function(e){return function(t){return function(r){return function(n){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n))return e.stop(),void r(n);if("INITIAL_PUBLISH"===n.type){r(n);var o=t.getState();return y("DRAGGING"===o.phase,"Expected phase to be DRAGGING after INITIAL_PUBLISH"),void e.start(o)}r(n),e.scroll(t.getState())}}}}(c),rn,function(e){var t=!1;return function(){return function(r){return function(n){if("INITIAL_PUBLISH"===n.type)return t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),void e.tryRestoreFocusRecorded();if(r(n),t){if("FLUSH"===n.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===n.type){t=!1;var o=n.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(n),hn(a,i))))};var wn=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,o=e.width,a=F({x:r,y:t},{x:o,y:n});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},_n=function(){var e=document.documentElement;return y(e,"Cannot find document.documentElement"),e},En=function(){var e=_n();return wn({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},On=function(e){var t,r,n,o,a,i,c,l=e.critical,u=e.scrollOptions,s=e.registry,f=(t=en(),r=En(),n=t.y,o=t.x,a=_n(),i=a.clientWidth,c=a.clientHeight,{frame:Y({top:n,left:o,right:o+i,bottom:n+c}),scroll:{initial:t,current:t,max:r,diff:{value:M,displacement:M}}}),d=f.scroll.current,p=l.droppable,h=s.droppable.getAllByType(p.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(d,u)})),m=s.draggable.getAllByType(l.draggable.type).map((function(e){return e.getDimension(d)}));return{dimensions:{draggables:Ee(m),droppables:_e(h)},critical:l,viewport:f}};function Sn(e,t,r){return r.descriptor.id!==t.id&&(r.descriptor.type===t.type&&("virtual"===e.droppable.getById(r.descriptor.droppableId).descriptor.mode||(i("\n      You are attempting to add or remove a Draggable [id: ".concat(r.descriptor.id,"]\n      while a drag is occurring. This is only supported for virtual lists.\n\n      See https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/patterns/virtual-lists.md\n    ")),!1)))}var An,kn,jn=function(e,t){var r=null,n=function(e){var t=e.registry,r=e.callbacks,n={additions:{},removals:{},modified:{}},o=null,a=function(){o||(r.collectionStarting(),o=requestAnimationFrame((function(){o=null;var e=n,a=e.additions,i=e.removals,c=e.modified,l=Object.keys(a).map((function(e){return t.draggable.getById(e).getDimension(M)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),u=Object.keys(c).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),s={additions:l,removals:Object.keys(i),modified:u};n={additions:{},removals:{},modified:{}},r.publish(s)})))};return{add:function(e){var t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],a()},remove:function(e){var t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],a()},stop:function(){o&&(cancelAnimationFrame(o),o=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(t){y(r,"Should only be subscribed when a collection is occurring");var o=r.critical.draggable;"ADDITION"===t.type&&Sn(e,o,t.value)&&n.add(t.value),"REMOVAL"===t.type&&Sn(e,o,t.value)&&n.remove(t.value)};return{updateDroppableIsEnabled:function(n,o){y(e.droppable.exists(n),"Cannot update is enabled flag of Droppable ".concat(n," as it is not registered")),r&&t.updateDroppableIsEnabled({id:n,isEnabled:o})},updateDroppableIsCombineEnabled:function(n,o){r&&(y(e.droppable.exists(n),"Cannot update isCombineEnabled flag of Droppable ".concat(n," as it is not registered")),t.updateDroppableIsCombineEnabled({id:n,isCombineEnabled:o}))},scrollDroppable:function(t,n){r&&e.droppable.getById(t).callbacks.scroll(n)},updateDroppableScroll:function(n,o){r&&(y(e.droppable.exists(n),"Cannot update the scroll on Droppable ".concat(n," as it is not registered")),t.updateDroppableScroll({id:n,newScroll:o}))},startPublishing:function(t){y(!r,"Cannot start capturing critical dimensions as there is already a collection");var n=e.draggable.getById(t.draggableId),a=e.droppable.getById(n.descriptor.droppableId),i={draggable:n.descriptor,droppable:a.descriptor},c=e.subscribe(o);return r={critical:i,unsubscribe:c},On({critical:i,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(r){n.stop();var t=r.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),r.unsubscribe(),r=null}}}},xn=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},Cn=function(e){window.scrollBy(e.x,e.y)},Pn=Object(ye.a)((function(e){return Oe(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),In=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var o=n[r];return o.frame?o:null}var a=function(e,t){return ge(Pn(t),(function(t){return y(t.frame,"Invalid result"),Tt(t.frame.pageMarginBox)(e)}))}(t,n);return a},Tn={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},Nn=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,o=r-t;return 0===o?(i("\n      Detected distance range of 0 in the fluid auto scroller\n      This is unexpected and would cause a divide by 0 issue.\n      Not allowing an auto scroll\n    "),0):(n-t)/o},Ln=Tn.durationDampening.accelerateAt,Dn=Tn.durationDampening.stopDampeningAt,Rn=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,o=e.shouldUseTimeDampening,a=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Tn.maxPixelScroll;if(e===t.startScrollingFrom)return 1;var r=1-Nn({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=Tn.maxPixelScroll*Tn.ease(r);return Math.ceil(n)}(t,r);return 0===a?0:o?Math.max(function(e,t){var r=t,n=Dn,o=Date.now()-r;if(o>=Dn)return e;if(o<Ln)return 1;var a=Nn({startOfRange:Ln,endOfRange:n,current:o}),i=e*Tn.ease(a);return Math.ceil(i)}(a,n),1):a},Mn=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,o=e.axis,a=e.shouldUseTimeDampening,i=function(e,t){return{startScrollingFrom:e[t.size]*Tn.startFromPercentage,maxScrollValueAt:e[t.size]*Tn.maxScrollAtPercentage}}(t,o);return r[o.end]<r[o.start]?Rn({distanceToEdge:r[o.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a}):-1*Rn({distanceToEdge:r[o.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a})},Bn=V((function(e){return 0===e?0:e})),Fn=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,o=e.center,a=e.shouldUseTimeDampening,i={top:o.y-r.top,right:r.right-o.x,bottom:r.bottom-o.y,left:o.x-r.left},c=Mn({container:r,distanceToEdges:i,dragStartTime:t,axis:Ge,shouldUseTimeDampening:a}),l=Mn({container:r,distanceToEdges:i,dragStartTime:t,axis:ze,shouldUseTimeDampening:a}),u=Bn({x:l,y:c});if(G(u,M))return null;var s=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,o=r.height>t.height,a=r.width>t.width;return a||o?a&&o?null:{x:a?0:n.x,y:o?0:n.y}:n}({container:r,subject:n,proposedScroll:u});return s?G(s,M)?null:s:null},Gn=V((function(e){return 0===e?0:e>0?1:-1})),zn=(An=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,r=e.max,n=e.change,o=B(t,n),a={x:An(o.x,r.x),y:An(o.y,r.y)};return G(a,M)?null:a}),Un=function(e){var t=e.max,r=e.current,n=e.change,o={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},a=Gn(n),i=zn({max:o,current:r,change:a});return!i||(0!==a.x&&0===i.x||0!==a.y&&0===i.y)},qn=function(e,t){return Un({current:e.scroll.current,max:e.scroll.max,change:t})},Wn=function(e,t){var r=e.frame;return!!r&&Un({current:r.scroll.current,max:r.scroll.max,change:t})},Vn=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,o=e.scrollWindow,a=e.scrollDroppable,i=t.current.page.borderBoxCenter,c=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,r=e.subject,n=e.center,o=e.dragStartTime,a=e.shouldUseTimeDampening,i=Fn({dragStartTime:o,container:t.frame,subject:r,center:n,shouldUseTimeDampening:a});return i&&qn(t,i)?i:null}({dragStartTime:r,viewport:t.viewport,subject:c,center:i,shouldUseTimeDampening:n});if(l)return void o(l)}var u=In({center:i,destination:Ct(t.impact),droppables:t.dimensions.droppables});if(u){var s=function(e){var t=e.droppable,r=e.subject,n=e.center,o=e.dragStartTime,a=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var c=Fn({dragStartTime:o,container:i.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:a});return c&&Wn(t,c)?c:null}({dragStartTime:r,droppable:u,subject:c,center:i,shouldUseTimeDampening:n});s&&a(u.descriptor.id,s)}},Hn=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,o=function(e,t){if(!Wn(e,t))return t;var n=function(e,t){var r=e.frame;return r&&Wn(e,t)?zn({current:r.scroll.current,max:r.scroll.max,change:t}):null}(e,t);if(!n)return r(e.descriptor.id,t),null;var o=F(t,n);return r(e.descriptor.id,o),F(t,o)},a=function(e,t,r){if(!e)return r;if(!qn(t,r))return r;var o=function(e,t){if(!qn(e,t))return null;var r=e.scroll.max,n=e.scroll.current;return zn({current:n,max:r,change:t})}(t,r);if(!o)return n(r),null;var a=F(r,o);return n(a),F(r,a)};return function(e){var r=e.scrollJumpRequest;if(r){var n=Ct(e.impact);y(n,"Cannot perform a jump scroll when there is no destination");var i=o(e.dimensions.droppables[n],r);if(i){var c=e.viewport,l=a(e.isWindowScrollAllowed,c,i);l&&function(e,r){var n=B(e.current.client.selection,r);t({client:n})}(e,l)}}}},Yn=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,o=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=$r(t),o=$r(r),a=null,i=function(e){y(a,"Cannot fluid scroll if not dragging");var t=a,r=t.shouldUseTimeDampening,i=t.dragStartTime;Vn({state:e,scrollWindow:n,scrollDroppable:o,dragStartTime:i,shouldUseTimeDampening:r})};return{start:function(e){y(!a,"Cannot start auto scrolling when already started");var t=Date.now(),r=!1,n=function(){r=!0};Vn({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:n,scrollDroppable:n}),a={dragStartTime:t,shouldUseTimeDampening:r},r&&i(e)},stop:function(){a&&(n.cancel(),o.cancel(),a=null)},scroll:i}}({scrollWindow:r,scrollDroppable:t}),a=Hn({move:n,scrollWindow:r,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&a(e):o.scroll(e))},start:o.start,stop:o.stop}},Kn="data-rbd",Qn={base:kn="".concat(Kn,"-drag-handle"),draggableId:"".concat(kn,"-draggable-id"),contextId:"".concat(kn,"-context-id")},Zn=function(){var e="".concat(Kn,"-draggable");return{base:e,contextId:"".concat(e,"-context-id"),id:"".concat(e,"-id")}}(),Xn=function(){var e="".concat(Kn,"-droppable");return{base:e,contextId:"".concat(e,"-context-id"),id:"".concat(e,"-id")}}(),Jn=("".concat(Kn,"-placeholder-context-id"),{contextId:"".concat(Kn,"-scroll-container-context-id")}),$n=function(e,t){return e.map((function(e){var r=e.styles[t];return r?"".concat(e.selector," { ").concat(r," }"):""})).join(" ")},eo=function(e){var t,r,n,o=(t=e,function(e){return"[".concat(e,'="').concat(t,'"]')}),a=(r="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:o(Qn.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:r,dragging:"pointer-events: none;",dropAnimating:r}}),i=[(n="\n      transition: ".concat(Ur.outOfTheWay,";\n    "),{selector:o(Zn.contextId),styles:{dragging:n,dropAnimating:n,userCancel:n}}),a,{selector:o(Xn.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:$n(i,"always"),resting:$n(i,"resting"),dragging:$n(i,"dragging"),dropAnimating:$n(i,"dropAnimating"),userCancel:$n(i,"userCancel")}},to="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect,ro=function(){var e=document.querySelector("head");return y(e,"Cannot find the head to append a style to"),e},no=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};var oo=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function ao(e){return e instanceof oo(e).HTMLElement}function io(e,t){var r="[".concat(Qn.contextId,'="').concat(e,'"]'),n=we(document.querySelectorAll(r));if(!n.length)return i('Unable to find any drag handles in the context "'.concat(e,'"')),null;var o=ge(n,(function(e){return e.getAttribute(Qn.draggableId)===t}));return o?ao(o)?o:(i("drag handle needs to be a HTMLElement"),null):(i('Unable to find drag handle with id "'.concat(t,'" as no handle with a matching id was found')),null)}function co(){var e={draggables:{},droppables:{}},t=[];function r(e){t.length&&t.forEach((function(t){return t(e)}))}function n(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,r({type:"ADDITION",value:t})},update:function(t,r){var n=e.draggables[r.descriptor.id];n&&n.uniqueId===t.uniqueId&&(delete e.draggables[r.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var o=t.descriptor.id,a=n(o);a&&t.uniqueId===a.uniqueId&&(delete e.draggables[o],r({type:"REMOVAL",value:t}))},getById:function(e){var t=n(e);return y(t,"Cannot find draggable entry with id [".concat(e,"]")),t},findById:n,exists:function(e){return Boolean(n(e))},getAllByType:function(t){return ve(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var r=o(t.descriptor.id);r&&t.uniqueId===r.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return y(t,"Cannot find droppable entry with id [".concat(e,"]")),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return ve(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var lo=o.a.createContext(null),uo=function(){var e=document.body;return y(e,"Cannot find document.body"),e},so={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},fo=function(e){return"rbd-announcement-".concat(e)};var po=0,ho={separator:"::"};function mo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ho;return I((function(){return"".concat(e).concat(t.separator).concat(po++)}),[t.separator,e])}var yo=o.a.createContext(null);function vo(e){0}function bo(e,t){vo()}function go(e){var t=Object(n.useRef)(e);return Object(n.useEffect)((function(){t.current=e})),t}var wo,_o=27,Eo=32,Oo=37,So=38,Ao=39,ko=40;function jo(e){return jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(e)}function xo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==jo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==jo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===jo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Co=(xo(wo={},13,!0),xo(wo,9,!0),wo),Po=function(e){Co[e.keyCode]&&e.preventDefault()},Io=function(){var e="visibilitychange";return"undefined"==typeof document?e:ge([e,"ms".concat(e),"webkit".concat(e),"moz".concat(e),"o".concat(e)],(function(e){return"on".concat(e)in document}))||e}(),To=Io,No=0,Lo=5;var Do,Ro={type:"IDLE"};function Mo(e){var t=e.cancel,r=e.completed,n=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,r=e.clientX,a=e.clientY;if(t===No){var i={x:r,y:a},c=n();if("DRAGGING"===c.type)return e.preventDefault(),void c.actions.move(i);y("PENDING"===c.type,"Cannot be IDLE");var l=c.point;if(u=l,s=i,Math.abs(s.x-u.x)>=Lo||Math.abs(s.y-u.y)>=Lo){var u,s;e.preventDefault();var f=c.actions.fluidLift(i);o({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(e){var o=n();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===n().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==n().type)return e.keyCode===_o?(e.preventDefault(),void t()):void Po(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===n().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var r=n();y("IDLE"!==r.type,"Unexpected phase"),r.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:To,fn:t}]}function Bo(e){var t=Object(n.useRef)(Ro),r=Object(n.useRef)(c),o=I((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&t.button===No&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var n=e.findClosestDraggableId(t);if(n){var o=e.tryGetLock(n,l,{sourceEvent:t});if(o){t.preventDefault();var a={x:t.clientX,y:t.clientY};r.current(),f(o,a)}}}}}}),[e]),a=I((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var n=e.findOptionsForDraggable(r);n&&(n.shouldRespectForcePress||e.canGetLock(r)&&t.preventDefault())}}}}}),[e]),i=T((function(){r.current=d(window,[a,o],{passive:!1,capture:!0})}),[a,o]),l=T((function(){"IDLE"!==t.current.type&&(t.current=Ro,r.current(),i())}),[i]),u=T((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),s=T((function(){var e=Mo({cancel:u,completed:l,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});r.current=d(window,e,{capture:!0,passive:!1})}),[u,l]),f=T((function(e,r){y("IDLE"===t.current.type,"Expected to move from IDLE to PENDING drag"),t.current={type:"PENDING",point:r,actions:e},s()}),[s]);to((function(){return i(),function(){r.current()}}),[i])}function Fo(e){return Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(e)}function Go(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Fo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Fo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zo(){}var Uo=(Go(Do={},34,!0),Go(Do,33,!0),Go(Do,36,!0),Go(Do,35,!0),Do);function qo(e,t){function r(){t(),e.cancel()}return[{eventName:"keydown",fn:function(n){return n.keyCode===_o?(n.preventDefault(),void r()):n.keyCode===Eo?(n.preventDefault(),t(),void e.drop()):n.keyCode===ko?(n.preventDefault(),void e.moveDown()):n.keyCode===So?(n.preventDefault(),void e.moveUp()):n.keyCode===Ao?(n.preventDefault(),void e.moveRight()):n.keyCode===Oo?(n.preventDefault(),void e.moveLeft()):void(Uo[n.keyCode]?n.preventDefault():Po(n))}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:To,fn:r}]}var Wo={type:"IDLE"},Vo=300,Ho=.15;function Yo(e){var t=Object(n.useRef)(Wo),r=Object(n.useRef)(c),o=T((function(){return t.current}),[]),a=T((function(e){t.current=e}),[]),i=I((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var o=e.tryGetLock(n,u,{sourceEvent:t});if(o){var a=t.touches[0],i={x:a.clientX,y:a.clientY},c=e.findClosestDragHandle(t);y(c,"Touch sensor unable to find drag handle"),r.current(),h(o,i,c)}}}}}}),[e]),l=T((function(){r.current=d(window,[i],{capture:!0,passive:!1})}),[i]),u=T((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(Wo),r.current(),l())}),[l,a]),s=T((function(){var e=t.current;u(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[u]),f=T((function(e){var t={capture:!0,passive:!1},n={cancel:s,completed:u,getPhase:o},a=d(e,function(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var r=n();if("DRAGGING"===r.type){r.hasMoved=!0;var o=e.touches[0],a={x:o.clientX,y:o.clientY};e.preventDefault(),r.actions.move(a)}else t()}},{eventName:"touchend",fn:function(e){var o=n();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===n().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var r=n();y("IDLE"!==r.type);var o=e.touches[0];if(o&&o.force>=Ho){var a=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return a?r.hasMoved?void e.preventDefault():void t():void e.preventDefault();a&&t()}}},{eventName:To,fn:t}]}(n),t),i=d(window,function(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===r().type?(e.keyCode===_o&&e.preventDefault(),t()):t()}},{eventName:To,fn:t}]}(n),t);r.current=function(){a(),i()}}),[s,o,u]),p=T((function(){var e=o();y("PENDING"===e.type,"Cannot start dragging from phase ".concat(e.type));var t=e.actions.fluidLift(e.point);t.move({x:e.point.x,y:e.point.y+1e-4}),a({type:"DRAGGING",actions:t,hasMoved:!1})}),[o,a]),h=T((function(e,t,r){y("IDLE"===o().type,"Expected to move from IDLE to PENDING drag");var n=setTimeout(p,Vo);a({type:"PENDING",point:t,actions:e,longPressTimerId:n}),f(r)}),[f,o,a,p]);to((function(){return l(),function(){r.current();var e=o();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(Wo))}}),[o,l,a]),to((function(){return d(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}var Ko={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Qo(e,t){if(null==t)return!1;if(Boolean(Ko[t.tagName.toLowerCase()]))return!0;var r=t.getAttribute("contenteditable");return"true"===r||""===r||t!==e&&Qo(e,t.parentElement)}function Zo(e,t){var r=t.target;return!!ao(r)&&Qo(e,r)}var Xo=function(e){return Y(e.getBoundingClientRect()).center};var Jo=function(){var e="matches";return"undefined"==typeof document?e:ge([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function $o(e,t){return null==e?null:e[Jo](t)?e:$o(e.parentElement,t)}function ea(e,t){return e.closest?e.closest(t):$o(e,t)}function ta(e,t){var r,n=t.target;if(!((r=n)instanceof oo(r).Element))return i("event.target must be a Element"),null;var o=function(e){return"[".concat(Qn.contextId,'="').concat(e,'"]')}(e),a=ea(n,o);return a?ao(a)?a:(i("drag handle must be a HTMLElement"),null):null}function ra(e){return ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ra(e)}function na(e){return function(e){if(Array.isArray(e))return oa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return oa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oa(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(r),!0).forEach((function(t){ca(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ca(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ra(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ra(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ra(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function la(e){e.preventDefault()}function ua(e){var t=e.expected,r=e.phase,n=e.isLockActive,o=e.shouldWarn;return n()?t===r||(o&&i("\n        Cannot perform action.\n        The actions you used belong to an outdated phase\n\n        Current phase: ".concat(t,"\n        You called an action from outdated phase: ").concat(r,"\n\n        Tips:\n\n        - Do not use preDragActions actions after calling preDragActions.lift()\n      ")),!1):(o&&i("\n        Cannot perform action.\n        The sensor no longer has an action lock.\n\n        Tips:\n\n        - Throw away your action handlers when forceStop() is called\n        - Check actions.isActive() if you really need to\n      "),!1)}function sa(e){var t=e.lockAPI,r=e.store,n=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var a=n.draggable.findById(o);return a?!!a.options.isEnabled&&!!xn(r.getState(),o):(i("Unable to find draggable with id: ".concat(o)),!1)}function fa(e){var t=e.lockAPI,r=e.contextId,n=e.store,o=e.registry,a=e.draggableId,l=e.forceSensorStop,u=e.sourceEvent;if(!sa({lockAPI:t,store:n,registry:o,draggableId:a}))return null;var s=o.draggable.getById(a),f=function(e,t){var r="[".concat(Zn.contextId,'="').concat(e,'"]'),n=ge(we(document.querySelectorAll(r)),(function(e){return e.getAttribute(Zn.id)===t}));return n?ao(n)?n:(i("Draggable element is not a HTMLElement"),null):null}(r,s.descriptor.id);if(!f)return i("Unable to find draggable element with id: ".concat(a)),null;if(u&&!s.options.canDragInteractiveElements&&Zo(f,u))return null;var p=t.claim(l||c),h="PRE_DRAG";function m(){return s.options.shouldRespectForcePress}function v(){return t.isActive(p)}var b=function(e,t){ua({expected:e,phase:h,isLockActive:v,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function g(e){function r(){t.release(),h="COMPLETED"}function o(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldBlockNextClick:!1};if(e.cleanup(),o.shouldBlockNextClick){var a=d(window,[{eventName:"click",fn:la,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(a)}r(),n.dispatch(Nr({reason:t}))}return"PRE_DRAG"!==h&&(r(),y("PRE_DRAG"===h,"Cannot lift in phase ".concat(h))),n.dispatch(wr(e.liftActionArgs)),h="DRAGGING",ia({isActive:function(){return ua({expected:"DRAGGING",phase:h,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}return{isActive:function(){return ua({expected:"PRE_DRAG",phase:h,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:function(e){var t=$r((function(e){b((function(){return kr({client:e})}))}));return ia(ia({},g({liftActionArgs:{id:a,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}})),{},{move:t})},snapLift:function(){var e={moveUp:function(){return b(jr)},moveRight:function(){return b(Cr)},moveDown:function(){return b(xr)},moveLeft:function(){return b(Pr)}};return g({liftActionArgs:{id:a,clientSelection:Xo(f),movementMode:"SNAP"},cleanup:c,actions:e})},abort:function(){ua({expected:"PRE_DRAG",phase:h,isLockActive:v,shouldWarn:!0})&&t.release()}}}var da=[Bo,function(e){var t=Object(n.useRef)(zo),r=I((function(){return{eventName:"keydown",fn:function(r){if(!r.defaultPrevented&&r.keyCode===Eo){var n=e.findClosestDraggableId(r);if(n){var a=e.tryGetLock(n,l,{sourceEvent:r});if(a){r.preventDefault();var i=!0,c=a.snapLift();t.current(),t.current=d(window,qo(c,l),{capture:!0,passive:!1})}}}function l(){y(i,"Cannot stop capturing a keyboard drag when not capturing"),i=!1,t.current(),o()}}}}),[e]),o=T((function(){t.current=d(window,[r],{passive:!1,capture:!0})}),[r]);to((function(){return o(),function(){t.current()}}),[o])},Yo];function pa(e){var t=e.contextId,r=e.store,o=e.registry,a=e.customSensors,i=e.enableDefaultSensors,c=[].concat(na(i?da:[]),na(a||[])),l=Object(n.useState)((function(){return function(){var e=null;function t(){y(e,"Cannot release lock when there is no lock"),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){y(!e,"Cannot claim lock as it is already claimed");var r={abandon:t};return e=r,r},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],u=T((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);to((function(){var e=r.getState();return r.subscribe((function(){var t=r.getState();u(e,t),e=t}))}),[l,r,u]),to((function(){return l.tryAbandon}),[l.tryAbandon]);var s=T((function(e){return sa({lockAPI:l,registry:o,store:r,draggableId:e})}),[l,o,r]),f=T((function(e,n,a){return fa({lockAPI:l,registry:o,contextId:t,store:r,draggableId:e,forceSensorStop:n,sourceEvent:a&&a.sourceEvent?a.sourceEvent:null})}),[t,l,o,r]),d=T((function(e){return ta(t,e)}),[t]),p=T((function(e){return function(e,t){var r=ta(e,t);return r?r.getAttribute(Qn.draggableId):null}(t,e)}),[t]),h=T((function(e){var t=o.draggable.findById(e);return t?t.options:null}),[o.draggable]),m=T((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==r.getState().phase&&r.dispatch(Ir()))}),[l,r]),v=T(l.isClaimed,[l]),b=I((function(){return{canGetLock:s,tryGetLock:f,findClosestDraggableId:p,findClosestDragHandle:d,findOptionsForDraggable:h,tryReleaseLock:m,isLockClaimed:v}}),[s,f,p,d,h,m,v]);vo();for(var g=0;g<c.length;g++)c[g](b)}function ha(e){return ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ha(e)}function ma(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ya(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ha(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ha(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ha(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var va=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function ba(e){return y(e.current,"Could not find store from lazy ref"),e.current}function ga(e){var t=e.contextId,r=e.setCallbacks,a=e.sensors,c=e.nonce,l=e.dragHandleUsageInstructions,u=Object(n.useRef)(null);bo();var s=go(e),f=T((function(){return va(s.current)}),[s]),d=function(e){var t=I((function(){return fo(e)}),[e]),r=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=document.createElement("div");return r.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),Object.assign(e.style,so),uo().appendChild(e),function(){setTimeout((function(){var t=uo();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)}))}}),[t]),T((function(e){var t=r.current;t?t.textContent=e:i('\n      A screen reader message was trying to be announced but it was unable to do so.\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\n      Consider calling provided.announce() before the unmount so that the instruction will\n      not be lost for users relying on a screen reader.\n\n      Message not passed to screen reader:\n\n      "'.concat(e,'"\n    '))}),[])}(t),p=function(e){var t=e.contextId,r=e.text,o=mo("hidden-text",{separator:"-"}),a=I((function(){return function(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-".concat(t,"-").concat(r)}({contextId:t,uniqueId:o})}),[o,t]);return Object(n.useEffect)((function(){var e=document.createElement("div");return e.id=a,e.textContent=r,e.style.display="none",uo().appendChild(e),function(){var t=uo();t.contains(e)&&t.removeChild(e)}}),[a,r]),a}({contextId:t,text:l}),h=function(e,t){var r=I((function(){return eo(e)}),[e]),o=Object(n.useRef)(null),a=Object(n.useRef)(null),i=T(Object(ye.a)((function(e){var t=a.current;y(t,"Cannot set dynamic style element if it is not set"),t.textContent=e})),[]),c=T((function(e){var t=o.current;y(t,"Cannot set dynamic style element if it is not set"),t.textContent=e}),[]);to((function(){y(!o.current&&!a.current,"style elements already mounted");var n=no(t),l=no(t);return o.current=n,a.current=l,n.setAttribute("".concat(Kn,"-always"),e),l.setAttribute("".concat(Kn,"-dynamic"),e),ro().appendChild(n),ro().appendChild(l),c(r.always),i(r.resting),function(){var e=function(e){var t=e.current;y(t,"Cannot unmount ref as it is not set"),ro().removeChild(t),e.current=null};e(o),e(a)}}),[t,c,i,r.always,r.resting,e]);var l=T((function(){return i(r.dragging)}),[i,r.dragging]),u=T((function(e){i("DROP"!==e?r.userCancel:r.dropAnimating)}),[i,r.dropAnimating,r.userCancel]),s=T((function(){a.current&&i(r.resting)}),[i,r.resting]);return I((function(){return{dragging:l,dropping:u,resting:s}}),[l,u,s])}(t,c),m=T((function(e){ba(u).dispatch(e)}),[]),v=I((function(){return Object(x.b)({publishWhileDragging:_r,updateDroppableScroll:Or,updateDroppableIsEnabled:Sr,updateDroppableIsCombineEnabled:Ar,collectionStarting:Er},m)}),[m]),b=function(){var e=I(co,[]);return Object(n.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),g=I((function(){return jn(b,v)}),[b,v]),w=I((function(){return Yn(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(r),!0).forEach((function(t){ya(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ma(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({scrollWindow:Cn,scrollDroppable:g.scrollDroppable},Object(x.b)({move:kr},m)))}),[g.scrollDroppable,m]),_=function(e){var t=Object(n.useRef)({}),r=Object(n.useRef)(null),o=Object(n.useRef)(null),a=Object(n.useRef)(!1),i=T((function(e,r){var n={id:e,focus:r};return t.current[e]=n,function(){var r=t.current;r[e]!==n&&delete r[e]}}),[]),c=T((function(t){var r=io(e,t);r&&r!==document.activeElement&&r.focus()}),[e]),l=T((function(e,t){r.current===e&&(r.current=t)}),[]),u=T((function(){o.current||a.current&&(o.current=requestAnimationFrame((function(){o.current=null;var e=r.current;e&&c(e)})))}),[c]),s=T((function(e){r.current=null;var t=document.activeElement;t&&t.getAttribute(Qn.draggableId)===e&&(r.current=e)}),[]);return to((function(){return a.current=!0,function(){a.current=!1;var e=o.current;e&&cancelAnimationFrame(e)}}),[]),I((function(){return{register:i,tryRecordFocus:s,tryRestoreFocusRecorded:u,tryShiftRecord:l}}),[i,s,u,l])}(t),E=I((function(){return gn({announce:d,autoScroller:w,dimensionMarshal:g,focusMarshal:_,getResponders:f,styleMarshal:h})}),[d,w,g,_,f,h]);u.current=E;var O=T((function(){var e=ba(u);"IDLE"!==e.getState().phase&&e.dispatch(Ir())}),[]),S=T((function(){var e=ba(u).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);r(I((function(){return{isDragging:S,tryAbort:O}}),[S,O]));var A=T((function(e){return xn(ba(u).getState(),e)}),[]),k=T((function(){return It(ba(u).getState())}),[]),j=I((function(){return{marshal:g,focus:_,contextId:t,canLift:A,isMovementAllowed:k,dragHandleUsageInstructionsId:p,registry:b}}),[t,g,p,_,A,k,b]);return pa({contextId:t,store:E,registry:b,customSensors:a,enableDefaultSensors:!1!==e.enableDefaultSensors}),Object(n.useEffect)((function(){return O}),[O]),o.a.createElement(yo.Provider,{value:j},o.a.createElement(C.a,{context:lo,store:E},e.children))}var wa=0;function _a(e){var t=I((function(){return"".concat(wa++)}),[]),r=e.dragHandleUsageInstructions||j.dragHandleUsageInstructions;return o.a.createElement(E,null,(function(n){return o.a.createElement(ga,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Ea=r(62),Oa=r.n(Ea),Sa=function(e){return function(t){return e===t}},Aa=Sa("scroll"),ka=Sa("auto"),ja=(Sa("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),xa=function(e){var t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return ja(r,Aa)||ja(r,ka)},Ca=function e(t){return null==t||t===document.body||t===document.documentElement?null:xa(t)?t:e(t.parentElement)},Pa=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Ia=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Ta=function(e){return{closestScrollable:Ca(e),isFixedOnPage:Ia(e)}},Na=function(e){var t=e.ref,r=e.descriptor,n=e.env,o=e.windowScroll,a=e.direction,i=e.isDropDisabled,c=e.isCombineEnabled,l=e.shouldClipSubject,u=n.closestScrollable,s=function(e,t){var r=re(e);if(!t)return r;if(e!==t)return r;var n=r.paddingBox.top-t.scrollTop,o=r.paddingBox.left-t.scrollLeft,a=n+t.scrollHeight,i=o+t.scrollWidth,c=K({top:n,right:i,bottom:a,left:o},r.border);return X({borderBox:c,margin:r.margin,border:r.border,padding:r.padding})}(t,u),f=ee(s,o),d=function(){if(!u)return null;var e=re(u),t={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:e,page:ee(e,o),scroll:Pa(u),scrollSize:t,shouldClipSubject:l}}(),p=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,o=e.isFixedOnPage,a=e.direction,i=e.client,c=e.page,l=e.closest,u=function(){if(!l)return null;var e=l.scrollSize,t=l.client,r=wn({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:r,diff:{value:M,displacement:M}}}}(),s="vertical"===a?Ge:ze;return{descriptor:t,isCombineEnabled:n,isFixedOnPage:o,axis:s,isEnabled:r,client:i,page:c,frame:u,subject:se({page:c,withPlaceholder:null,axis:s,frame:u})}}({descriptor:r,isEnabled:!i,isCombineEnabled:c,isFixedOnPage:n.isFixedOnPage,direction:a,client:s,page:f,closest:d});return p},La={passive:!1},Da={passive:!0},Ra=function(e){return e.shouldPublishImmediately?La:Da};function Ma(e){var t=Object(n.useContext)(e);return y(t,"Could not find required context"),t}var Ba=function(e){return e&&e.env.closestScrollable||null};function Fa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ga(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ga(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function za(){}var Ua={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},qa=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,n=e.animate,o=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,n=e.animate;return t||"close"===n?Ua:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}}({isAnimatingOpenOnMount:t,placeholder:r,animate:n});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?Ur.placeholder:null}};function Wa(e){var t=Object(n.useRef)(null),r=T((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),a=e.animate,i=e.onTransitionEnd,c=e.onClose,l=e.contextId,u=Fa(Object(n.useState)("open"===e.animate),2),s=u[0],f=u[1];Object(n.useEffect)((function(){return s?"open"!==a?(r(),f(!1),za):t.current?za:(t.current=setTimeout((function(){t.current=null,f(!1)})),r):za}),[a,s,r]);var d=T((function(e){"height"===e.propertyName&&(i(),"close"===a&&c())}),[a,c,i]),p=qa({isAnimatingOpenOnMount:s,animate:e.animate,placeholder:e.placeholder});return o.a.createElement(e.placeholder.tagName,{style:p,"data-rbd-placeholder-context-id":l,onTransitionEnd:d,ref:e.innerRef})}var Va=o.a.memo(Wa),Ha=o.a.createContext(null);function Ya(e){return Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ya(e)}function Ka(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==Ya(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ya(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Ya(a)?a:String(a)),n)}var o,a}function Qa(e,t){return Qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qa(e,t)}function Za(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Xa(e);if(t){var o=Xa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Ya(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Xa(e){return Xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xa(e)}var Ja=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qa(e,t)}(a,e);var t,r,n,o=Za(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).state={isVisible:Boolean(e.props.on),data:e.props.on,animate:e.props.shouldAnimate&&e.props.on?"open":"none"},e.onClose=function(){"close"===e.state.animate&&e.setState({isVisible:!1})},e}return t=a,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}}],(r=[{key:"render",value:function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}])&&Ka(t.prototype,r),n&&Ka(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.a.PureComponent),$a={dragging:5e3,dropAnimating:4500},ei=function(e,t){return t?Ur.drop(t.duration):e?Ur.snap:Ur.fluid},ti=function(e,t){return e?t?Mr.drop:Mr.combining:null},ri=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode};function ni(e){return"DRAGGING"===e.type?(n=(r=e).dimension.client,o=r.offset,a=r.combineWith,i=r.dropping,c=Boolean(a),l=ri(r),u=Boolean(i),s=u?Wr.drop(o,c):Wr.moveTo(o),{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:ei(l,i),transform:s,opacity:ti(c,u),zIndex:u?$a.dropAnimating:$a.dragging,pointerEvents:"none"}):(t=e,{transform:Wr.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"});var t,r,n,o,a,i,c,l,u,s}function oi(e){var t=mo("draggable"),r=e.descriptor,o=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,c=e.shouldRespectForcePress,l=e.isEnabled,u=I((function(){return{canDragInteractiveElements:i,shouldRespectForcePress:c,isEnabled:l}}),[i,l,c]),s=T((function(e){var t=a();return y(t,"Cannot get dimension when no ref is set"),function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M,n=window.getComputedStyle(t),o=t.getBoundingClientRect(),a=te(o,n),i=ee(a,r);return{descriptor:e,placeholder:{client:a,tagName:t.tagName.toLowerCase(),display:n.display},displaceBy:{x:a.marginBox.width,y:a.marginBox.height},client:a,page:i}}(r,t,e)}),[r,a]),f=I((function(){return{uniqueId:t,descriptor:r,options:u,getDimension:s}}),[r,s,u,t]),d=Object(n.useRef)(f),p=Object(n.useRef)(!0);to((function(){return o.draggable.register(d.current),function(){return o.draggable.unregister(d.current)}}),[o.draggable]),to((function(){if(p.current)p.current=!1;else{var e=d.current;d.current=f,o.draggable.update(f,e)}}),[f,o.draggable])}function ai(e,t,r){bo()}function ii(e){e.preventDefault()}var ci=function(e,t){return e===t},li=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null};function ui(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var si={mapped:{type:"SECONDARY",offset:M,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ui(null)}};var fi={dropAnimationFinished:Lr},di=Object(C.d)((function(){var e,t,r,n=(e=Object(ye.a)((function(e,t){return{x:e,y:t}})),t=Object(ye.a)((function(e,t,r,n,o){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:r,combineWith:n,combineTargetFor:null}})),r=Object(ye.a)((function(e,r,n,o,a,i,c){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:a,combineWith:i,mode:r,offset:e,dimension:n,forceShouldAnimate:c,snapshot:t(r,o,a,i,null)}}})),function(n,o){if(n.isDragging){if(n.critical.draggable.id!==o.draggableId)return null;var a=n.current.client.offset,i=n.dimensions.draggables[o.draggableId],c=Ct(n.impact),l=(s=n.impact).at&&"COMBINE"===s.at.type?s.at.combine.draggableId:null,u=n.forceShouldAnimate;return r(e(a.x,a.y),n.movementMode,i,o.isClone,c,l,u)}var s;if("DROP_ANIMATING"===n.phase){var f=n.completed;if(f.result.draggableId!==o.draggableId)return null;var d=o.isClone,p=n.dimensions.draggables[o.draggableId],h=f.result,m=h.mode,y=li(h),v=function(e){return e.combine?e.combine.draggableId:null}(h),b={duration:n.dropDuration,curve:Rr,moveTo:n.newHomeClientOffset,opacity:v?Mr.drop:null,scale:v?Br.drop:null};return{mapped:{type:"DRAGGING",offset:n.newHomeClientOffset,dimension:p,dropping:b,draggingOver:y,combineWith:v,mode:m,forceShouldAnimate:null,snapshot:t(m,d,y,v,b)}}}return null}),o=function(){var e=Object(ye.a)((function(e,t){return{x:e,y:t}})),t=Object(ye.a)(ui),r=Object(ye.a)((function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{mapped:{type:"SECONDARY",offset:e,combineTargetFor:r,shouldAnimateDisplacement:arguments.length>2?arguments[2]:void 0,snapshot:t(r)}}})),n=function(e){return e?r(M,e,!0):null},o=function(t,o,a,i){var c=a.displaced.visible[t],l=Boolean(i.inVirtualList&&i.effected[t]),u=je(a),s=u&&u.draggableId===t?o:null;if(!c){if(!l)return n(s);if(a.displaced.invisible[t])return null;var f=z(i.displacedBy.point),d=e(f.x,f.y);return r(d,s,!0)}if(l)return n(s);var p=a.displacedBy.point,h=e(p.x,p.y);return r(h,s,c.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var r=e.completed;return r.result.draggableId===t.draggableId?null:o(t.draggableId,r.result.draggableId,r.impact,r.afterCritical)}return null}}();return function(e,t){return n(e,t)||o(e,t)||si}}),fi,null,{context:lo,pure:!0,areStatePropsEqual:ci})((function(e){var t=Object(n.useRef)(null),r=T((function(e){t.current=e}),[]),o=T((function(){return t.current}),[]),a=Ma(yo),i=a.contextId,c=a.dragHandleUsageInstructionsId,l=a.registry,u=Ma(Ha),s=u.type,f=u.droppableId,d=I((function(){return{id:e.draggableId,index:e.index,type:s,droppableId:f}}),[e.draggableId,e.index,s,f]),p=e.children,h=e.draggableId,m=e.isEnabled,y=e.shouldRespectForcePress,v=e.canDragInteractiveElements,b=e.isClone,g=e.mapped,w=e.dropAnimationFinished;ai(),vo(),b||oi(I((function(){return{descriptor:d,registry:l,getDraggableRef:o,canDragInteractiveElements:v,shouldRespectForcePress:y,isEnabled:m}}),[d,l,o,v,y,m]));var _=I((function(){return m?{tabIndex:0,role:"button","aria-describedby":c,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:ii}:null}),[i,c,h,m]),E=T((function(e){"DRAGGING"===g.type&&g.dropping&&"transform"===e.propertyName&&w()}),[w,g]),O=I((function(){var e=ni(g),t="DRAGGING"===g.type&&g.dropping?E:null;return{innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:_}}),[i,_,h,g,E,r]),S=I((function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}}),[d.droppableId,d.id,d.index,d.type]);return p(O,g.snapshot,S)})),pi=di;function hi(){return hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hi.apply(this,arguments)}function mi(e){return Ma(Ha).isUsingCloneFor!==e.draggableId||e.isClone?o.a.createElement(pi,e):null}function yi(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,r=Boolean(e.disableInteractiveElementBlocking),n=Boolean(e.shouldRespectForcePress);return o.a.createElement(mi,hi({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function vi(e){return vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vi(e)}function bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bi(Object(r),!0).forEach((function(t){wi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==vi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _i=function(e,t){return e===t.droppable.type},Ei=function(e,t){return t.draggables[e.draggable.id]},Oi={updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}};var Si={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return y(document.body,"document.body is not ready"),document.body}},Ai=Object(C.d)((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=gi(gi({},e),{},{shouldAnimatePlaceholder:!1}),r=Object(ye.a)((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),n=Object(ye.a)((function(n,o,a,i,c,l){var u=c.descriptor.id;if(c.descriptor.droppableId===n){var s=l?{render:l,dragging:r(c.descriptor)}:null,f={isDraggingOver:a,draggingOverWith:a?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:f,useClone:s}}if(!o)return t;if(!i)return e;var d={isDraggingOver:a,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:d,useClone:null}}));return function(r,o){var a=o.droppableId,i=o.type,c=!o.isDropDisabled,l=o.renderClone;if(r.isDragging){var u=r.critical;if(!_i(i,u))return t;var s=Ei(u,r.dimensions),f=Ct(r.impact)===a;return n(a,c,f,f,s,l)}if("DROP_ANIMATING"===r.phase){var d=r.completed;if(!_i(i,d.critical))return t;var p=Ei(d.critical,r.dimensions);return n(a,c,li(d.result)===a,Ct(d.impact)===a,p,l)}if("IDLE"===r.phase&&r.completed&&!r.shouldFlush){var h=r.completed;if(!_i(i,h.critical))return t;var m=Ct(h.impact)===a,y=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),v=h.critical.droppable.id===a;return m?y?e:t:v?e:t}return t}}),Oi,null,{context:lo,pure:!0,areStatePropsEqual:ci})((function(e){var t=Object(n.useContext)(yo);y(t,"Could not find app context");var r=t.contextId,a=t.isMovementAllowed,c=Object(n.useRef)(null),l=Object(n.useRef)(null),u=e.children,s=e.droppableId,f=e.type,d=e.mode,p=e.direction,h=e.ignoreContainerClipping,m=e.isDropDisabled,v=e.isCombineEnabled,b=e.snapshot,g=e.useClone,w=e.updateViewportMaxScroll,_=e.getContainerForClone,E=T((function(){return c.current}),[]),O=T((function(e){c.current=e}),[]),S=(T((function(){return l.current}),[]),T((function(e){l.current=e}),[]));bo();var A=T((function(){a()&&w({maxScroll:En()})}),[a,w]);!function(e){var t=Object(n.useRef)(null),r=Ma(yo),o=mo("droppable"),a=r.registry,c=r.marshal,l=go(e),u=I((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),s=Object(n.useRef)(u),f=I((function(){return Object(ye.a)((function(e,r){y(t.current,"Can only update scroll when dragging");var n={x:e,y:r};c.updateDroppableScroll(u.id,n)}))}),[u.id,c]),d=T((function(){var e=t.current;return e&&e.env.closestScrollable?Pa(e.env.closestScrollable):M}),[]),p=T((function(){var e=d();f(e.x,e.y)}),[d,f]),h=I((function(){return $r(p)}),[p]),m=T((function(){var e=t.current,r=Ba(e);y(e&&r,"Could not find scroll options while scrolling"),e.scrollOptions.shouldPublishImmediately?p():h()}),[h,p]),v=T((function(e,n){y(!t.current,"Cannot collect a droppable while a drag is occurring");var o=l.current,a=o.getDroppableRef();y(a,"Cannot collect without a droppable ref");var i=Ta(a),c={ref:a,descriptor:u,env:i,scrollOptions:n};t.current=c;var s=Na({ref:a,descriptor:u,env:i,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),f=i.closestScrollable;return f&&(f.setAttribute(Jn.contextId,r.contextId),f.addEventListener("scroll",m,Ra(c.scrollOptions))),s}),[r.contextId,u,m,l]),b=T((function(){var e=t.current,r=Ba(e);return y(e&&r,"Can only recollect Droppable client for Droppables that have a scroll container"),Pa(r)}),[]),g=T((function(){var e=t.current;y(e,"Cannot stop drag when no active drag");var r=Ba(e);t.current=null,r&&(h.cancel(),r.removeAttribute(Jn.contextId),r.removeEventListener("scroll",m,Ra(e.scrollOptions)))}),[m,h]),w=T((function(e){var r=t.current;y(r,"Cannot scroll when there is no drag");var n=Ba(r);y(n,"Cannot scroll a droppable with no closest scrollable"),n.scrollTop+=e.y,n.scrollLeft+=e.x}),[]),_=I((function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:b,dragStopped:g,scroll:w}}),[g,v,b,w]),E=I((function(){return{uniqueId:o,descriptor:u,callbacks:_}}),[_,u,o]);to((function(){return s.current=E.descriptor,a.droppable.register(E),function(){t.current&&(i("Unsupported: changing the droppableId or type of a Droppable during a drag"),g()),a.droppable.unregister(E)}}),[_,u,g,E,c,a.droppable]),to((function(){t.current&&c.updateDroppableIsEnabled(s.current.id,!e.isDropDisabled)}),[e.isDropDisabled,c]),to((function(){t.current&&c.updateDroppableIsCombineEnabled(s.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,c])}({droppableId:s,type:f,mode:d,direction:p,isDropDisabled:m,isCombineEnabled:v,ignoreContainerClipping:h,getDroppableRef:E});var k=o.a.createElement(Ja,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,n=e.data,a=e.animate;return o.a.createElement(Va,{placeholder:n,onClose:t,innerRef:S,animate:a,contextId:r,onTransitionEnd:A})})),j=I((function(){return{innerRef:O,placeholder:k,droppableProps:{"data-rbd-droppable-id":s,"data-rbd-droppable-context-id":r}}}),[r,s,k,O]),x=g?g.dragging.draggableId:null,C=I((function(){return{droppableId:s,type:f,isUsingCloneFor:x}}),[s,x,f]);return o.a.createElement(Ha.Provider,{value:C},u(j,b),function(){if(!g)return null;var e=g.dragging,t=g.render,r=o.a.createElement(mi,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(r,n){return t(r,n,e)}));return Oa.a.createPortal(r,_())}())}));Ai.defaultProps=Si;var ki=Ai},4036:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(3700),o=r(720),a=Object(o.a)({loader:function(){return Promise.all([r.e(4),r.e(5),r.e(6),r.e(0),r.e(1277)]).then(r.bind(null,4040)).then((function(e){return e.PresentationRender}))},loading:n.a}),i=Object(o.a)({loader:function(){return Promise.all([r.e(4),r.e(5),r.e(6),r.e(0),r.e(1277)]).then(r.bind(null,4040)).then((function(e){return e.PresentationOverlay}))},loading:n.a});t.b=i},4047:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return A}));var n=r(0);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var a,i=["children","defaultHeight","defaultWidth","disableHeight","disableWidth","nonce","onResize","style","tagName"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function d(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}a="undefined"!=typeof window?window:"undefined"!=typeof self?self:e;var b=null,g=null,w=a.clearTimeout,_=a.setTimeout,E=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame,O=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame;function S(e){var t,r,n,o,i,c,l,u="undefined"!=typeof document&&document.attachEvent;if(!u){c=function(e){var t=e.__resizeTriggers__,r=t.firstElementChild,n=t.lastElementChild,o=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,o.style.width=r.offsetWidth+1+"px",o.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},i=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},l=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;c(this),this.__resizeRAF__&&b(this.__resizeRAF__),this.__resizeRAF__=g((function(){i(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(r){r.call(t,e)})))}))}};var s=!1,f="";n="animationstart";var d="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h=document.createElement("fakeelement");if(void 0!==h.style.animationName&&(s=!0),!1===s)for(var m=0;m<d.length;m++)if(void 0!==h.style[d[m]+"AnimationName"]){f="-"+d[m].toLowerCase()+"-",n=p[m],s=!0;break}t="@"+f+"keyframes "+(r="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",o=f+"animation: 1ms "+r+"; "}return{addResizeListener:function(i,s){if(u)i.attachEvent("onresize",s);else{if(!i.__resizeTriggers__){var f=i.ownerDocument,d=a.getComputedStyle(i);d&&"static"===d.position&&(i.style.position="relative"),function(r){if(!r.getElementById("detectElementResize")){var n=(t||"")+".resize-triggers { "+(o||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',a=r.head||r.getElementsByTagName("head")[0],i=r.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(r.createTextNode(n)),a.appendChild(i)}}(f),i.__resizeLast__={},i.__resizeListeners__=[],(i.__resizeTriggers__=f.createElement("div")).className="resize-triggers";var p=f.createElement("div");p.className="expand-trigger",p.appendChild(f.createElement("div"));var h=f.createElement("div");h.className="contract-trigger",i.__resizeTriggers__.appendChild(p),i.__resizeTriggers__.appendChild(h),i.appendChild(i.__resizeTriggers__),c(i),i.addEventListener("scroll",l,!0),n&&(i.__resizeTriggers__.__animationListener__=function(e){e.animationName===r&&c(i)},i.__resizeTriggers__.addEventListener(n,i.__resizeTriggers__.__animationListener__))}i.__resizeListeners__.push(s)}},removeResizeListener:function(e,t){if(u)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",l,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(n,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}null==E||null==O?(b=w,g=function(e){return _(e,20)}):(b=function(e){var t=y(e,2),r=t[0],n=t[1];E(r),w(n)},g=function(e){var t=O((function(){w(r),e()})),r=_((function(){E(t),e()}),20);return[t,r]});var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(c,e);var t,r,o,a=h(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=a.call.apply(a,[this].concat(r))).state={height:e.props.defaultHeight||0,scaledHeight:e.props.defaultHeight||0,scaledWidth:e.props.defaultWidth||0,width:e.props.defaultWidth||0},e._autoSizer=null,e._detectElementResize=null,e._parentNode=null,e._resizeObserver=null,e._timeoutId=null,e._onResize=function(){e._timeoutId=null;var t=e.props,r=t.disableHeight,n=t.disableWidth,o=t.onResize;if(e._parentNode){var a,i,c,l,u=window.getComputedStyle(e._parentNode)||{},s=parseFloat(null!==(a=u.paddingLeft)&&void 0!==a?a:"0"),f=parseFloat(null!==(i=u.paddingRight)&&void 0!==i?i:"0"),d=parseFloat(null!==(c=u.paddingTop)&&void 0!==c?c:"0"),p=parseFloat(null!==(l=u.paddingBottom)&&void 0!==l?l:"0"),h=e._parentNode.getBoundingClientRect(),m=h.height-d-p,y=h.width-s-f,v=e._parentNode.offsetHeight-d-p,b=e._parentNode.offsetWidth-s-f;(r||e.state.height===v&&e.state.scaledHeight===m)&&(n||e.state.width===b&&e.state.scaledWidth===y)||(e.setState({height:v,width:b,scaledHeight:m,scaledWidth:y}),"function"==typeof o&&o({height:v,scaledHeight:m,scaledWidth:y,width:b}))}},e._setRef=function(t){e._autoSizer=t},e}return t=c,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,null!=this._parentNode&&("undefined"!=typeof ResizeObserver?(this._resizeObserver=new ResizeObserver((function(){e._timeoutId=setTimeout(e._onResize,0)})),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=S(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}},{key:"componentWillUnmount",value:function(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),null!==this._timeoutId&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}},{key:"render",value:function(){var e=this.props,t=e.children,r=(e.defaultHeight,e.defaultWidth,e.disableHeight),o=void 0!==r&&r,a=e.disableWidth,c=void 0!==a&&a,u=(e.nonce,e.onResize,e.style),f=void 0===u?{}:u,d=e.tagName,p=void 0===d?"div":d,h=s(e,i),m=this.state,y=m.height,v=m.scaledHeight,b=m.scaledWidth,g=m.width,w={overflow:"visible"},_={},E=!1;return o||(0===y&&(E=!0),w.height=0,_.height=y,_.scaledHeight=v),c||(0===g&&(E=!0),w.width=0,_.width=g,_.scaledWidth=b),Object(n.createElement)(p,l({ref:this._setRef,style:l(l({},w),f)},h),!E&&t(_))}}])&&f(t.prototype,r),o&&f(t,o),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component)}).call(this,r(93))},4058:function(e,t,r){"use strict";t.a={headerOverlayContainer:"ViewerHeader-module_headerOverlayContainer_30mty",offlineLargeSpaceButton:"ViewerHeader-module_offlineLargeSpaceButton_lkMLA",offlineButton:"ViewerHeader-module_offlineButton_4QlQl",offlineIcon:"ViewerHeader-module_offlineIcon_8oISy",logoWrapper:"ViewerHeader-module_logoWrapper_nnDzf",navigation:"ViewerHeader-module_navigation_opJY6",logoWrapperActive:"ViewerHeader-module_logoWrapperActive_Ptc2p",logo:"ViewerHeader-module_logo_-rHiY",wrapper:"ViewerHeader-module_wrapper_vhIJ4",mark:"ViewerHeader-module_mark_c28hV",collaborate:"ViewerHeader-module_collaborate_VW8td",iconWrapper:"ViewerHeader-module_iconWrapper_Wis4F",playButton:"ViewerHeader-module_playButton_3Qm5h",skylink:"ViewerHeader-module_skylink_toi1A",popoverMore:"ViewerHeader-module_popoverMore_JrUsz",editorBtn:"ViewerHeader-module_editorBtn_Sb8OT",versionSelector:"ViewerHeader-module_versionSelector_Gx9Eb",versionName:"ViewerHeader-module_versionName_4oYUk",logoOnboardingWrapper:"ViewerHeader-module_logoOnboardingWrapper_VyXtw",entryYuqueButton:"ViewerHeader-module_entryYuqueButton_EMwrx",search:"ViewerHeader-module_search_fw9Jl",collabEntry:"ViewerHeader-module_collabEntry_XfPGf",yuqueLogo:"ViewerHeader-module_yuqueLogo_xT26j",larkDotZoom:"ViewerHeader-module_larkDotZoom_NeG+z"}},4070:function(e,t,r){"use strict";r.d(t,"a",(function(){return Qe})),r.d(t,"d",(function(){return Et})),r.d(t,"c",(function(){return De})),r.d(t,"b",(function(){return Ue}));var n=r(0),o=r.n(n),a=r(62),i=r.n(a),c=r(4047),l=r(3381),u=r(4025),s=r(4174);function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=function(e,t){return e===t||e.length===t.length&&e.every((function(e,r){return e===t[r]}))},h=function(e,t){return p(m(e),m(t))},m=function(e){return e.slice(0,e.length-1)},y=function(e,t){return p(e,m(t))},v=function(e){return e[e.length-1]},b=function(e,t){return e.slice(0,t)},g=function(e,t){var r=f(e);return w(r,t)||(r[r.length-1]+=1),r},w=function(e,t){return h(e,t)&&v(e)>v(t)};function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.items[e.rootId]?e.items[e.rootId].children.reduce((function(r,n,o){var a=e.items[n],i=[].concat(A(t),[o]),c=function(e,t){return{item:e,path:t}}(a,i),l=C(e,a,i);return[].concat(A(r),[c],A(l))}),[]):[]};function C(e,t,r){return t.isExpanded?x({rootId:t.id,items:e.items},r):[]}var P=function(e,t,r){var n=e.items[t];return n?{rootId:e.rootId,items:O(O({},e.items),{},S({},t,O(O({},n),r)))}:e},I=function(e,t){var r,n=e.items[e.rootId],o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=k(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;n=e.items[n.children[a]]}}catch(e){o.e(e)}finally{o.f()}return n},T=function(e,t){var r=function(e,t){var r=m(t);return I(e,r)}(e,t),n=v(t);return{parentId:r.id,index:n}},N=function(e,t,r){var n=function(e,t){var r=e.items[t.parentId],n=A(r.children),o=n.splice(t.index,1)[0];return{tree:P(e,t.parentId,{children:n,hasChildren:n.length>0,isExpanded:n.length>0&&r.isExpanded}),itemRemoved:o}}(e,t);return function(e,t,r){var n=e.items[t.parentId],o=A(n.children);return void 0===t.index?(function(e){return!!e.hasChildren&&e.children.length>0}(n)||function(e){return!e.hasChildren}(n))&&o.push(r):o.splice(t.index,0,r),P(e,t.parentId,{children:o,hasChildren:!0})}(n.tree,r,n.itemRemoved)},L=function(){},D=function(e,t,r){return Math.min(t,Math.max(e,r))},R=function(e,t){return e[t].path},M=function(e,t,r,n){var o,a,i=r>t,c=R(e,t),l=r===t,u=i?e[r].path:e[r-1]&&e[r-1].path,s=i||l?e[r+1]&&e[r+1].path:e[r].path;if(l){var f=c.length-1,d=f+n+1<=0?1:f+n+1;if(!u)return c;var p=s?s.length:1,m=Math.max(c.length,u.length),v=D(p,m,d);if(v===c.length)return c;var w=b(u,v);return g(w,c)}if(s&&(o=s,!(a=u)||y(a,o)))return s;if(u&&s&&h(u,s))return i&&h(u,c)?u:s;if(u){var _=i?u.length+n:s.length+n,E=s?s.length:1,O=D(E,u.length,_),S=b(u,O);return g(S,c)}return c};function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==B(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===B(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var z=function(e,t,r){var n=r.source,o=r.destination,a=r.combine,i=r.placeholderIndicatorProps,c=R(t,n.index),l=T(e,c);if(a)return{sourcePosition:l,destinationPosition:{parentId:a.draggableId}};if(!o)return{sourcePosition:l,destinationPosition:void 0};var u=M(t,n.index,o.index,i?i.dragOffset:0),s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},T(e,u));return{sourcePosition:l,destinationPosition:s}};function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return(t=Y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y(n.key),n)}}function Y(e){var t=function(e,t){if("object"!==U(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===U(t)?t:String(t)}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Z(e);if(t){var o=Z(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(a,e);var t,r,n,o=Q(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))).patchDraggableProps=function(t,r){var n=t.style&&t.style.transition?[t.style.transition]:[];r.dropAnimation;var o=n.join(", ");return W(W({},t),{},{style:W(W(W({},t.style),e.props.style),{},{transition:o})})},e}return t=a,(r=[{key:"shouldComponentUpdate",value:function(e){return t=this.props,r=e,!(void 0===["item","provided","snapshot","onCollapse","onExpand","destination","placeholderIndicatorProps","placeholderDraggableId"].find((function(e){return t[e]!==r[e]}))&&p(this.props.path,e.path)&&null!==this.props.provided.dragHandleProps);var t,r}},{key:"render",value:function(){var e=this.props,t=e.item,r=e.path,n=e.onExpand,o=e.onCollapse,a=e.renderItem,i=e.provided,c=e.snapshot,l=e.placeholderDraggableId,u=e.placeholderIndicatorProps,s=e.offsetPerLevel,f={draggableProps:this.patchDraggableProps(i.draggableProps,c),dragHandleProps:i.dragHandleProps,innerRef:function(e){i.innerRef(e)}};return a({item:t,path:r,depth:r.length-1,onExpand:function(e){return n(e,r)},onCollapse:function(e){return o(e,r)},offsetPerLevel:s,provided:f,snapshot:c,placeholderDraggableId:l,placeholderIndicatorProps:u})}}])&&H(t.prototype,r),n&&H(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==J(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===J(a)?a:String(a)),n)}var o,a}var ee=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.delay=void 0,this.timeoutId=void 0,this.fn=void 0,this.delay=t}var t,r,n;return t=e,(r=[{key:"start",value:function(e){this.stop(),this.timeoutId=window.setTimeout(e,this.delay)}},{key:"stop",value:function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)}}])&&$(t.prototype,r),n&&$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}var re=["style","children"];function ne(){ne=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var a=new RegExp(e,n);return t.set(a,o||t.get(e)),ie(a,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce((function(t,r){var o=n[r];if("number"==typeof o)t[r]=e[o];else{for(var a=0;void 0===e[o[a]]&&a+1<o.length;)a++;t[r]=e[o[a]]}return t}),Object.create(null))}return ae(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);if(r){r.groups=n(r,this);var o=r.indices;o&&(o.groups=n(o,this))}return r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var a=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,(function(e,t){var r=a[t];return"$"+(Array.isArray(r)?r.join("$"):r)})))}if("function"==typeof o){var i=this;return e[Symbol.replace].call(this,r,(function(){var e=arguments;return"object"!=te(e[e.length-1])&&(e=[].slice.call(e)).push(n(e,i)),o.apply(this,e)}))}return e[Symbol.replace].call(this,r,o)},ne.apply(this,arguments)}function oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,de(n.key),n)}}function ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ie(e,t)}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=le(e);if(t){var o=le(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},le(e)}function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fe(e,t,r){return(t=de(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function de(e){var t=function(e,t){if("object"!==te(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===te(t)?t:String(t)}function pe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var he=o.a.createContext({collapseHeight:0}),me=Object(n.forwardRef)((function(e,t){var r=e.style,a=e.children,i=pe(e,re),c=Object(n.useContext)(he).collapseHeight;return o.a.createElement("div",se({ref:t,style:se(se({},r),{},{height:"".concat(parseFloat(r.height)+c,"px")})},i),a)})),ye=o.a.memo((function(e){var t=e.data,r=e.index,n=e.style,a=t.isDragEnabled,i=t.listData[r];if(!i)return null;var c=function(e){var r=e.item,a=e.path,i=e.provided,c=e.snapshot,l=t.renderItem,u=t.onExpand,s=t.onCollapse,f=t.offsetPerLevel,d=t.placeholderDraggableId,p=t.placeholderIndicatorProps;return o.a.createElement(X,{key:r.item.id,item:r.item,path:a,onExpand:u,onCollapse:s,renderItem:l,provided:i,snapshot:c,offsetPerLevel:f,style:n,placeholderDraggableId:d,placeholderIndicatorProps:p})};if(!1===a)return c({item:i,path:i.path,provided:{draggableProps:{"data-rbd-draggable-context-id":"","data-rbd-draggable-id":""},innerRef:function(){},dragHandleProps:null},snapshot:{isDragging:!1,isDropAnimating:!1}});var l,s="function"==typeof a?!a(i.item):!a;return o.a.createElement(u.b,{key:i.item.id,draggableId:i.item.id.toString(),index:r,isDragDisabled:s},(l=i,function(e,r){var n=i.path;return r.isDropAnimating&&t.onDropAnimating(),c({item:l,path:n,provided:e,snapshot:r})}))}),s.c);ye.displayName="Row",ye.type.displayName="RowMemo";var ve=Object(l.a)((function(e,t){return function(e,t,r){return t.reduce((function(t,n){var o=e.items[n];return o?(t.items[n]=O(O({},o),r),t):t}),{rootId:e.rootId,items:O({},e.items)})}(e,t,{isExpanded:!0})})),be=Object(l.a)((function(e,t){return t&&e.items[t].isExpanded?P(e,t,{isExpanded:!1}):e})),ge=Object(l.a)(x),we=function(e){ae(i,e);var t,r,n,a=ce(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=a.call.apply(a,[this].concat(r))).state={flattenedTree:[],draggedItemId:void 0,placeholderIndicatorProps:void 0,placeholderDraggableId:void 0,collapseHeight:0},e.dragState=void 0,e.virtualListRef=o.a.createRef(),e.expandTimer=new ee(500),e.onDragStart=function(t){var r=e.props.onDragStart;e.dragState={source:t.source,destination:t.source,mode:t.mode,cloneMove:{x:0,y:0}};var n=e.state.flattenedTree[e.dragState.destination.index-1];e.setState({draggedItemId:t.draggableId}),e.dragState=se(se({},e.dragState),{},{placeholderDraggableId:n?n.item.id:void 0}),r&&r(t.draggableId)},e.onDragUpdate=function(t){if(e.dragState&&(0!==e.dragState.cloneMove.x||0!==e.dragState.cloneMove.y)){var r=e.state.flattenedTree;if(t.destination){var n=r[t.destination.index>t.source.index?t.destination.index:t.destination.index-1];e.dragState=se(se({},e.dragState),{},{placeholderDraggableId:n?n.item.id:void 0})}if(e.expandTimer.stop(),t.combine){var o=function(e,t){return e.find((function(e){return e.item.id===t}))}(r,t.combine.draggableId);o&&e.isExpandable(o)}e.dragState=se(se({},e.dragState),{},{destination:t.destination,combine:t.combine})}},e.onDropAnimating=function(){e.expandTimer.stop()},e.onDragEnd=function(t){var r=e.props,n=r.onDragEnd,o=r.tree,a=e.state.flattenedTree;e.expandTimer.stop();var i=se(se({},e.dragState),{},{source:t.source,destination:t.destination,combine:t.combine});e.setState({draggedItemId:void 0,collapseHeight:0,placeholderIndicatorProps:void 0});var c=z(o,a,i);n(c.sourcePosition,c.destinationPosition),e.dragState=void 0},e.getDroppedLevelOffset=function(t){var r=e.props.offsetPerLevel,n=Math.abs(t);if(!e.dragState||0===t)return 0;var o=Math.floor((n+r/2)/r);return t>0?o:t<0?-o:void 0},e.isExpandable=function(e){return!!e.item.hasChildren&&!e.item.isExpanded},e.patchDroppableProvided=function(e){return se(se({},e),{},{innerRef:function(t){e.innerRef(t)}})},e.renderItem=function(t,r,n){var a=e.props.isDragEnabled;if(!1===a)return e.renderTreeItem({flatItem:t,path:t.path,provided:{draggableProps:{"data-rbd-draggable-context-id":"","data-rbd-draggable-id":""},innerRef:function(){},dragHandleProps:null},snapshot:{isDragging:!1,isDropAnimating:!1},style:n});var i="function"==typeof a?!a(t.item):!a;return o.a.createElement(u.b,{key:t.item.id,draggableId:t.item.id.toString(),index:r,isDragDisabled:i},e.renderDraggableItem(t,n))},e.renderDraggableItem=function(t,r){return function(n,o){var a=t.path;return o.isDropAnimating&&e.onDropAnimating(),e.renderTreeItem({flatItem:t,path:a,provided:n,snapshot:o,style:r})}},e.renderTreeItem=function(t){var r=t.flatItem,n=t.path,a=t.provided,i=t.snapshot,c=t.style,l=e.props,u=l.renderItem,s=l.onExpand,f=l.onCollapse,d=l.offsetPerLevel;return o.a.createElement(X,{key:r.item.id,item:r.item,path:n,onExpand:s,onCollapse:f,renderItem:u,provided:a,snapshot:i,offsetPerLevel:d,style:c})},e.sensor=null,e.scrollableElement=null,e.scrollToItem=function(t,r){var n=e.state.flattenedTree.findIndex((function(e){return e.item.id===t}));if("center"===r){var o=n<3?0:n-3;e.virtualListRef.current.scrollToItem(o,"start")}else e.virtualListRef.current.scrollToItem(n,r)},e.handleItemsRendered=function(t){e.props.onItemsRendered&&e.props.onItemsRendered(t,e.state.flattenedTree)},e}return t=i,n=[{key:"getDerivedStateFromProps",value:function(e,t){var r=t.draggedItemId,n=e.tree,o=ve(n,e.expandedKeys),a=be(o,r),i=ge(a),c=r&&i.length-t.flattenedTree.length<0?t.flattenedTree.length-i.length:0;return se(se({},t),{},{flattenedTree:i,collapseHeight:c*e.itemSize})}}],(r=[{key:"render",value:function(){var e=this,t=this.props,r=t.isDragEnabled,n=t.renderItem,a=t.onExpand,i=t.onCollapse,c=t.offsetPerLevel,l=t.isNestingEnabled,f=t.outerElementType,d=t.onScroll,p=t.virtualListStyle,h=t.virtualHeight,m=t.virtualWidth,y=t.itemSize,v=this.state,b=v.flattenedTree,g=v.placeholderIndicatorProps,w=v.placeholderDraggableId;return o.a.createElement(u.a,{onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onDragUpdate:this.onDragUpdate,enableDefaultSensors:!1,sensors:[u.d,u.e,function(t){e.sensor=t}]},o.a.createElement(u.c,{droppableId:"tree",isCombineEnabled:l,ignoreContainerClipping:!0,mode:"virtual",renderClone:function(t,r,n){if(r.isDragging&&!r.isDropAnimating){var o=t.draggableProps.style.transform?t.draggableProps.style.transform.match(ne(/\(((.+)px, (.+)px)\)/,{cloneMoveX:2,cloneMoveY:3})).groups:{cloneMoveX:0,cloneMoveY:0},a=o.cloneMoveX,i=o.cloneMoveY;a=Number(a);var c=e.state.flattenedTree.find((function(e){return e.item.id===n.draggableId})).path.length-1,l=e.getDroppedLevelOffset(a);i=Number(i),e.dragState&&(e.dragState=se(se({},e.dragState),{},{cloneMove:{x:a,y:i},placeholderIndicatorProps:{dragOffset:l,currentDepth:c}}))}return e.props.renderClone(t,r,n,b,e.dragState)}},(function(t){return o.a.createElement(he.Provider,{value:{collapseHeight:e.state.collapseHeight}},o.a.createElement(s.b,{ref:e.virtualListRef,className:"lark-virtual-tree",style:p,width:m,height:h,itemCount:b.length,itemSize:y,outerRef:function(r){t.innerRef(r),e.scrollableElement=r},itemData:{listData:b,onDropAnimating:e.onDropAnimating,isDragEnabled:r,renderItem:n,onExpand:a,onCollapse:i,offsetPerLevel:c,placeholderIndicatorProps:g,placeholderDraggableId:w},innerElementType:me,outerElementType:f,onScroll:d,onItemsRendered:e.handleItemsRendered},ye))})))}}])&&oe(t.prototype,r),n&&oe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.Component);we.defaultProps={tree:{children:[]},onExpand:L,onCollapse:L,onDragStart:L,onDragEnd:L,renderItem:L,offsetPerLevel:20,isDragEnabled:!1,isNestingEnabled:!1,expandedKeys:[]};var _e=we,Ee=r(4132),Oe="indicatorWrapper-module_IndicatorWrapper_RIDo1",Se="indicatorWrapper-module_PrefixOffsetIndent_2zOMI",Ae="indicatorWrapper-module_Indicator_+EmfH",ke="indicatorWrapper-module_IndicatorLine_wUn2a";function je(e){var t=new Array(e.prefixOffsetDepth<0?0:e.prefixOffsetDepth).fill(null).map((function(t,r){return{style:{left:(r+1)*-e.offsetPerLevel},id:r+1}}));return o.a.createElement("div",{className:Oe,style:e.style},t.map((function(e){return o.a.createElement("div",{className:Se,key:e.id,style:e.style})})),o.a.createElement("div",{className:Ae},o.a.createElement("div",{className:ke})))}var xe=r(317),Ce=r(267);function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Ie(e){return function(e){if(Array.isArray(e))return Ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){if(e){if("string"==typeof e)return Ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ne(e,t):void 0}}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Le(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Pe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function De(){}function Re(e,t,r){return e.forEach((function(e){var n,o=(null===(n=e.children)||void 0===n?void 0:n.map((function(e){return e.uuid})))||[];t[e.uuid]={id:e.uuid,parentId:r,children:o,hasChildren:!!o.length,isExpanded:!1,data:e},e.children&&Re(e.children,t,e.uuid)})),t}var Me="VIRTUAL_ROOT";function Be(e){var t=Object(xe.generateTreeByTocItems)(e),r={id:Me,children:t.map((function(e){return e.uuid})),hasChildren:!!t.length,isExpanded:!1,isChildrenLoading:!1,data:{},parentId:Me},n=Le({},Me,r);return Re(t,n,Me),{rootId:Me,items:n}}function Fe(e,t){var r=e.items[t];if(!r)return[];for(var n=[];r.parentId!==Me;)n.push(r.parentId),r=e.items[r.parentId];return n}function Ge(e,t){var r=[];if(t){!function t(n){if(n){var o=function(t){return e.find((function(e){return e.uuid===t.parent_uuid}))}(n);o&&(r.push(o.uuid),o.level>0&&t(o))}}(e.find((function(e){return e.uuid===t})))}return r}function ze(e,t,r){var n,o="all"===(n=t)?1/0:n?parseInt(n,10)+1:Ce.DEFAULT_DISPLAY_LEVEL;if(o===1/0)return e.map((function(e){return e.uuid}));var a,i,c=[],l=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Te(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(e);try{for(l.s();!(a=l.n()).done;){var u=a.value;u.level<o-1&&c.push(u.uuid)}}catch(e){l.e(e)}finally{l.f()}r&&r.length&&((i=c).push.apply(i,Ie(r)),c=r.reduce((function(t,r){var n=Ge(e,r);return t.push.apply(t,Ie(n)),t}),c));return Ie(new Set(c))}var Ue=function(e,t,r){var n;if(null!==(n=window.appData)&&void 0!==n&&n.sharePage){var o,a,i,c=(null===(o=window.appData)||void 0===o||null===(a=o.share)||void 0===a?void 0:a.token)||(null===(i=t.share)||void 0===i?void 0:i.token);return"/books/share/".concat(c,"/").concat(r)}return"/".concat(e.login,"/").concat(t.slug,"/").concat(r)};function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){He(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function He(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==qe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ke(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ke(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qe=Object(n.forwardRef)((function(e,t){var r=e.tree,a=e.expandedKeys,l=e.isDragEnabled,u=e.onDragStart,s=e.onDragEnd,f=e.renderItem,d=e.bottomNode,p=e.itemSize,h=e.getIndicatorWrapperLeft,m=e.offsetPerLevel,y=e.onItemsRendered,v=Object(n.useContext)(Ee.a),b=Object(n.useRef)(null),g=Object(n.useRef)(0),w=Ye(Object(n.useState)(null),2),_=w[0],E=w[1];function O(e){var t=e.virtualWidth,n=e.virtualHeight,c=e.virtualContainerStyle,d=e.isScrollingRef;return o.a.createElement(o.a.Fragment,null,o.a.createElement(_e,{ref:function(e){if(b.current=e,v){var t,r,n=v.virtualComponentRef,o=v.virtualContainerRef;n.current=null===(t=b.current)||void 0===t?void 0:t.virtualListRef.current,o.current=null===(r=b.current)||void 0===r?void 0:r.scrollableElement}},tree:r,virtualListStyle:c,virtualWidth:t,virtualHeight:n,isNestingEnabled:!0,isDragEnabled:l,expandedKeys:a,itemSize:p,offsetPerLevel:m,renderItem:function(e){var t=Ve(Ve({},e),{},{isClone:!1,isScrolling:(null==d?void 0:d.current)||void 0});return f(t)},renderClone:function(e,r,n,a,c){var l=a.find((function(e){return e.item.id===n.draggableId})),u=l.item,s=l.path.length-1,d=null;if(r.isDragging&&!r.isDropAnimating&&!r.combineWith&&r.draggingOver&&c&&c.destination){var p,y=c.placeholderDraggableId,v=c.destination,b=c.source,w=a[v.index],_=document.querySelector('[data-rbd-drag-handle-draggable-id="'.concat(y,'"]'));if(!w)return null;var E=w.path.length-1,O=a[v.index-1],S=O?O.path.length-1:0,A=a[v.index+1],k=A?A.path.length-1:0,j=M(a,b.index,v.index,(null==c||null===(p=c.placeholderIndicatorProps)||void 0===p?void 0:p.dragOffset)||0),x=M(a,b.index,v.index,-Math.max(E,k,S)).length-1,C=j.length-w.path.length,P=h?h(E+C):0,I=t-P;g.current=(j.length-l.path.length)*m;var T=E+C-x;d=o.a.createElement(je,{style:{left:P,width:I},prefixOffsetDepth:T,offsetPerLevel:m}),d=_?i.a.createPortal(d,_):null}var N=e.draggableProps.style;if(r.isDropAnimating&&r.dropAnimation){var L=r.dropAnimation.moveTo,D="translate(".concat(g.current||L.x,"px, ").concat(L.y,"px)");g.current=0,N=Ve(Ve({},N),{},{transform:"".concat(D)})}e.draggableProps.style=N;var R={provided:e,snapshot:r,isClone:!0,item:u,depth:s,path:[],offsetPerLevel:m,onCollapse:De,onExpand:De};return o.a.createElement(o.a.Fragment,null,f(R),d)},onDragEnd:s,onDragStart:u,onScroll:null==v?void 0:v.onScroll,onItemsRendered:y}),_)}return Object(n.useImperativeHandle)(t,(function(){return{scrollToItem:function(e,t){var r;null===(r=b.current)||void 0===r||r.scrollToItem(e,t)},getItemIdxInFlattenTree:function(e){var t;return null===(t=b.current)||void 0===t?void 0:t.state.flattenedTree.findIndex((function(t){return t.item.id===e}))}}}),[]),Object(n.useEffect)((function(){l&&setTimeout((function(){var e,t=null!==(e=b.current)&&void 0!==e&&e.scrollableElement?i.a.createPortal(d,b.current.scrollableElement):null;E(t)}))}),[]),v?O({virtualWidth:v.virtualWidth,virtualHeight:v.virtualHeight,virtualContainerStyle:v.virtualContainerStyle,isScrollingRef:v.isScrollingRef}):o.a.createElement(c.a,null,(function(e){var t=e.height;return O({virtualWidth:e.width,virtualHeight:t})}))})),Ze=r(1378),Xe=r.n(Ze),Je=r(247),$e=r.n(Je),et=r(816),tt=r.n(et),rt=r(724),nt=r(1490);function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function at(){at=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==r&&n.call(E,i)&&(w=E);var O=g.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ot(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=j(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(ot(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function it(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function ct(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){it(a,n,o,i,c,"next",e)}function c(e){it(a,n,o,i,c,"throw",e)}i(void 0)}))}}var lt=function(){var e=ct(at().mark((function e(t,r,n){return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nt.a.updateNode(t,{node_uuid:r,action:Ce.ACTIONS.moveAfter,target_uuid:n},{catalog_tree:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),ut=function(){var e=ct(at().mark((function e(t,r,n){return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nt.a.updateNode(t,{node_uuid:r,action:Ce.ACTIONS.prependChild,target_uuid:n},{catalog_tree:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}function ft(){ft=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==r&&n.call(E,i)&&(w=E);var O=g.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==st(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=j(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(st(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function dt(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function pt(e){return function(e){if(Array.isArray(e))return gt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(r),!0).forEach((function(t){yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==st(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==st(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===st(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||bt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){if(e){if("string"==typeof e)return gt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gt(e,t):void 0}}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wt(e){return"persisted_expanded_keys:".concat(e)}function _t(e,t){var r;try{var n=e.getItem(wt(t));n&&(r=JSON.parse(n))}catch(e){console.log(e)}return r}function Et(e){var t=e.book,r=e.currentDocSlug,o=e.enablePersistExpandedKeys,a=e.persistMode,i=void 0===a?"sessionStorage":a,c=e.onCurrentItemVisibleChange,l=void 0===c?tt.a:c,u="sessionStorage"===i?sessionStorage:localStorage,s=vt(Object(n.useState)(Be([])),2),f=s[0],d=s[1],p=Object(n.useRef)(null),h=Object(n.useRef)(),m=Object(n.useMemo)((function(){var e=t.toc.find((function(e){return e.url===r}));return null==e?void 0:e.uuid}),[t.toc,r]),y=vt(Object(n.useState)(o&&_t(u,t.id)?_t(u,t.id):ze(t.toc,t.catalog_display_level,m?[m]:[])),2),v=y[0],b=y[1],g=Object(rt.a)(m),w=Object(rt.a)(t.catalog_display_level),_=Object(n.useCallback)((function(e){return f.items[e]}),[f]),E=Object(n.useCallback)((function(e,t){var r=f.items[e];d(P(f,e,{data:mt(mt({},r.data),t)}))}),[f]),O=Object(n.useCallback)((function(e){var t=f.items[e],r=f.items[f.items[e].parentId],n=P(f,t.parentId,mt(mt({},r),{},{children:r.children.filter((function(t){return t!==e}))}));delete n[e],d(n)}),[f]),S=Object(n.useCallback)((function(e,t){if(!(e.parentId===t.parentId&&e.index===t.index)){t.index=void 0===t.index?0:t.index;var r=N(f,e,t);d(r),b(pt(new Set([].concat(pt(v),[t.parentId],pt(Fe(f,t.parentId))))))}}),[f,v]),A=Object(n.useCallback)((function(e){b(pt(new Set([].concat(pt(v),[e]))))}),[v]),k=Object(n.useCallback)((function(e){f.items[e].hasChildren&&b(pt(new Set([].concat(pt(v),[e]))))}),[f,v]),j=Object(n.useCallback)((function(e){f.items[e].hasChildren&&b(pt(new Set(v.filter((function(t){return t!==e})))))}),[f,v]),x=Object(n.useCallback)((function(e){v.includes(e)?j(e):k(e)}),[v,j,k]),C=Object(n.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center";b(pt(new Set([].concat(pt(v),pt(Fe(f,e))))));var r=setTimeout((function(){var n;null===(n=p.current)||void 0===n||n.scrollToItem(e,t),clearTimeout(r)}))}),[f,v]),I=Object(n.useCallback)((function(){var e=t.toc.find((function(e){return e.url===r}));e&&C(e.uuid,"center")}),[r,t.toc]),T=Object(n.useCallback)((function(){var e=t.toc.find((function(e){return e.url===r}));if(e){var n,o=null===(n=p.current)||void 0===n?void 0:n.getItemIdxInFlattenTree(e.uuid);return $e()(o)?0:o}return 0}),[r,t.toc]),L=Object(n.useCallback)(Xe()((function(){var e=T(),t=h.current||{},r=t.visibleStartIndex,n=t.visibleStopIndex,o=!1;!$e()(r)&&!$e()(n)&&e>=r&&e<=n&&(o=!0),l(o)}),100),[T]),D=Object(n.useCallback)((function(e){h.current=e,L()}),[L]);Object(n.useEffect)((function(){L()}),[v,L]);var R=Object(n.useCallback)((function(){if(t.toc.length>0){var e=t.toc[0];C(e.uuid,"start")}}),[t.toc]),M=Object(n.useCallback)((function(){b([])}),[]),B=Object(n.useCallback)((function(){var e=ze(t.toc,"all",m?[m]:[]);b(e)}),[t.toc,m]),F=Object(n.useCallback)(function(){var e,r=(e=ft().mark((function e(r,n){var o,a,i,c,l,u,s,f,d;return ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&(!n||n.parentId!==r.parentId||n.index!==r.index)){e.next=2;break}return e.abrupt("return");case 2:if(S(r,n),o=_(r.parentId).children[r.index],a=_(o),i=_(n.parentId),c=i.children.filter((function(e){return e!==a.data.uuid})),l=c[n.index-1],u=_(l),e.prev=9,s=[],!u){e.next=18;break}return e.next=14,lt(t,a.data.uuid,u.data.uuid);case 14:f=e.sent,s=f.toc,e.next=23;break;case 18:if(!i){e.next=23;break}return e.next=21,ut(t,a.data.uuid,i.data.uuid);case 21:d=e.sent,s=d.toc;case 23:return e.abrupt("return",s);case 26:throw e.prev=26,e.t0=e.catch(9),n.index=n.index||0,S(n,r),e.t0;case 31:case"end":return e.stop()}}),e,null,[[9,26]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){dt(a,n,o,i,c,"next",e)}function c(e){dt(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}(),[_,S]);return Object(n.useEffect)((function(){var e=Be(t.toc);d(e)}),[t.toc]),Object(n.useEffect)((function(){if(g&&m&&g!==m){var e=function(e,t,r){return r.reduce((function(t,r){var n=Ge(e,r);return t.push.apply(t,Ie(n)),t}),Ie(t))}(t.toc,v,m?[m]:[]),r=pt(new Set([].concat(pt(v),pt(e))));b(r)}}),[v,t.toc,g,m]),Object(n.useEffect)((function(){if(w&&w!==t.catalog_display_level){var e=ze(t.toc,t.catalog_display_level,[]);b(e)}}),[t.catalog_display_level,t.toc,m,v]),Object(n.useEffect)((function(){o&&u.setItem(wt(t.id),JSON.stringify(v))}),[u,v,o,t.id]),Object(n.useEffect)((function(){var e=function(){o&&u.removeItem(wt(t.id))};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[u,o,t.id]),{tree:f,currentDocSlug:r,treeRef:p,expandedKeys:v,handleToggleCollapse:x,getTreeItem:_,updateTreeItem:E,deleteTreeItem:O,moveTreeItem:S,scrollToItem:C,scrollToCurrentItem:I,scrollToTop:R,addExpandedKey:A,foldAll:M,unFoldAll:B,handleInternalDragEnd:F,onItemsRendered:D}}},4077:function(e,t,r){"use strict";r(782);var n=r(379),o=(r(42),r(9)),a=r(0),i=r.n(a),c=r(5),l=r.n(c),u=r(3854),s=r(494),f="index-module_container_cvFEw",d="index-module_imgDarkMask_oUhvV",p="index-module_descImg_yuOS4",h="index-module_title_xRvvb",m="index-module_firstLine_1EISJ",y="index-module_description_DuIJN",v="index-module_footer_W9yDd",b="index-module_detailBtn_GSAtM",g="index-module_shareBtn_vdQ5k";function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t,r=e.onShare,c=e.noButton,E=e.overlayClassName,O=e.type,S=e.onChangeShareStatus,A=e.restProps,k=e.getPopupContainer,j=_(Object(a.useState)(!1),2),x=j[0],C=j[1],P=Object(s.a)().isDarkMode,I=function(e,t){"function"==typeof S&&t&&S(e,t),C(e)};return t=c?i.a.createElement("span",{onClick:function(){return C(!0)},style:{display:"block"}},__("分享到花园")):i.a.createElement(u.a,w({iconName:"digitalgarden",tooltip:__("分享到花园")},A)),i.a.createElement(i.a.Fragment,null,i.a.createElement(n.a,{content:i.a.createElement("div",{className:f},P&&i.a.createElement("div",{className:d}),i.a.createElement("img",{className:p,src:"https://gw.alipayobjects.com/mdn/prod_resource/afts/img/A*ljInRZpwD6UAAAAAAAAAAAAAARQnAQ",alt:""}),i.a.createElement("p",{className:h},__("分享到花园")),i.a.createElement("p",{className:l()(y,m)},__("推送内容会出现在粉丝的「逛逛-关注」里")),i.a.createElement("p",{className:y},__("并同步到你的")," ",i.a.createElement("a",{href:"/".concat(window.appData.me.login),"data-desktoptarget":"_browser",target:"_blank"},__("我的花园"))," ",__("的「更新」模块")),i.a.createElement("div",{className:v},i.a.createElement(o.a,{className:b,onClick:function(){window.open(window.appData.isYuque?"https://www.yuque.com/yuque/mgcsc6/xtgy5c":"https://yuque.antfin.com/lark/xwhu77/lhqpnw")}},__("查看介绍")),i.a.createElement(o.a,{className:g,type:"primary",onClick:function(){I(!1,!0),r()}},__("确认")))),trigger:"click",noArrow:!0,visible:x,placement:"bottomRight",overlayClassName:l()(E),onVisibleChange:I,getPopupContainer:function(e){return k?k(e):"note"===O?e.closest(".note-list-item").querySelector(".note-item"):e.parentNode}},t))}},4132:function(e,t,r){"use strict";r.d(t,"b",(function(){return h})),r.d(t,"a",(function(){return u}));var n=r(0),o=r.n(n),a=r(1378),i=r.n(a),c=r(491),l=r.n(c),u=Object(n.createContext)(null);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e,t,r){return r?"x"===t?window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0:"x"===t?e.scrollLeft||0:e.scrollTop||0},p=function(e,t){return t?window:e.current};function h(e){var t=e.useFullScreenMode,r=void 0===t||t,a=e.useScrolling,c=void 0!==a&&a,f=e.gridLayout,h=void 0!==f&&f,m=e.style,y=e.virtualWidth,v=e.virtualHeight,b=e.virtualContainerStyle,g=e.children,w=Object(n.useRef)(),_=Object(n.useRef)(),E=Object(n.useRef)(),O=Object(n.useRef)(!1),S=s(Object(n.useReducer)((function(e){return e+1}),0),2)[1],A=Object(n.useCallback)((function(){var e=E.current,t=p(w,r),n=_.current;if(e&&t&&n){var o=e.getBoundingClientRect(),a=o.top,i=void 0===a?0:a,c=o.left,l=void 0===c?0:c,u=i>=0?0:-i,s=d(t,"x",r)-l;h?n.scrollTo({scrollLeft:s,scrollTop:u}):n.scrollTo(u)}}),[h,r]);Object(n.useEffect)((function(){var e=l()((function(){O.current=!1,S()}),150),t=i()((function(){c&&(O.current=!0,e()),A()}),10),n=p(w,r);return null==n||n.addEventListener("scroll",t),function(){null==n||n.removeEventListener("scroll",t),t.cancel(),e.cancel()}}),[S,h,r,c,A]);var k=function(e){if(e.scrollUpdateWasRequested){var t=E.current;if(t){var n=p(w,r);if(h){var o=e.scrollLeft,a=e.scrollTop;if(o>0||a>0){var i=d(n,"x",r),c=d(n,"y",r),l=t.getBoundingClientRect(),u=l.top,s=void 0===u?0:u,f=l.left,m={top:s,left:void 0===f?0:f},y=m.top>0?m.top+a:c,v=m.left>0?m.left+i:i;y===c&&v===i||n.scrollTo(v,y)}}else{var b=e.scrollOffset;if(b>0){var g=d(n,"y",r),_=t.getBoundingClientRect(),O=_.top,S=void 0===O?0:O,k=_.left,j={top:S,left:void 0===k?0:k},x=j.top>0?j.top+b:g;g!==x&&n.scrollTo(0,x)}}}}else A()};return o.a.createElement(u.Provider,{value:{virtualComponentRef:_,virtualContainerRef:E,onScroll:k,virtualWidth:y,virtualHeight:v,virtualContainerStyle:b,isScrollingRef:O}},r?g({virtualComponentRef:_,virtualContainerRef:E,onScroll:k,virtualWidth:y,virtualHeight:v,virtualContainerStyle:b,isScrollingRef:O}):o.a.createElement("div",{ref:w,style:m},g({virtualComponentRef:_,virtualContainerRef:E,onScroll:k,virtualWidth:y,virtualHeight:v,virtualContainerStyle:b,isScrollingRef:O})))}},4155:function(e,t,r){"use strict";r(71);var n=r(31),o=r(0),a=r.n(o),i=r(57),c=r(108),l=r(32),u=r(53),s=r(953),f="BookStatisticsLimit-module_wrapper_CrRJ2",d="BookStatisticsLimit-module_content_akwox",p="BookStatisticsLimit-module_title_ejahI",h="BookStatisticsLimit-module_desc_c-ita",m="BookStatisticsLimit-module_img_Thh7u";function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(){v=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:x(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",b={};function g(){}function w(){}function _(){}var E={};u(E,i,(function(){return this}));var O=Object.getPrototypeOf,S=O&&O(O(N([])));S&&S!==r&&n.call(S,i)&&(E=S);var A=_.prototype=g.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==y(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function x(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===b)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,b;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(y(t)+" is not iterable")}return w.prototype=_,o(A,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=u(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(j.prototype),u(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),u(A,l,"Generator"),u(A,i,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function b(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}t.a={hasAbility:function(){return Object(s.getInterest)().interests[u.INTEREST_CODE.book_statistics]},showMemberIntro:function(){var e,t,r,o,s,y,g=null===(e=window)||void 0===e?void 0:e.appData,w=g.organization,_=g.group,E=g.me,O=null==w?void 0:w.id,S=null==w||null===(t=w.abilities)||void 0===t?void 0:t.destroy,A={collab:{title:__("你正在协作的知识库无此权限"),btnText:__("知道了"),btnAction:function(){}},member:{title:__("购买会员可享知识库统计功能"),desc:__("购买会员可查看知识库的详细统计，如文档数、点赞数、知识库各文档的阅读点赞数等。"),btnText:__("购买会员"),btnAction:function(){var e;return null===(e=window.__member_message_ref)||void 0===e?void 0:e.current.showMemberIntro(l.LIMIT_SCENE.book_statistics)}},organization:{title:__("专业版、旗舰版空间专属功能"),desc:__("知识库统计可以查看知识库内容数据统计和阅读、点赞、评论等访问数据统计。"),btnText:S?i.a.getPaymentActionGuide(null==w?void 0:w.payment_type):__("我知道了"),btnAction:function(){return S&&window.open("/r/organizations/dashboard/cashier?action=buy&paySource=".concat(l.LIMIT_SCENE.book_statistics),"","noopener,noreferrer")}}},k=_&&E&&_.id!==E.id;O?(y=A.organization,Object(c.spmClick)(l.ORG_LIMIT_SPM.pay_limit,{pay_source:u.INTEREST_CODE.book_statistics,organization_id:(null==w?void 0:w.id)||0})):y=k?A.collab:A.member,n.a.info({width:480,closable:!0,maskClosable:!0,centered:!0,className:f,content:a.a.createElement("div",null,a.a.createElement("img",{className:m,src:"https://gw.alipayobjects.com/mdn/prod_resource/afts/img/A*Wl-qQ4teHLUAAAAAAAAAAAAAARQnAQ"}),a.a.createElement("div",{className:d},a.a.createElement("p",{className:p},null===(r=y)||void 0===r?void 0:r.title),a.a.createElement("p",{className:h},null===(o=y)||void 0===o?void 0:o.desc))),okText:null===(s=y)||void 0===s?void 0:s.btnText,onOk:function(){return(e=v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=y)||void 0===t||t.btnAction();case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){b(a,n,o,i,c,"next",e)}function c(e){b(a,n,o,i,c,"throw",e)}i(void 0)}))})();var e}})}}},4167:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(0),o=r(4554);function a(){var e=Object(n.useContext)(o.a);if(!e)throw new Error("Managers not found, please use ManagersProvider");return e}},4171:function(e,t,r){"use strict";var n={blog:{book_id:359,headline:{title:"数字花园的前世今生",description:"998年，是万维网诞生的第十个年头，各种奇奇怪怪的网站都如雨后春笋般出现。有个人在研究了一番互联网之后，指着那些网页和超链接说，这不就是花园吗？于是，他建立了一个网站：超文本花园，阐述互联网和花园的相似之处。24年后，我们仍然可以访问它。而这，就是花园第一次和互联网联系在一起，这也就是今天我们所要讲的「数字花园」。",cover:"https://gw.alipayobjects.com/mdn/rms_ee84bf/afts/img/A*4E27Q4kJl50AAAAAAAAAAAAAARQnAQ",url:"https://www.yuque.com/yuque/blog/blgsdc"}},help:{search:{keywords:[{name:"什么是上传流量",url:"https://www.yuque.com/go/doc/24014038"},{name:"能开发票吗",url:"https://www.yuque.com/go/doc/32764224"},{name:"bug反馈和需求提交",url:"https://www.yuque.com/feedbacks/new"},{name:"联系语雀",url:"https://www.yuque.com/go/doc/24013999"}]},categories:[{name:"常见疑问",url:"https://www.yuque.com/yuque/qa",docs:[{title:"语雀是什么",url:"https://www.yuque.com/yuque/ng1qth/about",description:"在这里可以了解的语雀的缘起、产品定位、使用场景、基本概念等内容"},{title:"收不到验证码",url:"https://www.yuque.com/yuque/qa/sms-issue#dK8Lf",description:"若收不到验证码，可以按照以下部分进行排查"},{title:"如何联系语雀",url:"https://www.yuque.com/yuque/qa/ca1gxp",description:"语雀会第一时间倾听你的需求和建议"},{title:"玩转语雀文档",url:"https://www.yuque.com/yuque/ng1qth/iaxgag",description:"介绍语雀文档的基本能力和使用方式"},{title:"语雀中的权限设计",url:"https://www.yuque.com/yuque/ng1qth/gxy3gk",description:"对于语雀知识库，团队能力的等权限介绍"},{title:"如何从其他工具迁入语雀",url:"https://www.yuque.com/yuque/eaghk3",description:"了解如何导入印象笔记、Word、Excel 等内容到语雀"},{title:"稻谷权益规则",url:"https://www.yuque.com/yuque/qa/gqcepg",description:"语雀稻谷的获取方式和兑换权益介绍"},{title:"如何计算上传流量",url:"https://www.yuque.com/yuque/qa/ixiyhr",description:"了解语雀流量的作用，以及流量超限如何获取"},{title:"如何使用兑换码",url:"https://www.yuque.com/yuque/qa/kpdrnf",description:"语雀兑换码的获取规则介绍，以及如何使用"},{title:"在线申请发票",url:"https://www.yuque.com/yuque/qa/kaw2la",description:"可在这里了解购买会员或者空间后如何获取发票"},{title:"常见空间人数问题",url:"https://www.yuque.com/yuque/qa/sxskaq",description:"对于语雀空间使用人数的上限介绍"},{title:"是否可以提供合同",url:"https://www.yuque.com/yuque/qa/kqw77t",description:"语雀可为企业空间用户提供盖章版通用电子协议"},{title:"新用户公开分享能力",url:"https://www.yuque.com/yuque/qa/zsw0w0",description:"注册满 7 日的用户，将自动获得各项公开分享能力"},{title:"语雀数据安全",url:"https://www.yuque.com/yuque/ng1qth/safety",description:"了解语雀在数据安全上做的那些事情"},{title:"常见支付问题",url:"https://www.yuque.com/yuque/qa/on3fgp",description:"了解空间、个人会员、空间等支付细节"}]},{name:"基础能力",docs:[{title:"工作台",url:"https://www.yuque.com/yuque/ng1qth/dashboard",description:"通过工作台可以进入你的知识库和团队等内容"},{title:"语雀中的权限设计",url:"https://www.yuque.com/yuque/ng1qth/gxy3gk",description:"对于语雀知识库，团队能力的等权限介绍"},{title:"如何注册语雀",url:"https://www.yuque.com/yuque/ng1qth/how-to-register",description:"可通过手机号、微信、钉钉等方式完成语雀注册"}]},{name:"知识库",url:"https://www.yuque.com/yuque/thyzgp",docs:[{title:"知识库是什么",url:"https://www.yuque.com/yuque/thyzgp/repository",description:"知识库帮助你像书一样整理知识"},{title:"如何新建知识库",url:"https://www.yuque.com/yuque/thyzgp/gbdfpb",description:"对于新手用户，快速建立你的语雀知识库"},{title:"文档知识库",url:"https://www.yuque.com/yuque/ng1qth/iaxgag",description:"介绍语雀文档的基本能力和使用方式"},{title:"如何编排目录",url:"https://www.yuque.com/yuque/thyzgp/vlki63",description:"灵活而强大的目录来管理你的文档"},{title:"如何添加知识库成员",url:"https://www.yuque.com/yuque/thyzgp/nbkoqg",description:"快速添加成员，一起完成在线编辑"},{title:"如何分享知识库",url:"https://www.yuque.com/yuque/thyzgp/collaborators",description:"可以将私密知识库分享给其他人"},{title:"如何转移知识库",url:"https://www.yuque.com/yuque/thyzgp/cd5825",description:"可将知识库转移至其他团队"},{title:"如何导入导出知识库",url:"https://www.yuque.com/yuque/thyzgp/import-lake-to-lark",description:"支持本地上传和在线导出"},{title:"如何删除知识库",url:"https://www.yuque.com/yuque/thyzgp/chubmd",description:"在这里可以了解如何删除知识库"},{title:"如何更改知识库成员权限",url:"https://www.yuque.com/yuque/thyzgp/acrrkx",description:"进入知识库设置可以对知识库进行删除"},{title:"知识库回收站",url:"https://www.yuque.com/yuque/thyzgp/recycle-bin",description:"通过回收站，防止误操作，保障数据安全"}]},{name:"编辑器",url:"https://www.yuque.com/yuque/gpvawt",docs:[{title:"在线文档编辑器",url:"https://www.yuque.com/yuque/gpvawt/gh4227",description:"关于文档编辑器的基础能力、特色能力的介绍"},{title:"语雀画板",url:"https://www.yuque.com/yuque/wknab3",description:"通过语雀画板，绘制并呈现你自己的想法"},{title:"语雀数据表",url:"https://www.yuque.com/yuque/cqb86p",description:"通过语雀数据表，可以像积木一样轻松搭建自己的“可视化能力的数据库”"},{title:"电子表格",url:"https://www.yuque.com/yuque/vecyyc",description:"语雀自研的在线Excel"},{title:"Markdown 语法",url:"https://www.yuque.com/yuque/gpvawt/lnobo9",description:"支持 Markdown 语法编写你的内容"},{title:"如何插入代码",url:"https://www.yuque.com/yuque/gpvawt/insert-codes",description:"可以在文档中加入并友好的呈现你的代码"},{title:"如何插入思维导图",url:"https://www.yuque.com/yuque/gpvawt/editor-mind-map",description:"支持多种样式思维导图"},{title:"如何插入流程图",url:"https://www.yuque.com/yuque/gpvawt/qmyfba",description:"支持多种样式流程图"},{title:"如何插入文本绘图",url:"https://www.yuque.com/yuque/gpvawt/qm77xq",description:"快速绘制出你需要的流程图、甘特图等"},{title:"如何嵌入本地文件",url:"https://www.yuque.com/yuque/gpvawt/uilmir",description:"支持PDF、Word、Keynote、XMind、Axure、Sketch、AI、ipynb 等"},{title:"如何嵌入语雀内容",url:"https://www.yuque.com/yuque/gpvawt/aint7x",description:"插入文档、表格、文件、文档片段等"},{title:"如何使用翻译功能",url:"https://www.yuque.com/yuque/gpvawt/cy8l2c",description:"提供编写翻译和全文智能翻译"},{title:"如何嵌入第三方服务",url:"https://www.yuque.com/yuque/gpvawt/fuu6h3",description:"支持嵌入墨刀、ProcessOn、Canva、Figma、CodePen 文件"},{title:"图片和附件大小限制",url:"https://www.yuque.com/yuque/gpvawt/rms0so",description:"图片和附件的格式与大小限制说明"}]},{name:"团队与空间",url:"https://www.yuque.com/yuque/rvzzxz",docs:[{title:"空间是什么",url:"https://www.yuque.com/yuque/rvzzxz/rfwopm",description:"空间是语雀面向未来组织推出的全新文档与知识协同工具"},{title:"空间安全功能",url:"https://www.yuque.com/yuque/rvzzxz/cf5gr8",description:"对数据进行双重加密，已通过 ISO 安全认证体系认证"},{title:"如何开通空间",url:"https://www.yuque.com/yuque/rvzzxz/ghaihu",description:"在这里了解团队是如何开通空间并使用"},{title:"快速上手",url:"https://www.yuque.com/yuque/rvzzxz/bozbd4",description:"玩转语雀空间，高效知识协同"},{title:"企业客户案例",url:"https://www.yuque.com/yuque/ykl39r",description:"如何使用语雀搭建企业空间？"},{title:"管理员攻略 ｜快速上手语雀空间",url:"https://www.yuque.com/yuque/rvzzxz/nrpo0b",description:"快速搭建企业空间结构"},{title:"员工攻略 ｜快速上手语雀空间",url:"https://www.yuque.com/yuque/rvzzxz/tyzomq",description:"开始体验在空间中工作"},{title:"团队是什么",url:"https://www.yuque.com/yuque/rvzzxz/mfxpek",description:"空间内可以建立多个团队，团队内可以创建多个知识库"},{title:"如何新建团队",url:"https://www.yuque.com/yuque/rvzzxz/vxk77i",description:"在空间中创建团队进行知识协同"},{title:"如何添加、管理团队成员",url:"https://www.yuque.com/yuque/rvzzxz/mgo5il",description:"设置团队成员访问权限"},{title:"空间权限设置",url:"https://www.yuque.com/yuque/rvzzxz/uwrhki",description:"设置空间成员访问权限"},{title:"企业认证",url:"https://www.yuque.com/yuque/rvzzxz/eb7ine",description:"企业认证提高数据安全系数"},{title:"如何购买语雀空间",url:"https://www.yuque.com/yuque/rvzzxz/wvcdiy",description:"购买付费空间，享受更多付费权益"},{title:"如何申请公办教育及公益组织免费版",url:"https://www.yuque.com/yuque/rvzzxz/gf443f",description:"教育机构及非营利性公益组织，可申请免费使用语雀空间"},{title:"绑定三方通讯录",url:"https://www.yuque.com/yuque/rvzzxz/oh9sx8",description:"空间支持绑定钉钉，企业微信，Teambition等方式"}]},{name:"小记",url:"https://www.yuque.com/yuque/ekrzd1",docs:[{title:"语雀小记使用指南",url:"https://www.yuque.com/yuque/ekrzd1/dqdt6f",description:"语雀小记快速入门"},{title:"碎片化信息记录工具",url:"https://www.yuque.com/yuque/ekrzd1/uy244v",description:"介绍语雀小记背后的产品思考"},{title:"用微信记小记",url:"https://www.yuque.com/yuque/ekrzd1/rzxyz3",description:"语雀小记和微信打通，支持语音，文字和图片"}]},{name:"客户端",docs:[{title:"客户端下载地址",url:"https://www.yuque.com/download",description:"语雀支持网页，桌面端，移动端三端同步"},{title:"移动端介绍",url:"https://www.yuque.com/yuque/mobile-app/goyw93",description:"介绍语雀移动端端基础功能"},{title:"移动端常见Q&A",url:"https://www.yuque.com/yuque/mobile-app/faq",description:"语雀App 常见问题解答"},{title:"移动端更新日志",url:"https://www.yuque.com/yuque/mobile-app",description:"语雀App 功能更新历史"},{title:"桌面端常见 Q&A",url:"https://www.yuque.com/yuque/yuque-desktop/desktop-faq",description:"语雀桌面端常见问题解答"},{title:"桌面端更新日志",url:"https://www.yuque.com/yuque/yuque-desktop",description:"语雀桌面端功能更新历史"}]},{name:"权益相关",docs:[{title:"语雀会员",url:"https://www.yuque.com/yuque/ng1qth/member-privilege",description:"语雀会员的权益和获取方式介绍"},{title:"稻谷权益规则",url:"https://www.yuque.com/yuque/qa/gqcepg",description:"语雀稻谷的获取方式和兑换权益介绍"},{title:"定价",url:"https://www.yuque.com/about/price",description:"付费和免费版本权益介绍"},{title:"如何计算上传流量",url:"https://www.yuque.com/yuque/qa/ixiyhr",description:"了解语雀是如何计算使用流量"},{title:"如何使用兑换码",url:"https://www.yuque.com/yuque/qa/kpdrnf",description:"通过兑换码兑换个人、空间等付费权益"},{title:"如何申请公办教育及公益组织免费版",url:"https://www.yuque.com/yuque/rvzzxz/gf443f",description:"在这里申请公益、教育等权益"},{title:"在线申请发票",url:"https://www.yuque.com/yuque/qa/kaw2la",description:"当你付费后，可以在线进行发票申请"},{title:"如何购买语雀空间",url:"https://www.yuque.com/yuque/rvzzxz/wvcdiy",description:"通过空间让团队进行专注的知识协同"}]},{name:"账户相关",docs:[{title:"账户设置",url:"https://www.yuque.com/yuque/ng1qth/tp0ugp",description:"设置个人信息，查看账户安全"},{title:"如何绑定第三方账户",url:"https://www.yuque.com/yuque/ng1qth/ic42uw",description:"语雀支持绑定 钉钉、支付宝、微信、Teambition"},{title:"如何解绑第三方账户",url:"https://www.yuque.com/yuque/ng1qth/gq84v3",description:"介绍语雀解绑第三方账户的流程"},{title:"注销账户",url:"https://www.yuque.com/yuque/ng1qth/nvobxs",description:"语雀账户注销步骤介绍"},{title:"更换手机号",url:"https://www.yuque.com/yuque/qa/nos8kp",description:"语雀手机号为用户唯一身份标识"},{title:"无法通过该手机号注册",url:"https://www.yuque.com/yuque/qa/sdyb9d",description:"手机号注册流程相关问题"},{title:"收不到验证码",url:"https://www.yuque.com/yuque/qa/sms-issue#dK8Lf",description:"验证码出现问题可以尝试的操作步骤介绍"}]},{name:"其它问题",docs:[{title:"语雀的天空",url:"https://www.yuque.com/yuque/blog",description:"在这里获取语雀最新动态"},{title:"新手视频手册",url:"https://www.yuque.com/yuque/xnx62x",description:"通过精剪视频的方式，演示一个语雀平台的使用场景"},{title:"语雀进阶玩法",url:"https://www.yuque.com/yuque/tygt6i",description:"解锁更多语雀的使用技巧"},{title:"开发者文档",url:"https://www.yuque.com/yuque/developer",description:"API, OAuth，Webhooks等功能介绍"},{title:"加入语雀",url:"https://www.yuque.com/yuque/careers",description:"我们是一群心怀「普惠知识产品梦」的追梦人"},{title:"Yuque Support",url:"https://www.yuque.com/yuque/support_en",description:"A quick guide of how Yuque works"}]}]},templates:{headlines:[{id:17024371,title:"阅读书单",description:"将你读过/准备读的所有书籍，整理为一个漂亮的「数字图书馆」。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*-__OQYd_mUgAAAAAAAAAAAAAARQnAQ"},{id:17024333,title:"工作周报",description:"以周为单位，回顾以及计划自己的工作、也让工作更有条理。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*eS00RY86l7kAAAAAAAAAAAAAARQnAQ"},{id:17024393,title:"思维导图",description:"思维形象化的工具，简单且高效地表达发散性思维，激发无限创意。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*3IojSIp4QIYAAAAAAAAAAAAAARQnAQ"}],categories:[{name:"团队协作",description:"工作场景，基于模板高效创作、一气呵成。",templates:[{id:17024332,title:"会议记录",description:"记录会议的组织情况以及具体内容，以供成员后续追溯。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*vaLHSbV9mVQAAAAAAAAAAAAAARQnAQ"},{id:17024333,title:"工作周报",description:"以周为单位，回顾以及计划自己的工作、也让工作更有条理。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*uacSTI2gqbMAAAAAAAAAAAAAARQnAQ"},{id:17024334,title:"项目立项",description:"产品生命周期中重要的开端。通过立项，明确阶段目标并聚焦资源。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*X517T4H6-n0AAAAAAAAAAAAAARQnAQ"},{id:17024335,title:"用研报告",description:"用户中心设计流程中的第一步，快速定位产品问题、寻找解决方案。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*e1ruSZnKG14AAAAAAAAAAAAAARQnAQ"},{id:17024340,title:"需求文档",description:"产品经理的必备技能，以清晰、完整、易读的方式呈现需求和解决方案。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*3cxlQIp1Gr0AAAAAAAAAAAAAARQnAQ"},{id:17024341,title:"需求管理",description:"将来自各方的需求汇总至需求池中，并作为项目管理的依据。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*79J3TbQ-588AAAAAAAAAAAAAARQnAQ"},{id:17024355,title:"系分文档",description:"全称「系统分析与设计文档」，降低coding不确定性并提升可维护性。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*p6YOQoS1zQsAAAAAAAAAAAAAARQnAQ"},{id:17024356,title:"接口文档",description:"定义程序 api 接口的请求方法和参数，以供其他工程师调用。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*YOrjTbpYWn0AAAAAAAAAAAAAARQnAQ"},{id:17024357,title:"缺陷管理",description:"以看板的形式，一览缺陷池中所有缺陷，并跟进修复进度。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*wb0kTpHbo0QAAAAAAAAAAAAAARQnAQ"},{id:17024359,title:"故障复盘",description:"还原软件故障的相关信息，总结故障原因以避免再次发生。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*wRSvTbhRR7QAAAAAAAAAAAAAARQnAQ"},{id:17024360,title:"项目复盘",description:"重温项目的目标和计划，同时放眼未来、总结可复用的经验建议。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*WJsySL4sE-4AAAAAAAAAAAAAARQnAQ"}]},{name:"个人管理",description:"计划、待办、笔记...用知识构建自己的花园。",templates:[{id:17024361,title:"个人规划",description:"用九宫格设置关键词和目标，做一份详细可实行的个人规划。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*uhXmTLWc9ngAAAAAAAAAAAAAARQnAQ"},{id:17024362,title:"待办清单",description:"以看板的形式，将待办事项分为 4 类：待处理/进行中/已完成/已取消。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*tncQRblm9IQAAAAAAAAAAAAAARQnAQ"},{id:17024363,title:"自律打卡",description:"为自己设置具体到日的打卡目标，并持续跟踪执行进展。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*W8wcQq3hdI8AAAAAAAAAAAAAARQnAQ"},{id:17024368,title:"收支管理",description:"记录日常收支并统计各类支出占比，做一个勤俭持家的打工人。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*naXRToPpuD0AAAAAAAAAAAAAARQnAQ"},{id:17024370,title:"生活备忘",description:"一个备忘录，存放生活中的琐事和杂物，也能作为密码保险箱。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*p6TfT4W8qK8AAAAAAAAAAAAAARQnAQ"},{id:17024371,title:"阅读书单",description:"将你读过/准备读的所有书籍，整理为一个漂亮的「数字图书馆」。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*mjgMQIohlGYAAAAAAAAAAAAAARQnAQ"},{id:17024381,title:"读书笔记",description:"快速记录和回顾自己读完的书籍、构建自己的知识体系。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*R50NR5nYMIMAAAAAAAAAAAAAARQnAQ"},{id:17024382,title:"旅行计划",description:"记录一次旅行需要的所有事项，包括行程计划、物品准备、预算支出...",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*D-x7Q5SAgOwAAAAAAAAAAAAAARQnAQ"},{id:17024383,title:"年度总结",description:"让我们站在以年为节点的时间线上，看看一年做了什么、未来还能做什么。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*Ji9JTpepC0cAAAAAAAAAAAAAARQnAQ"}]},{name:"基础模板",description:"语雀编辑器的强大能力，在此一览无余。",templates:[{id:17024384,title:"程序员最爱的功能",description:"Markdown、UML、代码块、全键盘输入…如此强大，程序员怎能不爱。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*H1zUTZAyxtUAAAAAAAAAAAAAARQnAQ"},{id:17024385,title:"令人惊艳的画板卡片",description:"思维导图、流程图、架构图、甘特图 ... 一个画板卡片，通通搞定。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*FZQORKrI-7oAAAAAAAAAAAAAARQnAQ"},{id:17024388,title:"表格视图（数据表）",description:"数据表的表格视图。丰富的内容类型、灵活定义多样数据。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*R-0nR7ndeDYAAAAAAAAAAAAAARQnAQ"},{id:17024391,title:"看板视图（数据表）",description:"数据表的看板视图。适合项目管理，以及任务协作场景。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*FdmWSJGoG_IAAAAAAAAAAAAAARQnAQ"},{id:17024392,title:"画册视图（数据表）",description:"数据表的画册视图。适合整理图片素材，呈现美观图集。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*kXVDSoVlUYoAAAAAAAAAAAAAARQnAQ"},{id:17024393,title:"思维导图",description:"思维形象化的工具，简单且高效地表达发散性思维，激发无限创意。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*fxCjQL8RCbYAAAAAAAAAAAAAARQnAQ"},{id:17024394,title:"流程图",description:"将系统复杂的流程逻辑简单表达。用好流程图，一图胜千言。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*pGNgSrYFnO4AAAAAAAAAAAAAARQnAQ"},{id:17024395,title:"架构图",description:"呈现系统的整体轮廓，描述系统中的实体与实体之间的联系。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*em-eRKoyZKUAAAAAAAAAAAAAARQnAQ"},{id:17024396,title:"时间轴",description:"串联时间轨迹上的不同事务，将关联的所有事务系统化、完整化。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*n_QdQI3TCvIAAAAAAAAAAAAAARQnAQ"},{id:17024397,title:"统计图表",description:"各类图表，应有尽有。柱状图、条形图、折线图、饼图...",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*aW6RQp0u83AAAAAAAAAAAAAAARQnAQ"},{id:17024399,title:"表格函数",description:"支持 200+ 种函数的语雀表格，轻松完成各类统计与数学运算。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*XBuTRKQzg-AAAAAAAAAAAAAAARQnAQ"}]},{name:"用户精选",description:"来自用户投稿的精选模板，漂亮且实用。",templates:[{id:17024400,title:"个人简历",description:"用语雀文档做一个漂亮又实用的简历，核心是简洁、突出重点。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*5KW2QZuvd8MAAAAAAAAAAAAAARQnAQ"},{id:17024401,title:"团建活动",description:"展示团建的具体时间和行程安排、并统计团队成员报名信息。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*0damSrESfDwAAAAAAAAAAAAAARQnAQ"},{id:17024409,title:"信息收集",description:"通过数据表的「表单」功能，以问卷的形式收集和汇总信息。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*fSSnQ4NDJWkAAAAAAAAAAAAAARQnAQ"},{id:17024410,title:"旅游攻略",description:"在画板的自由画布里，描述自己的旅游行程并制作一份漂亮的攻略。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*wwlGTKhIg8gAAAAAAAAAAAAAARQnAQ"},{id:17024411,title:"数据运营表",description:"用折线图，记录并分析产品不同在周期中的数据变化情况。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*G5t8T6G1KCAAAAAAAAAAAAAAARQnAQ"},{id:17024413,title:"项目进度表",description:"以甘特图的形式，详细地呈现项目的完整排期以及延期情况。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*zFPdR70ezw4AAAAAAAAAAAAAARQnAQ"},{id:17024415,title:"技术架构图 1",description:"使用架构图，呈现软件系统的整体轮廓以及各个组件之间的相互关系。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*AdZGTrrw28kAAAAAAAAAAAAAARQnAQ"},{id:17024416,title:"技术架构图 2",description:"使用架构图，呈现软件系统的整体轮廓以及各个组件之间的相互关系。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*o6P-SZvNOfYAAAAAAAAAAAAAARQnAQ"},{id:17024414,title:"用户体验地图",description:"可视化地描述用户使用产品或接受服务的体验情况，一图胜千言。",cover:"https://gw.alipayobjects.com/mdn/rms_0d6eb5/afts/img/A*ef78Ta57lwEAAAAAAAAAAAAAARQnAQ"}]}]}};var o=window.location.href.includes("debug=1")?n:window.appData.official_website_data||n,a={getPageData:function(e){return o[e]},getAppChangeLogUrl:function(){return"https://www.yuque.com/yuque/mobile-app"},getDesktopChangeLogUrl:function(){return"https://www.yuque.com/yuque/yuque-desktop"}};t.a=a},4174:function(e,t,r){"use strict";r.d(t,"a",(function(){return S})),r.d(t,"b",(function(){return A})),r.d(t,"c",(function(){return C}));var n=r(6),o=r(68),a=r(487),i=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function c(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(n=e[r],o=t[r],!(n===o||i(n)&&i(o)))return!1;var n,o;return!0}var l=function(e,t){var r;void 0===t&&(t=c);var n,o=[],a=!1;return function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return a&&r===this&&t(i,o)||(n=e.apply(this,i),a=!0,r=this,o=i),n}},u=r(0),s=r(351),f="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function d(e){cancelAnimationFrame(e.id)}function p(e,t){var r=f();var n={id:requestAnimationFrame((function o(){f()-r>=t?e.call(null):n.id=requestAnimationFrame(o)}))};return n}var h=-1;function m(e){if(void 0===e&&(e=!1),-1===h||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),h=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return h}var y=null;function v(e){if(void 0===e&&(e=!1),null===y||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),o=n.style;return o.width="100px",o.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?y="positive-descending":(t.scrollLeft=1,y=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),y}return y}var b=function(e){var t=e.columnIndex;e.data;return e.rowIndex+":"+t};function g(e){var t,r=e.getColumnOffset,i=e.getColumnStartIndexForOffset,c=e.getColumnStopIndexForStartIndex,s=e.getColumnWidth,f=e.getEstimatedTotalHeight,h=e.getEstimatedTotalWidth,y=e.getOffsetForColumnAndAlignment,g=e.getOffsetForRowAndAlignment,_=e.getRowHeight,E=e.getRowOffset,O=e.getRowStartIndexForOffset,S=e.getRowStopIndexForStartIndex,A=e.initInstanceProps,k=e.shouldResetStyleCacheOnItemSizeChange,j=e.validateProps;return(t=function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=A(n.props,Object(o.a)(n)),n._resetIsScrollingTimeoutId=null,n._outerRef=void 0,n.state={instance:Object(o.a)(n),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:"number"==typeof n.props.initialScrollLeft?n.props.initialScrollLeft:0,scrollTop:"number"==typeof n.props.initialScrollTop?n.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},n._callOnItemsRendered=void 0,n._callOnItemsRendered=l((function(e,t,r,o,a,i,c,l){return n.props.onItemsRendered({overscanColumnStartIndex:e,overscanColumnStopIndex:t,overscanRowStartIndex:r,overscanRowStopIndex:o,visibleColumnStartIndex:a,visibleColumnStopIndex:i,visibleRowStartIndex:c,visibleRowStopIndex:l})})),n._callOnScroll=void 0,n._callOnScroll=l((function(e,t,r,o,a){return n.props.onScroll({horizontalScrollDirection:r,scrollLeft:e,scrollTop:t,verticalScrollDirection:o,scrollUpdateWasRequested:a})})),n._getItemStyle=void 0,n._getItemStyle=function(e,t){var o,a=n.props,i=a.columnWidth,c=a.direction,l=a.rowHeight,u=n._getItemStyleCache(k&&i,k&&c,k&&l),f=e+":"+t;if(u.hasOwnProperty(f))o=u[f];else{var d=r(n.props,t,n._instanceProps),p="rtl"===c;u[f]=o={position:"absolute",left:p?void 0:d,right:p?d:void 0,top:E(n.props,e,n._instanceProps),height:_(n.props,e,n._instanceProps),width:s(n.props,t,n._instanceProps)}}return o},n._getItemStyleCache=void 0,n._getItemStyleCache=l((function(e,t,r){return{}})),n._onScroll=function(e){var t=e.currentTarget,r=t.clientHeight,o=t.clientWidth,a=t.scrollLeft,i=t.scrollTop,c=t.scrollHeight,l=t.scrollWidth;n.setState((function(e){if(e.scrollLeft===a&&e.scrollTop===i)return null;var t=n.props.direction,u=a;if("rtl"===t)switch(v()){case"negative":u=-a;break;case"positive-descending":u=l-o-a}u=Math.max(0,Math.min(u,l-o));var s=Math.max(0,Math.min(i,c-r));return{isScrolling:!0,horizontalScrollDirection:e.scrollLeft<a?"forward":"backward",scrollLeft:u,scrollTop:s,verticalScrollDirection:e.scrollTop<i?"forward":"backward",scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&d(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=p(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1)}))},n}Object(a.a)(t,e),t.getDerivedStateFromProps=function(e,t){return w(e,t),j(e),null};var x=t.prototype;return x.scrollTo=function(e){var t=e.scrollLeft,r=e.scrollTop;void 0!==t&&(t=Math.max(0,t)),void 0!==r&&(r=Math.max(0,r)),this.setState((function(e){return void 0===t&&(t=e.scrollLeft),void 0===r&&(r=e.scrollTop),e.scrollLeft===t&&e.scrollTop===r?null:{horizontalScrollDirection:e.scrollLeft<t?"forward":"backward",scrollLeft:t,scrollTop:r,scrollUpdateWasRequested:!0,verticalScrollDirection:e.scrollTop<r?"forward":"backward"}}),this._resetIsScrollingDebounced)},x.scrollToItem=function(e){var t=e.align,r=void 0===t?"auto":t,n=e.columnIndex,o=e.rowIndex,a=this.props,i=a.columnCount,c=a.height,l=a.rowCount,u=a.width,s=this.state,d=s.scrollLeft,p=s.scrollTop,v=m();void 0!==n&&(n=Math.max(0,Math.min(n,i-1))),void 0!==o&&(o=Math.max(0,Math.min(o,l-1)));var b=f(this.props,this._instanceProps),w=h(this.props,this._instanceProps)>u?v:0,_=b>c?v:0;this.scrollTo({scrollLeft:void 0!==n?y(this.props,n,r,d,this._instanceProps,_):d,scrollTop:void 0!==o?g(this.props,o,r,p,this._instanceProps,w):p})},x.componentDidMount=function(){var e=this.props,t=e.initialScrollLeft,r=e.initialScrollTop;if(null!=this._outerRef){var n=this._outerRef;"number"==typeof t&&(n.scrollLeft=t),"number"==typeof r&&(n.scrollTop=r)}this._callPropsCallbacks()},x.componentDidUpdate=function(){var e=this.props.direction,t=this.state,r=t.scrollLeft,n=t.scrollTop;if(t.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("rtl"===e)switch(v()){case"negative":o.scrollLeft=-r;break;case"positive-ascending":o.scrollLeft=r;break;default:var a=o.clientWidth,i=o.scrollWidth;o.scrollLeft=i-a-r}else o.scrollLeft=Math.max(0,r);o.scrollTop=Math.max(0,n)}this._callPropsCallbacks()},x.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&d(this._resetIsScrollingTimeoutId)},x.render=function(){var e=this.props,t=e.children,r=e.className,o=e.columnCount,a=e.direction,i=e.height,c=e.innerRef,l=e.innerElementType,s=e.innerTagName,d=e.itemData,p=e.itemKey,m=void 0===p?b:p,y=e.outerElementType,v=e.outerTagName,g=e.rowCount,w=e.style,_=e.useIsScrolling,E=e.width,O=this.state.isScrolling,S=this._getHorizontalRangeToRender(),A=S[0],k=S[1],j=this._getVerticalRangeToRender(),x=j[0],C=j[1],P=[];if(o>0&&g)for(var I=x;I<=C;I++)for(var T=A;T<=k;T++)P.push(Object(u.createElement)(t,{columnIndex:T,data:d,isScrolling:_?O:void 0,key:m({columnIndex:T,data:d,rowIndex:I}),rowIndex:I,style:this._getItemStyle(I,T)}));var N=f(this.props,this._instanceProps),L=h(this.props,this._instanceProps);return Object(u.createElement)(y||v||"div",{className:r,onScroll:this._onScroll,ref:this._outerRefSetter,style:Object(n.a)({position:"relative",height:i,width:E,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:a},w)},Object(u.createElement)(l||s||"div",{children:P,ref:c,style:{height:N,pointerEvents:O?"none":void 0,width:L}}))},x._callPropsCallbacks=function(){var e=this.props,t=e.columnCount,r=e.onItemsRendered,n=e.onScroll,o=e.rowCount;if("function"==typeof r&&t>0&&o>0){var a=this._getHorizontalRangeToRender(),i=a[0],c=a[1],l=a[2],u=a[3],s=this._getVerticalRangeToRender(),f=s[0],d=s[1],p=s[2],h=s[3];this._callOnItemsRendered(i,c,f,d,l,u,p,h)}if("function"==typeof n){var m=this.state,y=m.horizontalScrollDirection,v=m.scrollLeft,b=m.scrollTop,g=m.scrollUpdateWasRequested,w=m.verticalScrollDirection;this._callOnScroll(v,b,y,w,g)}},x._getHorizontalRangeToRender=function(){var e=this.props,t=e.columnCount,r=e.overscanColumnCount,n=e.overscanColumnsCount,o=e.overscanCount,a=e.rowCount,l=this.state,u=l.horizontalScrollDirection,s=l.isScrolling,f=l.scrollLeft,d=r||n||o||1;if(0===t||0===a)return[0,0,0,0];var p=i(this.props,f,this._instanceProps),h=c(this.props,p,f,this._instanceProps),m=s&&"backward"!==u?1:Math.max(1,d),y=s&&"forward"!==u?1:Math.max(1,d);return[Math.max(0,p-m),Math.max(0,Math.min(t-1,h+y)),p,h]},x._getVerticalRangeToRender=function(){var e=this.props,t=e.columnCount,r=e.overscanCount,n=e.overscanRowCount,o=e.overscanRowsCount,a=e.rowCount,i=this.state,c=i.isScrolling,l=i.verticalScrollDirection,u=i.scrollTop,s=n||o||r||1;if(0===t||0===a)return[0,0,0,0];var f=O(this.props,u,this._instanceProps),d=S(this.props,f,u,this._instanceProps),p=c&&"backward"!==l?1:Math.max(1,s),h=c&&"forward"!==l?1:Math.max(1,s);return[Math.max(0,f-p),Math.max(0,Math.min(a-1,d+h)),f,d]},t}(u.PureComponent)).defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},t}var w=function(e,t){e.children,e.direction,e.height,e.innerTagName,e.outerTagName,e.overscanColumnsCount,e.overscanCount,e.overscanRowsCount,e.width,t.instance},_=function(e,t){return e};function E(e){var t,r=e.getItemOffset,i=e.getEstimatedTotalSize,c=e.getItemSize,s=e.getOffsetForIndexAndAlignment,f=e.getStartIndexForOffset,h=e.getStopIndexForStartIndex,y=e.initInstanceProps,b=e.shouldResetStyleCacheOnItemSizeChange,g=e.validateProps;return t=function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=y(n.props,Object(o.a)(n)),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:Object(o.a)(n),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=l((function(e,t,r,o){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:o})})),n._callOnScroll=void 0,n._callOnScroll=l((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,o=n.props,a=o.direction,i=o.itemSize,l=o.layout,u=n._getItemStyleCache(b&&i,b&&l,b&&a);if(u.hasOwnProperty(e))t=u[e];else{var s=r(n.props,e,n._instanceProps),f=c(n.props,e,n._instanceProps),d="horizontal"===a||"horizontal"===l,p="rtl"===a,h=d?s:0;u[e]=t={position:"absolute",left:p?void 0:h,right:p?h:void 0,top:d?0:s,height:d?"100%":f,width:d?f:"100%"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=l((function(e,t,r){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,o=t.scrollLeft,a=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===o)return null;var t=n.props.direction,i=o;if("rtl"===t)switch(v()){case"negative":i=-o;break;case"positive-descending":i=a-r-o}return i=Math.max(0,Math.min(i,a-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<o?"forward":"backward",scrollOffset:i,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,o=t.scrollHeight,a=t.scrollTop;n.setState((function(e){if(e.scrollOffset===a)return null;var t=Math.max(0,Math.min(a,o-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&d(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=p(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}Object(a.a)(t,e),t.getDerivedStateFromProps=function(e,t){return O(e,t),g(e),null};var w=t.prototype;return w.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},w.scrollToItem=function(e,t){void 0===t&&(t="auto");var r=this.props,n=r.itemCount,o=r.layout,a=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1));var i=0;if(this._outerRef){var c=this._outerRef;i="vertical"===o?c.scrollWidth>c.clientWidth?m():0:c.scrollHeight>c.clientHeight?m():0}this.scrollTo(s(this.props,e,t,a,this._instanceProps,i))},w.componentDidMount=function(){var e=this.props,t=e.direction,r=e.initialScrollOffset,n=e.layout;if("number"==typeof r&&null!=this._outerRef){var o=this._outerRef;"horizontal"===t||"horizontal"===n?o.scrollLeft=r:o.scrollTop=r}this._callPropsCallbacks()},w.componentDidUpdate=function(){var e=this.props,t=e.direction,r=e.layout,n=this.state,o=n.scrollOffset;if(n.scrollUpdateWasRequested&&null!=this._outerRef){var a=this._outerRef;if("horizontal"===t||"horizontal"===r)if("rtl"===t)switch(v()){case"negative":a.scrollLeft=-o;break;case"positive-ascending":a.scrollLeft=o;break;default:var i=a.clientWidth,c=a.scrollWidth;a.scrollLeft=c-i-o}else a.scrollLeft=o;else a.scrollTop=o}this._callPropsCallbacks()},w.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&d(this._resetIsScrollingTimeoutId)},w.render=function(){var e=this.props,t=e.children,r=e.className,o=e.direction,a=e.height,c=e.innerRef,l=e.innerElementType,s=e.innerTagName,f=e.itemCount,d=e.itemData,p=e.itemKey,h=void 0===p?_:p,m=e.layout,y=e.outerElementType,v=e.outerTagName,b=e.style,g=e.useIsScrolling,w=e.width,E=this.state.isScrolling,O="horizontal"===o||"horizontal"===m,S=O?this._onScrollHorizontal:this._onScrollVertical,A=this._getRangeToRender(),k=A[0],j=A[1],x=[];if(f>0)for(var C=k;C<=j;C++)x.push(Object(u.createElement)(t,{data:d,key:h(C,d),index:C,isScrolling:g?E:void 0,style:this._getItemStyle(C)}));var P=i(this.props,this._instanceProps);return Object(u.createElement)(y||v||"div",{className:r,onScroll:S,ref:this._outerRefSetter,style:Object(n.a)({position:"relative",height:a,width:w,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:o},b)},Object(u.createElement)(l||s||"div",{children:x,ref:c,style:{height:O?"100%":P,pointerEvents:E?"none":void 0,width:O?P:"100%"}}))},w._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],r=e[1],n=e[2],o=e[3];this._callOnItemsRendered(t,r,n,o)}if("function"==typeof this.props.onScroll){var a=this.state,i=a.scrollDirection,c=a.scrollOffset,l=a.scrollUpdateWasRequested;this._callOnScroll(i,c,l)}},w._getRangeToRender=function(){var e=this.props,t=e.itemCount,r=e.overscanCount,n=this.state,o=n.isScrolling,a=n.scrollDirection,i=n.scrollOffset;if(0===t)return[0,0,0,0];var c=f(this.props,i,this._instanceProps),l=h(this.props,c,i,this._instanceProps),u=o&&"backward"!==a?1:Math.max(1,r),s=o&&"forward"!==a?1:Math.max(1,r);return[Math.max(0,c-u),Math.max(0,Math.min(t-1,l+s)),c,l]},t}(u.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var O=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},S=g({getColumnOffset:function(e,t){return t*e.columnWidth},getColumnWidth:function(e,t){return e.columnWidth},getRowOffset:function(e,t){return t*e.rowHeight},getRowHeight:function(e,t){return e.rowHeight},getEstimatedTotalHeight:function(e){var t=e.rowCount;return e.rowHeight*t},getEstimatedTotalWidth:function(e){var t=e.columnCount;return e.columnWidth*t},getOffsetForColumnAndAlignment:function(e,t,r,n,o,a){var i=e.columnCount,c=e.columnWidth,l=e.width,u=Math.max(0,i*c-l),s=Math.min(u,t*c),f=Math.max(0,t*c-l+a+c);switch("smart"===r&&(r=n>=f-l&&n<=s+l?"auto":"center"),r){case"start":return s;case"end":return f;case"center":var d=Math.round(f+(s-f)/2);return d<Math.ceil(l/2)?0:d>u+Math.floor(l/2)?u:d;default:return n>=f&&n<=s?n:f>s||n<f?f:s}},getOffsetForRowAndAlignment:function(e,t,r,n,o,a){var i=e.rowHeight,c=e.height,l=e.rowCount,u=Math.max(0,l*i-c),s=Math.min(u,t*i),f=Math.max(0,t*i-c+a+i);switch("smart"===r&&(r=n>=f-c&&n<=s+c?"auto":"center"),r){case"start":return s;case"end":return f;case"center":var d=Math.round(f+(s-f)/2);return d<Math.ceil(c/2)?0:d>u+Math.floor(c/2)?u:d;default:return n>=f&&n<=s?n:f>s||n<f?f:s}},getColumnStartIndexForOffset:function(e,t){var r=e.columnWidth,n=e.columnCount;return Math.max(0,Math.min(n-1,Math.floor(t/r)))},getColumnStopIndexForStartIndex:function(e,t,r){var n=e.columnWidth,o=e.columnCount,a=e.width,i=t*n,c=Math.ceil((a+r-i)/n);return Math.max(0,Math.min(o-1,t+c-1))},getRowStartIndexForOffset:function(e,t){var r=e.rowHeight,n=e.rowCount;return Math.max(0,Math.min(n-1,Math.floor(t/r)))},getRowStopIndexForStartIndex:function(e,t,r){var n=e.rowHeight,o=e.rowCount,a=e.height,i=t*n,c=Math.ceil((a+r-i)/n);return Math.max(0,Math.min(o-1,t+c-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.columnWidth,e.rowHeight}}),A=E({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,r,n,o,a){var i=e.direction,c=e.height,l=e.itemCount,u=e.itemSize,s=e.layout,f=e.width,d="horizontal"===i||"horizontal"===s?f:c,p=Math.max(0,l*u-d),h=Math.min(p,t*u),m=Math.max(0,t*u-d+u+a);switch("smart"===r&&(r=n>=m-d&&n<=h+d?"auto":"center"),r){case"start":return h;case"end":return m;case"center":var y=Math.round(m+(h-m)/2);return y<Math.ceil(d/2)?0:y>p+Math.floor(d/2)?p:y;default:return n>=m&&n<=h?n:n<m?m:h}},getStartIndexForOffset:function(e,t){var r=e.itemCount,n=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(t/n)))},getStopIndexForStartIndex:function(e,t,r){var n=e.direction,o=e.height,a=e.itemCount,i=e.itemSize,c=e.layout,l=e.width,u=t*i,s="horizontal"===n||"horizontal"===c?l:o,f=Math.ceil((s+r-u)/i);return Math.max(0,Math.min(a-1,t+f-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function k(e,t){for(var r in e)if(!(r in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}var j=["style"],x=["style"];function C(e,t){var r=e.style,n=Object(s.a)(e,j),o=t.style,a=Object(s.a)(t,x);return!k(r,o)&&!k(n,a)}},4181:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(78),o=r(1446);function a(e){var t=window.appData,r=t.sharePage,a=t.enableUserFeed,i=t.organization;if(r||null!=i&&i.id)return!1;var c=e.group,l=e.doc,u=e.book,s=e.version,f=e.me;if(s)return!1;if(!l||!u||!c)return!1;var d=Object(o.c)({type:"doc",target:l,group:c,book:u}),p=(f||window.appData.me||{}).id;return[n.PUBLIC.public,n.PUBLIC.intranet_all,n.PUBLIC.intranet].includes(d)&&u.user_id===p&&a}},419:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}));var n=function(e){return e.NOTE="NOTE",e.BOOK="BOOK",e.DOC="DOC",e.GROUP="GROUP",e}({}),o=function(e){return e.PERSON="PERSON",e.ORG="ORG",e.PUBLIC_PAGE="PUBLIC_PAGE",e.INTERNAL="INTERNAL",e}({})},4196:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return c}));var n=r(0),o=r.n(n);var a=Object(n.createContext)({showHistory:function(){}});function i(e){return o.a.createElement(a.Provider,{value:e},e.children)}function c(){return Object(n.useContext)(a)}},4197:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(72),o=r.n(n),a=r(4553);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function s(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"model",{visible:!1,currentPanel:null,containerStyle:{}}),s(this,"_renderInstanceCachedMap",new Map),s(this,"_shouldCachedSet",new Set),s(this,"_contentMap",new Map),s(this,"_renderer",a.b),s(this,"_subscribers",new Set),s(this,"_deferedPanel",{}),s(this,"emitter",void 0),e.inited=!0,this.emitter=new o.a}var t,r,n;return t=e,(r=[{key:"render",value:function(e){var t=this;this.model=l(l({},this.model),e),this._renderer(this.model),this._subscribers.forEach((function(e){e({visible:t.model.visible,currentPanel:t.model.currentPanel})}))}},{key:"getPanelContent",value:function(e){var t=this._contentMap.get(e);return t||console.warn("%s Panel not found, you should check registry",e),t||a.a}},{key:"registerContent",value:function(e,t,r){this._contentMap.set(e,t),null!=r&&r.cached&&this._shouldCachedSet.add(e),this._deferedPanel.panel&&(this.show(this._deferedPanel.panel,this._deferedPanel.options),this._deferedPanel={})}},{key:"registerCachedPanelInstance",value:function(e,t){this._shouldCachedSet.has(e)&&this._renderInstanceCachedMap.set(e,t)}},{key:"getCachedPanelInstance",value:function(e){return this._renderInstanceCachedMap.get(e)}},{key:"setRenderer",value:function(e){this._renderer=e}},{key:"show",value:function(e,t){e!==this.model.currentPanel&&(this._contentMap.get(e)?this.render({visible:!0,currentPanel:e,panelProps:null==t?void 0:t.panelProps,containerStyle:null==t?void 0:t.containerStyle}):this._deferedPanel={panel:e,options:t})}},{key:"hide",value:function(e){e?this.flushCacheByPanel(e):this.flushCaches(),e&&this.model.currentPanel!==e||this.render({visible:!1,currentPanel:null,panelProps:{},containerStyle:{}})}},{key:"subscribe",value:function(e){var t=this;return this._subscribers.add(e),function(){t._subscribers.delete(e)}}},{key:"flushCacheByPanel",value:function(e){this._renderInstanceCachedMap.delete(e)}},{key:"flushCaches",value:function(){this._renderInstanceCachedMap.clear()}},{key:"flushPanels",value:function(){this._shouldCachedSet.clear(),this._contentMap.clear()}},{key:"flushSubscribers",value:function(){this._subscribers.clear()}},{key:"flushAll",value:function(){this.flushCaches(),this.flushPanels()}}])&&u(t.prototype,r),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();s(d,"inited",!1)},4202:function(e,t,r){"use strict";r.d(t,"a",(function(){return re}));r(151);var n=r(66),o=r(0),a=r.n(o),i=r(2),c=r.n(i),l=r(67),u=r(35),s="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function f(e,t,r,n){e.addEventListener?e.addEventListener(t,r,n):e.attachEvent&&e.attachEvent("on".concat(t),(function(){r(window.event)}))}function d(e,t){for(var r=t.slice(0,t.length-1),n=0;n<r.length;n++)r[n]=e[r[n].toLowerCase()];return r}function p(e){"string"!=typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),r=t.lastIndexOf("");r>=0;)t[r-1]+=",",t.splice(r,1),r=t.lastIndexOf("");return t}for(var h={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":s?173:189,"=":s?61:187,";":s?59:186,"'":222,"[":219,"]":221,"\\":220},m={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},y={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},v={16:!1,18:!1,17:!1,91:!1},b={},g=1;g<20;g++)h["f".concat(g)]=111+g;var w=[],_=!1,E="all",O=[],S=function(e){return h[e.toLowerCase()]||m[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function A(e){E=e||"all"}function k(){return E||"all"}var j=function(e){var t=e.key,r=e.scope,n=e.method,o=e.splitKey,a=void 0===o?"+":o;p(t).forEach((function(e){var t=e.split(a),o=t.length,i=t[o-1],c="*"===i?"*":S(i);if(b[c]){r||(r=k());var l=o>1?d(m,t):[];b[c]=b[c].filter((function(e){return!((!n||e.method===n)&&e.scope===r&&function(e,t){for(var r=e.length>=t.length?e:t,n=e.length>=t.length?t:e,o=!0,a=0;a<r.length;a++)-1===n.indexOf(r[a])&&(o=!1);return o}(e.mods,l))}))}}))};function x(e,t,r,n){var o;if(t.element===n&&(t.scope===r||"all"===t.scope)){for(var a in o=t.mods.length>0,v)Object.prototype.hasOwnProperty.call(v,a)&&(!v[a]&&t.mods.indexOf(+a)>-1||v[a]&&-1===t.mods.indexOf(+a))&&(o=!1);(0!==t.mods.length||v[16]||v[18]||v[17]||v[91])&&!o&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function C(e,t){var r=b["*"],n=e.keyCode||e.which||e.charCode;if(P.filter.call(this,e)){if(93!==n&&224!==n||(n=91),-1===w.indexOf(n)&&229!==n&&w.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(t){var r=y[t];e[t]&&-1===w.indexOf(r)?w.push(r):!e[t]&&w.indexOf(r)>-1?w.splice(w.indexOf(r),1):"metaKey"===t&&e[t]&&3===w.length&&(e.ctrlKey||e.shiftKey||e.altKey||(w=w.slice(w.indexOf(r))))})),n in v){for(var o in v[n]=!0,m)m[o]===n&&(P[o]=!0);if(!r)return}for(var a in v)Object.prototype.hasOwnProperty.call(v,a)&&(v[a]=e[y[a]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===w.indexOf(17)&&w.push(17),-1===w.indexOf(18)&&w.push(18),v[17]=!0,v[18]=!0);var i=k();if(r)for(var c=0;c<r.length;c++)r[c].scope===i&&("keydown"===e.type&&r[c].keydown||"keyup"===e.type&&r[c].keyup)&&x(e,r[c],i,t);if(n in b)for(var l=0;l<b[n].length;l++)if(("keydown"===e.type&&b[n][l].keydown||"keyup"===e.type&&b[n][l].keyup)&&b[n][l].key){for(var u=b[n][l],s=u.splitKey,f=u.key.split(s),d=[],p=0;p<f.length;p++)d.push(S(f[p]));d.sort().join("")===w.sort().join("")&&x(e,u,i,t)}}}function P(e,t,r){w=[];var n=p(e),o=[],a="all",i=document,c=0,l=!1,u=!0,s="+",h=!1;for(void 0===r&&"function"==typeof t&&(r=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(a=t.scope),t.element&&(i=t.element),t.keyup&&(l=t.keyup),void 0!==t.keydown&&(u=t.keydown),void 0!==t.capture&&(h=t.capture),"string"==typeof t.splitKey&&(s=t.splitKey)),"string"==typeof t&&(a=t);c<n.length;c++)o=[],(e=n[c].split(s)).length>1&&(o=d(m,e)),(e="*"===(e=e[e.length-1])?"*":S(e))in b||(b[e]=[]),b[e].push({keyup:l,keydown:u,scope:a,mods:o,shortcut:n[c],method:r,key:n[c],splitKey:s,element:i});void 0!==i&&!function(e){return O.indexOf(e)>-1}(i)&&window&&(O.push(i),f(i,"keydown",(function(e){C(e,i)}),h),_||(_=!0,f(window,"focus",(function(){w=[]}),h)),f(i,"keyup",(function(e){C(e,i),function(e){var t=e.keyCode||e.which||e.charCode,r=w.indexOf(t);if(r>=0&&w.splice(r,1),e.key&&"meta"===e.key.toLowerCase()&&w.splice(0,w.length),93!==t&&224!==t||(t=91),t in v)for(var n in v[t]=!1,m)m[n]===t&&(P[n]=!1)}(e)}),h))}var I={setScope:A,getScope:k,deleteScope:function(e,t){var r,n;for(var o in e||(e=k()),b)if(Object.prototype.hasOwnProperty.call(b,o))for(r=b[o],n=0;n<r.length;)r[n].scope===e?r.splice(n,1):n++;k()===e&&A(t||"all")},getPressedKeyCodes:function(){return w.slice(0)},isPressed:function(e){return"string"==typeof e&&(e=S(e)),-1!==w.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,r=t.tagName,n=!0;return!t.isContentEditable&&("INPUT"!==r&&"TEXTAREA"!==r&&"SELECT"!==r||t.readOnly)||(n=!1),n},trigger:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(b).forEach((function(r){var n=b[r].find((function(r){return r.scope===t&&r.shortcut===e}));n&&n.method&&n.method()}))},unbind:function(e){if(void 0===e)Object.keys(b).forEach((function(e){return delete b[e]}));else if(Array.isArray(e))e.forEach((function(e){e.key&&j(e)}));else if("object"==typeof e)e.key&&j(e);else if("string"==typeof e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=r[0],a=r[1];"function"==typeof o&&(a=o,o=""),j({key:e,scope:o,method:a,splitKey:"+"})}},keyMap:h,modifier:m,modifierMap:y};for(var T in I)Object.prototype.hasOwnProperty.call(I,T)&&(P[T]=I[T]);if("undefined"!=typeof window){var N=window.hotkeys;P.noConflict=function(e){return e&&window.hotkeys===P&&(window.hotkeys=N),P},window.hotkeys=P}P.filter=function(){return!0};var L=function(e,t){var r=e.target,n=r&&r.tagName;return Boolean(n&&t&&t.includes(n))},D=function(e){return L(e,["INPUT","TEXTAREA","SELECT"])};function R(e,t,r,n){r instanceof Array&&(n=r,r=void 0);var a=r||{},i=a.enableOnTags,c=a.filter,l=a.keyup,u=a.keydown,s=a.filterPreventDefault,f=void 0===s||s,d=a.enabled,p=void 0===d||d,h=a.enableOnContentEditable,m=void 0!==h&&h,y=Object(o.useRef)(null),v=Object(o.useCallback)((function(e,r){var n,o;return c&&!c(e)?!f:!!(D(e)&&!L(e,i)||null!=(n=e.target)&&n.isContentEditable&&!m)||!!(null===y.current||document.activeElement===y.current||null!=(o=y.current)&&o.contains(document.activeElement))&&(t(e,r),!0)}),n?[y,i,c].concat(n):[y,i,c]);return Object(o.useEffect)((function(){if(p)return l&&!0!==u&&(r.keydown=!1),P(e,r||{},v),function(){return P.unbind(e,v)};P.unbind(e,v)}),[v,e,p]),y}P.isPressed;function M(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],o=t[1],a=t.slice(2);return R.apply(void 0,[n,function(){var e;null!==(e=document.activeElement)&&void 0!==e&&e.closest('[contenteditable="true"]')||o.apply(void 0,arguments)}].concat(M(a)))}var G=r(45),z=r(302),U=r(4036),q=r(74),W=r(24),V="index-module_present_RJR62",H="index-module_btn_nQfFi";function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Y(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $={overlayClassName:"index-module_tooltip_-a6S+",placement:"bottom",title:a.a.createElement(a.a.Fragment,null,__("演示")+__("：")+__("P")),trigger:["hover"]};function ee(e){var t=e.onClick;function r(e){e.preventDefault(),null==t||t()}return F(l.ua.macos?"⌘+shift+p,p":"ctrl+shift+p,p",r),a.a.createElement(n.a,$,a.a.createElement("button",{type:"button","data-aspm-click":"d129827",className:H,onClick:r},a.a.createElement(G.b,{name:"present",width:20,height:20})))}function te(e){var t=e.onClick;function r(e){e.preventDefault(),null==t||t()}function i(){null==t||t()}return F(l.ua.macos?"⌘+shift+p,p":"ctrl+shift+p,p",r),Object(o.useEffect)((function(){return W.c&&q.i.on(q.a,i),function(){q.i.off(q.a,i)}}),[]),a.a.createElement(n.a,$,a.a.createElement("button",{type:"button","data-aspm-click":"d129827",id:"present-btn","data-testid":"present-btn",className:H,onClick:r},a.a.createElement(G.b,{name:"present",width:20,height:20})))}ee.propTypes={onClick:c.a.func.isRequired},te.propTypes=ee.propTypes;var re=function(e){var t=e.doc,r=e.button,n=e.getDocContent,i=X(Object(o.useState)(!1),2),c=i[0],l=i[1],s=X(Object(o.useState)(t.content),2),f=s[0],d=s[1],p=Object(o.useCallback)((function(){var e,t;(l(!1),W.c)&&(null===(e=window.YuqueDesktopAppJSBridge)||void 0===e||null===(t=e.ipcSend)||void 0===t||t.call(e,{channel:W.a.CURRENT_WINDOW.UNSET_FULL_SCREEN,options:{}}))}),[]),h=Object(o.useCallback)((function(){var e,t,r;n&&d(n()),l(!0),e=document.body,W.c?null===(t=window.YuqueDesktopAppJSBridge)||void 0===t||null===(r=t.ipcSend)||void 0===r||r.call(t,{channel:W.a.CURRENT_WINDOW.SET_FULL_SCREEN,options:{}}):(e.requestFullScreen=e.requestFullscreen||e.msRequestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen,e.requestFullScreen&&e.requestFullScreen())}),[]),m=Object(u.useLocation)().hash,y=a.a.useMemo((function(){return m.slice(1)}),[m]);return a.a.createElement("div",{className:V},a.a.createElement(r,{onClick:h}),c&&a.a.createElement(U.b,{headingId:y,doc:Q(Q({},t),{},{content:f}),onCancel:p}))};re.propTypes={doc:c.a.object.isRequired,button:c.a.elementType.isRequired};var ne=function(e){var t=e.doc,r=e.getDocContent;return a.a.createElement(z.a,{withFallbackUI:!0,noMessage:!0,fallbackUI:function(){return a.a.createElement(re,{doc:t,button:ee})}},a.a.createElement(re,{doc:t,button:te,getDocContent:r}))};ne.displayName="ExposedPresentButton";t.b=ne},4205:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(2),i=r.n(a),c="index-module_modal_RmjKt",l="index-module_tipImg_3mf06",u="index-module_closeBtn_rSEPz",s=function(e){var t=e.visible,r=e.onClose,n=e.imgUrl,a=e.force,i=-1!==window.navigator.userAgent.toLowerCase().indexOf("micromessenger"),s=window.appData.isDingTalkApp;return(i||s||a)&&(t||a)?o.a.createElement("div",{className:c},o.a.createElement("div",{className:l},o.a.createElement("img",{src:n})),o.a.createElement("div",{onClick:r,className:u},o.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/prod_resource/afts/img/A*McjkTZ88-0cAAAAAAAAAAAAAARQnAQ"}))):null};s.propTypes={visible:i.a.bool,onClose:i.a.func,imgUrl:i.a.string,force:i.a.bool};t.a=s},421:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(51),o={datasheetRecord:n.a.datasheetRecord,docs:{exports:n.a.docs.exports,findOne:n.a.docs.findOne,addToCatalog:n.a.docs.addToCatalog},books:{exports:n.a.books.exports},import:{getImportResult:n.a.import.getImportResult},templates:{v2:n.a.templates.v2},editor:n.a.editor}},4213:function(e,t,r){"use strict";t.a={container:"GiveUp-module_container_dI-0v",contentBanner:"GiveUp-module_contentBanner_hjbzw",content:"GiveUp-module_content_k3omL",memberCard:"GiveUp-module_memberCard_Z3NMy",memberCardName:"GiveUp-module_memberCardName_7WXom",memberCardCoreRight:"GiveUp-module_memberCardCoreRight_pstis",memberCardRight:"GiveUp-module_memberCardRight_rm5KU",footer:"GiveUp-module_footer_AFqes",footerAction:"GiveUp-module_footerAction_-Juk4",actionBtn:"GiveUp-module_actionBtn_dS0B5"}},4222:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l.a}));var n=r(0),o=r.n(n),a=r(4197),i=r(4554);function c(e){var t=Object(n.useMemo)((function(){return{sidePanelManager:new a.a}}),[]);return o.a.createElement(i.a.Provider,{value:t},e.children)}var l=r(4167)},4312:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));r(151);var n=r(66),o=(r(42),r(9)),a=r(0),i=r(35),c=r(181),l=r(464),u=function(e){var t,r,u=e.doc,s=e.book,f=e.group,d=Object(i.useHistory)(),p=a.useMemo((function(){var e,t;return Object(c.c)({type:"book",target:s,group:f})!==l.PRIVACY.private?null!==(t=s.abilities)&&void 0!==t&&t.read_private?__("当前文档归属公开知识库，你和游客都可查看完整的知识库目录"):__("当前文档归属公开知识库，你可查看完整的知识库目录"):null!==(e=s.abilities)&&void 0!==e&&e.read_private?__("你拥有知识库权限，可回到知识库目录中查看，游客不可见该功能"):void 0}),[s,f]),h=a.createElement(o.a,{onClick:function(){var e=new URLSearchParams(d.location.search);e.delete("singleDoc"),d.push({pathname:d.location.pathname,search:"?".concat(e.toString())}),window.location.reload()}},null!==(t=s.abilities)&&void 0!==t&&t.read||null===(r=u.abilities)||void 0===r||!r.update?__("回到知识库"):__("查看原始文档"));return p?a.createElement(n.a,{placement:"bottom",title:p||""},h):h}},4538:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n=r(0),o=r(3854),a=r(216),i=r(4077),c=(r(41),r(10)),l=r(229),u=r(51);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(){f=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:x(e,r,c)}),i}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",m="suspendedYield",y="executing",v="completed",b={};function g(){}function w(){}function _(){}var E={};u(E,i,(function(){return this}));var O=Object.getPrototypeOf,S=O&&O(O(N([])));S&&S!==r&&n.call(S,i)&&(E=S);var A=_.prototype=g.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(o,a,i,c){var l=p(e[o],e,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==s(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function x(t,r,n){var o=h;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===b)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=p(t,r,n);if("normal"===u.type){if(o=n.done?v:m,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var a=p(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,b;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(s(t)+" is not iterable")}return w.prototype=_,o(A,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=u(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(j.prototype),u(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(d(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),u(A,l,"Generator"),u(A,i,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function d(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){d(a,n,o,i,c,"next",e)}function c(e){d(a,n,o,i,c,"throw",e)}i(void 0)}))}}var h=["docId","currentUser"];function m(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var y=function(e){var t=e.docId,r=(e.currentUser,m(e,h)),o=function(e){var t=window.appData.me;return{handleShare:n.useCallback(p(f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.a.docs.shareToPersonalFeed({id:e});case 2:c.a.success({content:n.createElement(n.Fragment,null,__("分享成功 "),n.createElement("a",{target:"_blank","data-desktoptarget":"_browser",href:"".concat(l.b.getHost(),"/").concat(t.login)},__("去查看")))});case 3:case"end":return r.stop()}}),r)}))),[e])}}(t),a=o.handleShare;return n.createElement(n.Fragment,null,n.createElement(i.a,{type:"doc",restProps:r,overlayClassName:"share-note-button",onShare:a}))},v=function(e){return n.createElement(a.a,{withFallbackUI:!0,noMessage:!0,fallbackUI:function(){return n.createElement(o.a,{role:"alternative",iconName:"digitalgarden",tooltip:__("我的花园")})}},n.createElement(y,e))}},4551:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o}));var n=function(){return window.self!==window.top};function o(e){var t=document.querySelector("#".concat(e.id));if(t)return t;var r=document.createElement("div");return r.id=e.id,document.body.append(r),r}},4552:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(0),o=r.n(n).a.createContext({ref:{current:null}})},4553:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n=function(){return null};function o(){}},4554:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(0),o=r.n(n).a.createContext(null)},4557:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return pe}));r(71);var n=r(31),o=(r(1535),r(1521)),a=(r(151),r(66)),i=r(0),c=r.n(i),l=r(5),u=r.n(l),s=r(532),f=r(1198),d=r(45),p=r(260),h=r(490),m=r(1400),y={statisticHead:"style-module_statisticHead_M8b22",interactHead:"style-module_interactHead_aw+2s",visitorsHead:"style-module_visitorsHead_6oKqL",title:"style-module_title_XUMRT",iconWrapper:"style-module_iconWrapper_vYWpL",tipIcon:"style-module_tipIcon_aQ3h4",download:"style-module_download_U1-mK",downloadAreaIcon:"style-module_downloadAreaIcon_tXk4f",downloadTxt:"style-module_downloadTxt_FH9kd",statisticBody:"style-module_statisticBody_1ft2Y",interactBody:"style-module_interactBody_V1bDl",visitorsBody:"style-module_visitorsBody_jTS0T",basicInfo:"style-module_basicInfo_wa0uq",row2Col2Item:"style-module_row2Col2Item_qtrTw",row2Col2Clickable:"style-module_row2Col2Clickable_ZlaMW",rightArrow:"style-module_rightArrow_6Rftv",name:"style-module_name_IyunN",value:"style-module_value_NDE+i",authorInfo:"style-module_authorInfo_UtZn1",row2Col1Item:"style-module_row2Col1Item_ECpAN",creatorName:"style-module_creatorName_-uWSQ",longValueItem:"style-module_longValueItem_Q6CK9",infoValueWrapper:"style-module_infoValueWrapper_+ZcEA",infoItemValue:"style-module_infoItemValue_DV6Qa",interactInfo:"style-module_interactInfo_UwF70",row1Col4Item:"style-module_row1Col4Item_ay5bD",row1Col4Clickable:"style-module_row1Col4Clickable_20wcl",active:"style-module_active_AN7V9",pv:"style-module_pv_VqoM8",uv:"style-module_uv_4GFCm",userListContainer:"style-module_userListContainer_BPEvb",userColumnListWrapper:"style-module_userColumnListWrapper_vogM8",empty:"style-module_empty_KEDVQ",userColumnList:"style-module_userColumnList_RFhhE",userItem:"style-module_userItem_g7TOe",userItemLeft:"style-module_userItemLeft_zhOUj",userItemNameWrapper:"style-module_userItemNameWrapper_LdzE2",userItemName:"style-module_userItemName_8FJg8",userTagList:"style-module_userTagList_ES-d5",tag:"style-module_tag_Cxaqq",commentTag:"style-module_commentTag_3E6h-",likeTag:"style-module_likeTag_xe+8Z",frequentVisitTag:"style-module_frequentVisitTag_x1wae",paginationWrapper:"style-module_paginationWrapper_j7srn"},v=r(469),b=r(955),g=r.n(b),w=r(350),_=r.n(w),E=r(211),O=r.n(E),S=r(1589),A=r(1588),k=r(273),j=function(){return function(e,t,r){if(window.__engine&&window.__engine.execCommand)return window.__engine[e](t,r)}("queryCommandValue","wordCount")},x=r(4196),C=(r(41),r(10)),P=r(966),I=r(1536),T=r.n(I);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function L(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==N(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===N(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D=["creator","contributors","last_editor"],R=["creator","contributors","last_editor"];function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function B(){B=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==r&&n.call(E,i)&&(w=E);var O=g.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==M(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=j(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(M(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function F(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function G(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){F(a,n,o,i,c,"next",e)}function c(e){F(a,n,o,i,c,"throw",e)}i(void 0)}))}}function z(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===M(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Q=4;function Z(){var e=Object(x.b)().showHistory,t=Object(v.f)((function(e){var t=e.doc,r=t.type,n=t.id,o=t.user,a=t.contributors,i=t.last_editor,c=t.hits,l=t.created_at,u=t.content_updated_at,s=t.likes_count,f=t.word_count,d=e.litecomment.comments,p=e.me,h=d.sort((function(e,t){return new Date(t.created_at).getTime()-new Date(e.created_at).getTime()})),m=O()(h,"user.id").map((function(e){var t=e.user,r=e.created_at;return Y(Y({},t),{},{time:r})}));return{statisticDoc:{id:n,creator:o,contributors:a,last_editor:i,pv:c,created_at:l,content_updated_at:u,likes_count:s,word_count:f,comments_count:d.length,type:r},commentUsers:m,me:p}}),(function(e,t){var r=e.statisticDoc,n=r.creator,o=r.contributors,a=r.last_editor,i=V(r,D),c={creatorId:null==n?void 0:n.id,contributorsCount:o.length,lastEditor:null==a?void 0:a.id},l=t.statisticDoc,u=l.creator,s=l.contributors,f=l.last_editor,d=V(l,R),p={creatorId:null==u?void 0:u.id,contributorsCount:s.length,lastEditor:null==f?void 0:f.id};return e.commentUsers.length===t.commentUsers.length&&g()(c,p)&&g()(i,d)})),r=t.statisticDoc,n=t.commentUsers,o=t.me,a=r.id,l=r.contributors,u=r.last_editor,s=r.creator,f=r.pv,d=r.comments_count,p=r.likes_count,h=r.word_count,m=r.content_updated_at,y=r.created_at,b=r.type,w=U(Object(i.useState)(0),2),E=w[0],I=w[1],N=U(Object(i.useState)(0),2),M=N[0],F=N[1],q=U(Object(i.useState)(0),2),W=q[0],H=q[1],K=U(Object(i.useState)([]),2),Z=K[0],X=K[1],J=U(Object(i.useState)([]),2),$=J[0],ee=J[1],te=U(Object(i.useState)([]),2),re=te[0],ne=te[1],oe=U(Object(i.useState)({frequentVisitMap:{},commentTagMap:{},likeTagMap:{}}),2),ae=oe[0],ie=oe[1],ce=U(Object(i.useState)("uv"),2),le=ce[0],ue=ce[1],se=U(Object(i.useState)([]),2),fe=se[0],de=se[1],pe=c.a.useMemo((function(){var e=l.findIndex((function(e){return(null==e?void 0:e.name)===(null==u?void 0:u.name)})),t=z(l);-1!==e&&t.splice(e,1);var r=t;return u&&r.unshift(u),r.map((function(e){return null==e?void 0:e.name})).join("、")}),[l,u]),he=l.length>=2?" ".concat(__("{count}人",{count:l.length})):"";return Object(i.useEffect)((function(){function e(){return(e=G(B().mark((function e(){var t;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.find)({doc_id:a,doc_type:"Doc",limit:100});case 2:t=e.sent,I(t.length);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return t=G(B().mark((function e(){var t,r,n,o;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,r=[],n=0;case 3:if(!(n<=1e3&&t)){e.next=12;break}return e.next=6,Object(A.users)({action_type:"like",target_type:"Doc",target_id:a,limit:200,offset:n},{useOriginResp:!0});case 6:o=e.sent,t=o.meta.hasMore,r=[].concat(z(r),z(o.data.map((function(e){return Y(Y({},e),{},{time:e.action_created_at})}))));case 9:n+=200,e.next=3;break;case 12:ne(r);case 13:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}function r(){return(r=G(B().mark((function e(){var t;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.pvList)({id:a});case 2:t=e.sent,X(t.recentVisitHistory.map((function(e){return Y(Y({},e.user),{},{time:e.updated_at})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=G(B().mark((function e(){var t;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.uvList)({id:a});case 2:t=e.sent,H(t.uv),ee(t.recentVisitors.map((function(e){return Y(Y({},e.user),{},{time:e.updated_at})})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){r.apply(this,arguments)}(),function(){n.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]),Object(i.useEffect)((function(){F(j()||h||0)}),[]),Object(i.useEffect)((function(){"pv"===le?de(Z):"uv"===le?de($):"comment"===le?de(n):"like"===le&&de(re)}),[le,Z,$,n,re]),Object(i.useEffect)((function(){var e=_()(Z,(function(e){return e.id})),t=Object.keys(e).reduce((function(t,r){return e[r].length>Q&&(t[e[r][0].id]=!0),t}),{});delete t[o.id],ie(Y(Y({},ae),{},{frequentVisitMap:t}))}),[Z]),Object(i.useEffect)((function(){var e=re.reduce((function(e,t){return e[t.id]=!0,e}),{});ie(Y(Y({},ae),{},{likeTagMap:e}))}),[re]),Object(i.useEffect)((function(){var e=n.reduce((function(e,t){return e[t.id]=!0,e}),{});ie(Y(Y({},ae),{},{commentTagMap:e}))}),[n]),{type:b,wordCount:M,versionCount:E,contributorsStr:pe,contributorSuffix:he,contentUpdatedAt:m,createdAt:y,pv:f,uv:W,commentCount:d,likeCount:p,userListDataSource:fe,setUserListDataSource:de,creator:s,selectedType:le,setSelectedType:ue,tagMaps:ae,showHistory:e,handleDownloadVisitors:function(){!function(e){var t=e.filename,r=e.dataSource;if(0===r.length)return C.a.warning(__("暂无数据可导出"));var n=r.map((function(e){var t;return L(t={},__("用户名"),e.name),L(t,__("时间"),e.time),t})),o=T.a.unparse(n);Object(P.downloadCsvFile)(o,t)}({dataSource:fe,filename:__("访问人数信息")})}}}var X=r(4663);function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function te(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==J(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===J(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function re(){}function ne(e){var t=e.name,r=e.value,n=e.clickable,o=e.onClick,a=void 0===o?re:o;return c.a.createElement("div",{className:u()(y.row2Col2Item,te({},y.row2Col2Clickable,n)),onClick:a},c.a.createElement("div",null,c.a.createElement("div",{className:y.value},r),c.a.createElement("div",{className:y.name},t)),n&&c.a.createElement(d.b,{name:"ArrowRight",className:y.rightArrow}))}function oe(e){var t=e.wordCount,r=e.versionCount,n=e.contentUpdatedAt,o=e.createdAt,a=e.showHistory,i=e.type;return c.a.createElement("div",{className:y.basicInfo},"Doc"===i?c.a.createElement(ne,{name:__("字数"),value:t}):null,"Table"!==i?c.a.createElement(ne,{name:__("历史版本#docStatistic"),value:r>99?"99+":r,clickable:!0,onClick:function(){a("all")}}):null,c.a.createElement(ne,{name:__("更新时间#docStatistic"),value:n}),c.a.createElement(ne,{name:__("创建时间#docStatistic"),value:o}))}function ae(e){var t=e.name,r=e.value,n=e.suffix,o=Object(X.a)(),i=o.hasEllipsis,l=o.ellipsisDomRef,u=c.a.createElement("div",{className:y.infoValueWrapper},c.a.createElement("div",{ref:l,className:y.infoItemValue},r),c.a.createElement("div",null,n));return c.a.createElement("div",{className:y.longValueItem},i?c.a.createElement(a.a,{title:r,placement:"bottomRight"},u):u,c.a.createElement("div",{className:y.name},t))}function ie(e){var t=e.name,r=e.value;return c.a.createElement("div",{className:y.row2Col1Item},c.a.createElement("div",{className:y.value},r),c.a.createElement("div",{className:y.name},t))}function ce(e){var t=e.creator,r=e.contributorsStr,n=e.contributorSuffix;return t?c.a.createElement("div",{className:y.authorInfo},c.a.createElement(ie,{name:c.a.createElement("div",{style:{marginTop:6}},__("创建者")),value:c.a.createElement(m.a,{user:t},c.a.createElement("div",null,c.a.createElement(h.a,{src:t.avatar_url,size:20,name:t.name}),c.a.createElement("span",{className:y.creatorName},t.name)))}),c.a.createElement(ae,{name:__("编辑者"),value:r,suffix:n})):null}function le(e){var t,r=e.name,n=e.value,o=e.clickable,a=e.onClick,i=void 0===a?re:a,l=e.active;return c.a.createElement("div",{className:u()(y.row1Col4Item,(t={},te(t,y.row1Col4Clickable,o),te(t,y.active,l),t)),onClick:i},c.a.createElement("div",{className:y.value},n),c.a.createElement("div",{className:y.name},r))}function ue(e){var t=e.pv,r=e.commentCount,n=e.likeCount;return c.a.createElement("div",{className:y.interactInfo},c.a.createElement(le,{name:c.a.createElement("div",{className:y.pv},__("阅读数"),c.a.createElement(a.a,{title:__("去除了编辑者的访问次数")},c.a.createElement("div",{className:y.iconWrapper},c.a.createElement(d.b,{name:"ActionDocInfo",className:y.tipIcon})))),value:t}),c.a.createElement(le,{name:__("评论数"),value:r}),c.a.createElement(le,{name:__("点赞数"),value:n}))}function se(e){var t=e.type;return"comment"===t?c.a.createElement("span",{className:u()(y.tag,y.commentTag)},__("评过")):"like"===t?c.a.createElement("span",{className:u()(y.tag,y.likeTag)},__("赞过")):"frequentVisit"===t?c.a.createElement("span",{className:u()(y.tag,y.frequentVisitTag)},__("常来")):null}function fe(e){var t=e.dataSource,r=e.tagMaps,n=r.frequentVisitMap,a=r.commentTagMap,l=r.likeTagMap,u=10,s=$(Object(i.useState)([]),2),f=s[0],d=s[1],v=$(Object(i.useState)(1),2),b=v[0],g=v[1],w=t.length;Object(i.useEffect)((function(){var e=t.slice((b-1)*u,b*u);d(e)}),[b,t]);var _=[f.slice(0,5),f.slice(5,u)],E=w>u,O=0===w;return c.a.createElement("div",{className:y.userListContainer},c.a.createElement("div",{className:y.userColumnListWrapper},O?c.a.createElement("p",{className:y.empty},__("暂无数据")):_.map((function(e,t){return c.a.createElement("div",{className:y.userColumnList,key:t},e.map((function(e){var t=e.id,r=[{type:"frequentVisit",did:n[t]},{type:"like",did:l[t]},{type:"comment",did:a[t]}];return c.a.createElement("div",{className:y.userItem,key:t},c.a.createElement("div",{className:y.userItemLeft},c.a.createElement(m.a,{user:e,className:y.userItemNameWrapper},c.a.createElement(h.a,{src:e.avatar_url,size:20,name:e.name}),c.a.createElement("span",{className:y.userItemName},e.name)),c.a.createElement("span",{className:y.userTagList},r.map((function(e){return e.did?c.a.createElement(se,{type:e.type}):null})))),c.a.createElement(p.a,{time:e.time}))})))}))),c.a.createElement("div",{className:y.paginationWrapper},E&&c.a.createElement(o.a,{className:y.pagination,size:"small",current:b,total:w,pageSize:u,onChange:function(e){g(e)}})))}function de(e){var t=Z(),r=t.type,n=t.wordCount,o=t.versionCount,i=t.contributorsStr,l=t.contributorSuffix,u=t.createdAt,p=t.contentUpdatedAt,h=t.creator,m=t.pv,v=t.commentCount,b=t.likeCount,g=t.userListDataSource,w=t.tagMaps,_=t.showHistory,E=t.handleDownloadVisitors,O={type:r,wordCount:n,versionCount:o,contentUpdatedAt:f.default.format(p),createdAt:f.default.format(u),showHistory:_,hide:e.hide},S={creator:h,contributorsStr:i,contributorSuffix:l},A={pv:m,commentCount:v,likeCount:b},k=Object(s.b)().isYuque;return c.a.createElement("div",null,c.a.createElement("div",{className:y.statisticHead},c.a.createElement("span",{className:y.title},__("统计详情"))),c.a.createElement("div",{className:y.statisticBody},c.a.createElement(oe,O),c.a.createElement(ce,S)),c.a.createElement("div",{className:y.interactHead},c.a.createElement("span",{className:y.title},__("阅读数据"))),c.a.createElement("div",{className:y.interactBody},c.a.createElement(ue,A)),c.a.createElement("div",{className:y.visitorsHead},c.a.createElement("span",{className:y.title},__("访问人员"),k?c.a.createElement(a.a,{title:__("仅显示空间内部访问成员的明细")},c.a.createElement("div",{className:y.iconWrapper},c.a.createElement(d.b,{name:"ActionDocInfo",className:y.tipIcon}))):null),c.a.createElement("div",{className:y.download,onClick:E},c.a.createElement(d.b,{name:"Download",className:y.downloadAreaIcon}),c.a.createElement("span",{className:y.downloadTxt},__("下载明细")))),c.a.createElement("div",{className:y.visitorsBody},c.a.createElement(fe,{dataSource:g,tagMaps:w})))}function pe(e){var t=e.visible,r=e.hide;return c.a.createElement(n.a,{centered:!0,style:{paddingBottom:0},width:700,zIndex:1e3,footer:null,visible:t,onCancel:r},t&&c.a.createElement(de,{hide:r}))}},4563:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l}));var n=r(0),o=r.n(n);var a=Object(n.createContext)({isShare:!1}),i={isShare:!1};function c(e){return o.a.createElement(a.Provider,{value:i},e.children)}function l(){return Object(n.useContext)(a)}},4568:function(e,t,r){"use strict";r(42);var n=r(9),o=r(0),a=r.n(o),i=r(4213);t.a=function(e){var t=e.handleConfirm,r=e.handleClose,o=e.title,c=void 0===o?__("恭喜你完成新手任务，获得 30 天会员奖励 🎉"):o;return a.a.createElement("div",{className:i.a.container},a.a.createElement("img",{className:i.a.contentBanner,src:"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*nBOWQqHYSqsAAAAAAAAAAAAADvuFAQ/original",alt:""}),a.a.createElement("div",{className:i.a.content,"data-testid":"doc-note-limit-content"},a.a.createElement("h1",null,c),a.a.createElement("p",null,__("会员享有以下核心权益，快去体验吧！")),a.a.createElement("div",{className:i.a.memberCard},a.a.createElement("p",{className:i.a.memberCardRight},__("无限文稿数")),a.a.createElement("p",{className:i.a.memberCardRight},__("无限知识库数")),a.a.createElement("p",{className:i.a.memberCardRight},__("更多格式、更大附件")),a.a.createElement("p",{className:i.a.memberCardRight},__("安全等知识库高级功能")),a.a.createElement("p",{className:i.a.memberCardRight},__("互联网公开")),a.a.createElement("p",{className:i.a.memberCardRight},__("公开我的花园"))),a.a.createElement("div",{className:i.a.footer},a.a.createElement("div",{className:i.a.footerAction},a.a.createElement(n.a,{"data-testid":"buy-button",className:i.a.actionBtn,onClick:t},__("立即延长会员")),a.a.createElement(n.a,{className:i.a.actionBtn,onClick:r,type:"primary"},__("知道了"))))))}},4594:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(65),o=r.n(n),a=(r(0),r(72)),i=r.n(a);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,a=void 0,a=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===c(a)?a:String(a)),n)}var o,a}var u=o()("biz.doc_events"),s={rename:"rename"},f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._event=new i.a}var t,r,n;return t=e,(r=[{key:"emit",value:function(e,t){if(!Object.keys(s).includes(e))throw new Error("event type ".concat(e," not support."));if(!t.doc_id)throw new Error("emit data missing data_id, data: ".concat(JSON.stringify(t)));u("".concat(e," emitted")),this._event.emit(e,t)}},{key:"off",value:function(e,t){this._event.off(e,t)}},{key:"on",value:function(e,t){if(!s[e])throw new Error("event type ".concat(e," not support."));this._event.on(e,t)}}])&&l(t.prototype,r),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),d=new f},4600:function(e,t,r){"use strict";r.d(t,"b",(function(){return O})),r.d(t,"a",(function(){return s}));var n=r(0),o=r.n(n),a=r(251),i=r(35),c=r(3614),l=r(4167),u=r(4553),s={Outline:"Outline",WordingComment:"WordingComment",SideComment:"SideComment",MoreFeature:"MoreFeature",EditDocMeta:"EditDocMeta",Review:"Review",DocStyle:"DocStyle"},f={PanelLayoutChange:"PanelLayoutChange"},d={panel:"sidePanel-module_panel_Vr-DC",toggleShow:"sidePanel-module_toggleShow_o7eFp",toggleHide:"sidePanel-module_toggleHide_BreQk"};function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w=Object(a.b)((function(){return Promise.all([r.e(0),r.e(1),r.e(8),r.e(10),r.e(1268)]).then(r.bind(null,5726))}),{suspense:!0}),_=Object(a.b)((function(){return Promise.all([r.e(1),r.e(7),r.e(12),r.e(18),r.e(1308)]).then(r.bind(null,5749))}),{suspense:!0}),E=305;function O(e){var t=Object(i.useParams)().doc,r=Object(l.a)().sidePanelManager,a=b(Object(n.useState)({visible:!1,currentPanel:null,panelProps:{},containerStyle:{}}),2),s=a[0],p=a[1],h=s.visible,y=s.currentPanel,g=s.panelProps,O=s.containerStyle,S=Object(n.useRef)(null),A=function(e){p(e)},k=function(e){r.emitter.emit(f.PanelLayoutChange,{width:e.width})},j=y?r.getPanelContent(y):u.a,x=o.a.createElement(j,v({panel:y,hide:function(e){r.hide(e)},maxWidth:E,onLayout:k},g));Object(n.useEffect)((function(){r.setRenderer(A)}),[r]),Object(n.useEffect)((function(){h||k({width:0})}),[h]),Object(n.useEffect)((function(){r.flushAll(),r.hide(),r.registerContent("MoreFeature",w),r.registerContent("SideComment",_)}),[t,r]),Object(n.useEffect)((function(){return function(){r.flushAll(),r.hide()}}),[r]);var C=Object(c.b)().rightSidebarWidth;return o.a.createElement("div",{id:"sidePanel",ref:S,className:d.panel,style:m(m({},O),{},{right:C})},x)}r(4197)},4608:function(e,t,r){"use strict";r(42);var n=r(9),o=(r(151),r(66)),a=(r(71),r(31)),i=r(0),c=r.n(i),l=r(2),u=r.n(l),s=r(3493),f=r(3595),d=r(3370),p=r(24);var h=function(e,t){Object(i.useEffect)((function(){var r=new URLSearchParams(window.location.search);if("doc_embed"!==r.get("view")&&!r.get("inner")&&"Thread"!==t.type)return t.abilities&&t.abilities.update&&Object(f.a)(d.e.edit.key,(function(r){var n=r.target;"INPUT"!==n.tagName&&(n.isContentEditable&&!n.classList.contains("textarea-cell")||p.g&&"markdown"===(t.origin_format||t.format)||("Sheet"===t.type||"Table"===t.type?s.c.saveSheetPosition(t.id):s.c.saveReadPosition(t.id),window.location.href="/".concat(e.namespace,"/").concat(t.slug,"/edit")))})),function(){f.a.unbind(d.e.edit.key)}}),[t.id,e.id])};function m(e){var t=e.book,r=e.doc,i="Sheet"===r.type||"Table"===r.type;return h(t,r),c.a.createElement(n.a,{type:"primary",style:{marginRight:8},onClick:function(){p.g&&"markdown"===(r.origin_format||r.format)?a.a.confirm({centered:!0,content:c.a.createElement(c.a.Fragment,null,__("抱歉，桌面端暂不支持 Markdown 文档编辑器")),okText:__("去网页编辑"),cancelText:__("取消"),onOk:function(){window.YuqueDesktopAppJSBridge.openExternalLink(window.location.href)}}):(i?s.c.saveSheetPosition(r.id):s.c.saveReadPosition(r.id),window.location.href="/".concat(t.namespace,"/").concat(r.slug,"/edit").concat(i?window.location.hash:""))}},c.a.createElement(o.a,{title:c.a.createElement("p",{style:{textAlign:"center"}},__("编辑")+__("：")+__("E")),placement:"bottom"},__("编辑")))}m.propTypes={book:u.a.object.isRequired,doc:u.a.object.isRequired};t.a=m},4663:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(){var e=o(Object(n.useState)(!1),2),t=e[0],r=e[1],a=Object(n.useRef)(null);return Object(n.useEffect)((function(){a.current&&a.current.clientWidth!==a.current.scrollWidth&&r(!0)}),[]),{ellipsisDomRef:a,hasEllipsis:t}}},4665:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return p})),r.d(t,"DocStatisticModal",(function(){return h.default})),r.d(t,"DocStatisticProvider",(function(){return s})),r.d(t,"useDocStatisticStore",(function(){return f}));var n=r(0),o=r.n(n),a=r(251);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(){}var u=Object(n.createContext)({visible:!1,hide:l,show:l});function s(e){var t=i(Object(n.useState)(!1),2),r=t[0],a=t[1],c=Object(n.useMemo)((function(){return{visible:r,hide:function(){a(!1)},show:function(){a(!0)}}}),[r]);return o.a.createElement(u.Provider,{value:c},e.children)}function f(){return Object(n.useContext)(u)}var d=Object(a.c)((function(){return Promise.resolve().then(r.bind(null,4557))}),{suspense:!0});function p(){var e=f(),t=e.visible,r=e.hide;return Object(n.useEffect)((function(){t&&d.start()}),[t]),o.a.createElement(d,{key:t,visible:t,hide:r})}var h=r(4557)},4719:function(e,t,r){"use strict";r(71);var n=r(31),o=(r(151),r(66)),a=(r(42),r(9)),i=(r(41),r(10)),c=r(0),l=r.n(c),u={};!function e(t,r,n,o){var a=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),i="function"==typeof Path2D&&"function"==typeof DOMMatrix;function c(){}function l(e){var n=r.exports.Promise,o=void 0!==n?n:t.Promise;return"function"==typeof o?new o(e):(e(c,c),null)}var u,s,f,d,p,h,m,y,v,b=(f=Math.floor(1e3/60),d={},p=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(u=function(e){var t=Math.random();return d[t]=requestAnimationFrame((function r(n){p===n||p+f-1<n?(p=n,delete d[t],e()):d[t]=requestAnimationFrame(r)})),t},s=function(e){d[e]&&cancelAnimationFrame(d[e])}):(u=function(e){return setTimeout(e,f)},s=function(e){return clearTimeout(e)}),{frame:u,cancel:s}),g=(y={},function(){if(h)return h;if(!n&&a){var t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{h=new Worker(URL.createObjectURL(new Blob([t])))}catch(e){return void 0!==typeof console&&"function"==typeof console.warn&&console.warn("🎊 Could not load worker",e),null}!function(e){function t(t,r){e.postMessage({options:t||{},callback:r})}e.init=function(t){var r=t.transferControlToOffscreen();e.postMessage({canvas:r},[r])},e.fire=function(r,n,o){if(m)return t(r,null),m;var a=Math.random().toString(36).slice(2);return m=l((function(n){function i(t){t.data.callback===a&&(delete y[a],e.removeEventListener("message",i),m=null,o(),n())}e.addEventListener("message",i),t(r,a),y[a]=i.bind(null,{data:{callback:a}})}))},e.reset=function(){for(var t in e.postMessage({reset:!0}),y)y[t](),delete y[t]}}(h)}return h}),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function _(e,t,r){return function(e,t){return t?t(e):e}(e&&null!=e[t]?e[t]:w[t],r)}function E(e){return e<0?0:Math.floor(e)}function O(e){return parseInt(e,16)}function S(e){return e.map(A)}function A(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:O(t.substring(0,2)),g:O(t.substring(2,4)),b:O(t.substring(4,6))}}function k(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function j(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function x(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var r=t.tick++/t.totalTicks,n=t.x+t.random*t.tiltCos,o=t.y+t.random*t.tiltSin,a=t.wobbleX+t.random*t.tiltCos,c=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-r)+")",e.beginPath(),i&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill(function(e,t,r,n,o,a,i){var c=new Path2D(e),l=new Path2D;l.addPath(c,new DOMMatrix(t));var u=new Path2D;return u.addPath(l,new DOMMatrix([Math.cos(i)*o,Math.sin(i)*o,-Math.sin(i)*a,Math.cos(i)*a,r,n])),u}(t.shape.path,t.shape.matrix,t.x,t.y,.1*Math.abs(a-n),.1*Math.abs(c-o),Math.PI/10*t.wobble));else if("bitmap"===t.shape.type){var l=Math.PI/10*t.wobble,u=.1*Math.abs(a-n),s=.1*Math.abs(c-o),f=t.shape.bitmap.width*t.scalar,d=t.shape.bitmap.height*t.scalar,p=new DOMMatrix([Math.cos(l)*u,Math.sin(l)*u,-Math.sin(l)*s,Math.cos(l)*s,t.x,t.y]);p.multiplySelf(new DOMMatrix(t.shape.matrix));var h=e.createPattern(t.shape.bitmap,"no-repeat");h.setTransform(p),e.globalAlpha=1-r,e.fillStyle=h,e.fillRect(t.x-f/2,t.y-d/2,f,d),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(a-n)*t.ovalScalar,Math.abs(c-o)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,r,n,o,a,i,c,l){e.save(),e.translate(t,r),e.rotate(a),e.scale(n,o),e.arc(0,0,1,i,c,l),e.restore()}(e,t.x,t.y,Math.abs(a-n)*t.ovalScalar,Math.abs(c-o)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if("star"===t.shape)for(var m=Math.PI/2*3,y=4*t.scalar,v=8*t.scalar,b=t.x,g=t.y,w=5,_=Math.PI/w;w--;)b=t.x+Math.cos(m)*v,g=t.y+Math.sin(m)*v,e.lineTo(b,g),m+=_,b=t.x+Math.cos(m)*y,g=t.y+Math.sin(m)*y,e.lineTo(b,g),m+=_;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(o)),e.lineTo(Math.floor(a),Math.floor(c)),e.lineTo(Math.floor(n),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}function C(e,r){var i,c=!e,u=!!_(r||{},"resize"),s=!1,f=_(r,"disableForReducedMotion",Boolean),d=a&&!!_(r||{},"useWorker")?g():null,p=c?k:j,h=!(!e||!d)&&!!e.__confetti_initialized,m="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function y(t,r,a){for(var c,u,s,f,d,h=_(t,"particleCount",E),m=_(t,"angle",Number),y=_(t,"spread",Number),v=_(t,"startVelocity",Number),g=_(t,"decay",Number),w=_(t,"gravity",Number),O=_(t,"drift",Number),A=_(t,"colors",S),k=_(t,"ticks",Number),j=_(t,"shapes"),C=_(t,"scalar"),P=!!_(t,"flat"),I=function(e){var t=_(e,"origin",Object);return t.x=_(t,"x",Number),t.y=_(t,"y",Number),t}(t),T=h,N=[],L=e.width*I.x,D=e.height*I.y;T--;)N.push((c={x:L,y:D,angle:m,spread:y,startVelocity:v,color:A[T%A.length],shape:j[(f=0,d=j.length,Math.floor(Math.random()*(d-f))+f)],ticks:k,decay:g,gravity:w,drift:O,scalar:C,flat:P},u=void 0,s=void 0,u=c.angle*(Math.PI/180),s=c.spread*(Math.PI/180),{x:c.x,y:c.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*c.startVelocity+Math.random()*c.startVelocity,angle2D:-u+(.5*s-Math.random()*s),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:c.color,shape:c.shape,tick:0,totalTicks:c.ticks,decay:c.decay,drift:c.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*c.gravity,ovalScalar:.6,scalar:c.scalar,flat:c.flat}));return i?i.addFettis(N):(i=function(e,t,r,a,i){var c,u,s=t.slice(),f=e.getContext("2d"),d=l((function(t){function l(){c=u=null,f.clearRect(0,0,a.width,a.height),i(),t()}c=b.frame((function t(){!n||a.width===o.width&&a.height===o.height||(a.width=e.width=o.width,a.height=e.height=o.height),a.width||a.height||(r(e),a.width=e.width,a.height=e.height),f.clearRect(0,0,a.width,a.height),(s=s.filter((function(e){return x(f,e)}))).length?c=b.frame(t):l()})),u=l}));return{addFettis:function(e){return s=s.concat(e),d},canvas:e,promise:d,reset:function(){c&&b.cancel(c),u&&u()}}}(e,N,p,r,a),i.promise)}function v(r){var n=f||_(r,"disableForReducedMotion",Boolean),o=_(r,"zIndex",Number);if(n&&m)return l((function(e){e()}));c&&i?e=i.canvas:c&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(o),document.body.appendChild(e)),u&&!h&&p(e);var a={width:e.width,height:e.height};function v(){if(d){var t={getBoundingClientRect:function(){if(!c)return e.getBoundingClientRect()}};return p(t),void d.postMessage({resize:{width:t.width,height:t.height}})}a.width=a.height=null}function b(){i=null,u&&(s=!1,t.removeEventListener("resize",v)),c&&e&&(document.body.removeChild(e),e=null,h=!1)}return d&&!h&&d.init(e),h=!0,d&&(e.__confetti_initialized=!0),u&&!s&&(s=!0,t.addEventListener("resize",v,!1)),d?d.fire(r,a,b):y(r,a,b)}return v.reset=function(){d&&d.reset(),i&&i.reset()},v}function P(){return v||(v=C(null,{useWorker:!0,resize:!0})),v}r.exports=function(){return P().apply(this,arguments)},r.exports.reset=function(){P().reset()},r.exports.create=C,r.exports.shapeFromPath=function(e){if(!i)throw new Error("path confetti are not supported in this browser");var t,r;"string"==typeof e?t=e:(t=e.path,r=e.matrix);var n=new Path2D(t),o=document.createElement("canvas").getContext("2d");if(!r){for(var a,c,l=1e3,u=l,s=l,f=0,d=0,p=0;p<l;p+=2)for(var h=0;h<l;h+=2)o.isPointInPath(n,p,h,"nonzero")&&(u=Math.min(u,p),s=Math.min(s,h),f=Math.max(f,p),d=Math.max(d,h));a=f-u,c=d-s;var m=Math.min(10/a,10/c);r=[m,0,0,m,-Math.round(a/2+u)*m,-Math.round(c/2+s)*m]}return{type:"path",path:t,matrix:r}},r.exports.shapeFromText=function(e){var t,r=1,n="#000000",o='"Twemoji Mozilla", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,r="scalar"in e?e.scalar:r,o="fontFamily"in e?e.fontFamily:o,n="color"in e?e.color:n);var a=10*r,i=a+"px "+o,c=new OffscreenCanvas(a,a),l=c.getContext("2d");l.font=i;var u=l.measureText(t),s=Math.floor(u.width),f=Math.floor(u.fontBoundingBoxAscent+u.fontBoundingBoxDescent);(l=(c=new OffscreenCanvas(s,f)).getContext("2d")).font=i,l.fillStyle=n,l.fillText(t,0,a);var d=1/r;return{type:"bitmap",bitmap:c.transferToImageBitmap(),matrix:[d,0,0,d,-s*d/2,-f*d/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),u,!1);var s=u.exports,f=(u.exports.create,r(461)),d=r(5),p=r.n(d),h=r(45),m=r(347),y=r(32),v=r(500),b=r(117),g=r(3590),w=r(198),_=(r(131),r(43)),E=(r(142),r(28)),O=(r(782),r(379)),S=r(1207),A=r.n(S),k=r(1208),j=r.n(k),x=r(4171),C=r(4205),P="index-module_container_m-xlo",I="index-module_pageHeader_lT2OP",T="index-module_pageHeaderDesc_Bceju",N="index-module_download_PH6Ei",L="index-module_mobileContainer_kMfPO",D="index-module_pcContainer_4GUDJ",R="index-module_item_gjoQ7",M="index-module_appDetail_9nGCP",B="index-module_qrCodeMain_P-zjd",F="index-module_version_pYrOG",G="index-module_changelog_Uwpui",z="index-module_desktopMain_WLtQ7",U="index-module_qrCodeDesc_YR0bJ",q="index-module_iosQrCodeWrapper_Dq76q",W="index-module_android_E6Mqo",V="index-module_windows_Zd92A";function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function Y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==H(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==H(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===H(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Z=140,X="https://gw.alipayobjects.com/mdn/prod_resource/afts/img/A*4s9qRZX3ggQAAAAAAAAAAAAAARQnAQ",J="https://gw.alipayobjects.com/mdn/prod_resource/afts/img/A*__V8Q6EHEkYAAAAAAAAAAAAAARQnAQ",$=function(){var e=K(Object(c.useState)({macDownLoadURL:"",windowsDownLoadURL:"",androidDownloadURL:"",iOSDownloadURL:"",appDownloadVersion:"",desktopDownloadVersion:""}),2),t=e[0],r=e[1],n=K(Object(c.useState)(),2),o=n[0],i=n[1],u=K(Object(c.useState)(),2),s=u[0],f=u[1],d=K(Object(c.useState)(!1),2),h=d[0],m=d[1],y=K(Object(c.useState)(""),2),v=y[0],g=y[1],w=j.a.parse(window.location.search),S=function(e){var t=e.alt,r=e.qrcodeUrl,n=e.type,o=e.version,a="ios"===n&&!window.appData.isYuque;return l.a.createElement("div",{className:p()(M,Y({},q,a))},l.a.createElement("div",{className:B},l.a.createElement("p",null,l.a.createElement("img",{src:r,alt:t})),l.a.createElement("p",{className:F},"版本：",o,l.a.createElement("a",{className:G,target:"_blank",href:x.a.getAppChangeLogUrl(o)},__("更新日志")))),a&&l.a.createElement("div",{className:U},l.a.createElement("p",null,__("安装后请到")),l.a.createElement("p",null,__("设置 -> 通用 -> VPN与设备管理")),l.a.createElement("p",null,__("中找到并信任证书")),l.a.createElement("p",null,l.a.createElement("a",{href:"https://yuque.antfin.com/lark/mobile-app/faq",target:"_blank"},__("常见问题")))))},k=function(e){var t=e.version;return l.a.createElement("div",{className:M},l.a.createElement("div",{className:z},l.a.createElement("p",{className:F},"版本：",t,l.a.createElement("a",{target:"_blank",className:G,href:x.a.getDesktopChangeLogUrl(t)},__("更新日志")))))},H=function(){g(X),m(!0)};return Object(c.useEffect)((function(){b.webProxy.userTask.download().then((function(e){var t=e.downloadInfo,n=t.iOSDownloadURL,o=t.androidDownloadURL;r(e.downloadInfo),w.url&&(g(J),m(!0),window.location.href=w.url),A.a.toDataURL(n||"",{width:Z,height:Z,margin:0},(function(e,t){i(t)})),A.a.toDataURL(o||"",{width:Z,height:Z,margin:0},(function(e,t){f(t)}))}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:P},l.a.createElement("p",{className:I},__("随时随地使用语雀")),l.a.createElement("p",{className:T},__("同时支持 iOS、Android、macOS、Windows 版本")),l.a.createElement("div",{className:"layout-container-middle"},l.a.createElement("div",{className:N},l.a.createElement(_.a,{justify:"space-around",className:L},l.a.createElement(E.a,{xs:24,md:8},l.a.createElement(O.a,{placement:"bottom",content:S({alt:"ios",qrcodeUrl:o,type:"ios",version:t.appDownloadVersion})},l.a.createElement("div",{className:R},l.a.createElement("p",null,l.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/rms_ee84bf/afts/img/A*orgVRpJ1n6AAAAAAAAAAAAAAARQnAQ",alt:"ios",width:100,height:100})),l.a.createElement("p",null,l.a.createElement(a.a,{size:"small",onClick:H},__("下载 iOS 版")))))),l.a.createElement(E.a,{xs:24,md:8},l.a.createElement(O.a,{placement:"bottom",content:S({alt:"android",qrcodeUrl:s,type:"android",version:t.appDownloadVersion})},l.a.createElement("div",{className:R},l.a.createElement("p",null,l.a.createElement("img",{className:W,src:"https://gw.alipayobjects.com/mdn/rms_ee84bf/afts/img/A*hfdcRqdjmzkAAAAAAAAAAAAAARQnAQ",alt:"android",width:100,height:100})),l.a.createElement("p",null,l.a.createElement(a.a,{size:"small",onClick:H},__("下载 Android 版")))))),l.a.createElement(E.a,{xs:24,md:8},l.a.createElement(O.a,{placement:"bottom",content:S({alt:"ipad",qrcodeUrl:o,type:"ios",version:t.appDownloadVersion})},l.a.createElement("div",{className:R},l.a.createElement("img",{src:"https://gw.alipayobjects.com/mdn/rms_ee84bf/afts/img/A*BDqWT61Mj3YAAAAAAAAAAAAAARQnAQ",alt:"ipad",width:100,height:100}),l.a.createElement(a.a,{size:"small",onClick:H},__("下载 iPad 版"))))))),l.a.createElement("div",{className:N},l.a.createElement(_.a,{justify:"space-around",className:D},l.a.createElement(E.a,{xs:24,md:12},l.a.createElement(O.a,{placement:"bottom",content:k({version:t.desktopDownloadVersion})},l.a.createElement("div",{className:R},l.a.createElement("img",{src:"//gw.alipayobjects.com/mdn/rms_ee84bf/afts/img/A*_Rl_TI54BdMAAAAAAAAAAAAAARQnAQ",alt:"macOS",width:100,height:100}),l.a.createElement(a.a,{href:t.macDownLoadURL,target:"_blank",size:"small",rel:"noopener noreferrer"},__("下载 macOS 版"))))),l.a.createElement(E.a,{xs:24,md:12},l.a.createElement("div",{className:R},l.a.createElement(O.a,{placement:"bottom",content:k({version:t.desktopDownloadVersion})},l.a.createElement("div",{className:R},l.a.createElement("img",{className:V,src:"//gw.alipayobjects.com/mdn/rms_ee84bf/afts/img/A*NDLoTrGpw0EAAAAAAAAAAAAAARQnAQ",alt:"Windows",width:100,height:100}),l.a.createElement(a.a,{size:"small",href:t.windowsDownLoadURL,target:"_blank",rel:"noopener noreferrer"},__("下载 Windows 版"))))))))),l.a.createElement(C.a,{visible:h,imgUrl:v,onClose:function(){m(!1)}})))},ee=r(4213),te=function(e){var t=e.handleConfirm,r=e.handleClose;return l.a.createElement("div",{className:ee.a.container},l.a.createElement("img",{className:ee.a.contentBanner,src:"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*lEheSJHl_Z8AAAAAAAAAAAAADvuFAQ/original",alt:""}),l.a.createElement("div",{className:ee.a.content,"data-testid":"doc-note-limit-content"},l.a.createElement("h1",null,__("确定要放弃新手任务吗？")),l.a.createElement("p",null,__("只需 2 分钟，完成简单的新人任务，即可领取一个月会员奖励！会员享有以下核心权益，继续完成任务吧！")),l.a.createElement("div",{className:ee.a.memberCard},l.a.createElement("p",{className:ee.a.memberCardRight},__("无限文稿数")),l.a.createElement("p",{className:ee.a.memberCardRight},__("无限知识库数")),l.a.createElement("p",{className:ee.a.memberCardRight},__("更多格式、更大附件")),l.a.createElement("p",{className:ee.a.memberCardRight},__("安全等知识库高级功能")),l.a.createElement("p",{className:ee.a.memberCardRight},__("互联网公开")),l.a.createElement("p",{className:ee.a.memberCardRight},__("公开我的花园"))),l.a.createElement("div",{className:ee.a.footer},l.a.createElement("div",{className:ee.a.footerAction},l.a.createElement(a.a,{"data-testid":"buy-button",className:ee.a.actionBtn,onClick:t},__("去意已决")),l.a.createElement(a.a,{className:ee.a.actionBtn,onClick:r,type:"primary"},__("继续完成"))))))},re=r(4568),ne=r(3530);function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ae(){ae=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==r&&n.call(E,i)&&(w=E);var O=g.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==oe(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=j(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(oe(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function ie(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var ce=function(e){var t,r,n=window.appData.me,o=e.cb;return Object(ne.c)({target_type:ne.b.USER,target_id:n.id,source:"novice_task",onBroadcast:(t=ae().mark((function e(t){return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.type===ne.a.TASK.ACHIEVE&&o();case 2:case"end":return e.stop()}}),e)})),r=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){ie(a,n,o,i,c,"next",e)}function c(e){ie(a,n,o,i,c,"throw",e)}i(void 0)}))},function(e){return r.apply(this,arguments)})}),l.a.createElement(l.a.Fragment,null)},le=r(3598),ue=r(3611),se="index-module_container_xco76",fe="index-module_header_OcxbL",de="index-module_title_IfK9Z",pe="index-module_desc_JwypQ",he="index-module_close_-aIMP",me="index-module_body_HbXYZ",ye="index-module_bodyItem_jWVDe",ve="index-module_backgroundGif_D+WAN",be="index-module_name_95gsc",ge="index-module_archive_NCZuA",we="index-module_archiveIcon_M87cI",_e="index-module_options_8GrH4",Ee="index-module_bodyItemDisabled_nYr2u",Oe="index-module_itemIcon_Skbxq",Se="index-module_bodyItemSelect_ZLjD8",Ae="index-module_giveUpModal_+Zn3r";function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function je(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ke(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ke(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xe(){xe=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==r&&n.call(E,i)&&(w=E);var O=g.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ke(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=j(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(ke(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function Ce(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Pe(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Ce(a,n,o,i,c,"next",e)}function c(e){Ce(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ne="TASK_FORCE_GIF_INDEX";t.a=function(){var e=le.a.getInstance(),t=Ie(Object(c.useState)(v.ACTION.new_book),2),r=t[0],u=t[1],d=Ie(Object(c.useState)(!1),2),_=d[0],E=d[1],O=Ie(Object(c.useState)(!1),2),S=O[0],A=O[1],k=Ie(Object(c.useState)(!1),2),j=k[0],x=k[1],C=Ie(Object(c.useState)(!1),2),P=C[0],I=C[1],T=Ie(Object(c.useState)(),2),N=T[0],L=T[1],D=Ie(Object(c.useState)(null),2),R=D[0],M=D[1],B=Ie(Object(c.useState)(!1),2),F=B[0],G=B[1],z=Object(f.a)().isDarkMode,U=window.appData.me,q=Object(c.useMemo)((function(){return[{icon:"helpcolor",name:__("第一步：新建一个知识库"),action:v.ACTION.new_book},{icon:"NoviceGuideDoc",name:__("第二步：新建一篇文档"),action:v.ACTION.new_doc},{icon:"NoviceGuideNote",name:__("第三步：写下第一篇小记"),action:v.ACTION.new_note},{icon:"NoviceGuideClient",name:__("第四步：下载客户端"),action:v.ACTION.download_desktop,option:{label:__("去下载 →"),handler:function(){A(!0)}}}]}),[]);Object(c.useEffect)((function(){W();var t=e.onCloseTask(K),r=e.onCloseAllTask((function(){A(!1)})),n=e.onWakeUp((function(){W(!0)})),o=e.onGiveUpTask((function(){x(!0)}));return function(){t(),r(),n(),o()}}),[]);var W=function(){var t=Pe(xe().mark((function t(){var r,n,o,a,i,c,l,s,f,d=arguments;return xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=d.length>0&&void 0!==d[0]&&d[0],t.next=3,b.webProxy.userTask.find({task_id:v.TASK_ID.NOVICE_OFFER});case 3:if((c=t.sent)&&c.task){t.next=7;break}return e.clearTaskStateInfo(),t.abrupt("return");case 7:if(c.task.state!==v.STATE.NOTSTART){t.next=11;break}return t.next=10,b.webProxy.userTask.start({task_id:v.TASK_ID.NOVICE_OFFER});case 10:c.task.state=v.STATE.PROGRESS;case 11:if(l=(null===(r=c.taskRecords)||void 0===r||null===(n=r.pop)||void 0===n||null===(o=n.call(r))||void 0===o?void 0:o.action)||null,((s=e.getTaskStateInfo()||{isProcess:!0}).isProcess||i)&&G(!0),E(s.isProcess||i),w.a.get("".concat(Ne,"_").concat(v.TASK_ID.NOVICE_OFFER,"_").concat(l,"_").concat(U.id))||!l){t.next=22;break}return L(l),u(l),t.next=21,Object(m.a)(2e3);case 21:w.a.set("".concat(Ne,"_").concat(v.TASK_ID.NOVICE_OFFER,"_").concat(l,"_").concat(U.id),1);case 22:if(f=Object(ue.b)(v.TASK_ID.NOVICE_OFFER,l,1),(null===(a=c.task)||void 0===a?void 0:a.state)===v.STATE.PROGRESS){t.next=26;break}return t.abrupt("return");case 26:if(f||!l){t.next=28;break}return t.abrupt("return");case 28:u(f||v.ACTION.new_book),e.taskStateChanged({isProcess:s.isProcess||i,step:1,stage:f||v.ACTION.new_book,taskId:v.TASK_ID.NOVICE_OFFER});case 30:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){var t=Pe(xe().mark((function t(){var n,o,a,i,c,l;return xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.webProxy.userTask.find({task_id:v.TASK_ID.NOVICE_OFFER});case 2:if((i=t.sent)&&i.task){t.next=6;break}return e.clearTaskStateInfo(),t.abrupt("return");case 6:c=(null===(n=i.taskRecords)||void 0===n||null===(o=n.pop)||void 0===o||null===(a=o.call(n))||void 0===a?void 0:a.action)||null,r!==c&&(M(c),(l=Object(ue.b)(v.TASK_ID.NOVICE_OFFER,c,1))&&setTimeout((function(){var t;u(l),M(null),e.taskStateChanged({isProcess:(null==i||null===(t=i.task)||void 0===t?void 0:t.state)===v.STATE.PROGRESS,stage:l,step:1,taskId:v.TASK_ID.NOVICE_OFFER}),w.a.set("".concat(Ne,"_").concat(v.TASK_ID.NOVICE_OFFER,"_").concat(c,"_").concat(U.id),1)}),2e3));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),H=function(){var t=Pe(xe().mark((function t(){return xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.webProxy.userTask.destroy({task_id:v.TASK_ID.NOVICE_OFFER});case 2:i.a.success(__("放弃成功")),x(!1),E(!1),e.closeAllTask(),e.clearTaskStateInfo(),e.giveUpSuccess();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Y=function(){var e=Pe(xe().mark((function e(){var t,r;return xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!1),e.next=3,b.webProxy.userTask.archieve({task_id:v.TASK_ID.NOVICE_OFFER,action:v.ACTION.download_desktop});case 3:t=["#F3C52F","#00B96B"],r=Date.now()+1e3,function e(){s({particleCount:2,angle:60,spread:55,origin:{x:0},colors:t,zIndex:999999}),s({particleCount:2,angle:120,spread:55,origin:{x:1},colors:t,zIndex:999999}),Date.now()<r&&requestAnimationFrame(e)}(),I(!0),E(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(t){e.closeAllTask(),E(!1),t&&t.stopPropagation()},Q=function(){var t=Pe(xe().mark((function t(n){var o,a,i;return xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.action===r){t.next=2;break}return t.abrupt("return");case 2:if(n.action!==v.ACTION.new_book){t.next=7;break}"/dashboard"===window.location.pathname?e.shake({taskId:v.TASK_ID.NOVICE_OFFER,stage:v.ACTION.new_book,step:1}):window.location.href="/dashboard",t.next=23;break;case 7:if(n.action!==v.ACTION.new_doc){t.next=22;break}if(Object(ue.d)("doc_read")){t.next=19;break}return t.next=12,b.webProxy.mine.commonUsed({},{useOriginResp:!0});case 12:if(o=t.sent,null!=(a=o.data.books)&&a.length){t.next=16;break}return t.abrupt("return");case 16:window.location.href=a[0].url,t.next=20;break;case 19:e.shake({taskId:v.TASK_ID.NOVICE_OFFER,stage:v.ACTION.new_doc,step:1});case 20:t.next=23;break;case 22:n.action===v.ACTION.new_note&&(i=e.getTaskStateInfo(),e.shake({taskId:v.TASK_ID.NOVICE_OFFER,stage:v.ACTION.new_note,step:i.step}));case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Z=function(e){return e.action===r?null:Object(ue.a)(v.TASK_ID.NOVICE_OFFER,e.action,r)?__("请先完成当前任务"):__("任务已完成")};return l.a.createElement(l.a.Fragment,null,F&&l.a.createElement(ce,{cb:V}),_&&l.a.createElement("div",{className:se},l.a.createElement("div",{className:fe},l.a.createElement("p",{className:de},__("快速上手，得 30 天会员奖励 🎁")),l.a.createElement("p",{className:pe},__("欢迎使用语雀，参考页面上的提示即可轻松完成新手任务，领取会员奖励")),l.a.createElement(h.b,{onClick:K,name:"Close",width:16,className:he})),l.a.createElement("div",{className:me},q.map((function(e,t){var n,i;return l.a.createElement(o.a,{title:Z(e)},2!==t||window.location.pathname.includes("dashboard/notes")?l.a.createElement("div",{className:p()(ye,(i={},je(i,Se,r===e.action),je(i,Ee,Object(ue.a)(v.TASK_ID.NOVICE_OFFER,e.action,r)),i)),onClick:function(){Q(e)}},r===e.action&&l.a.createElement("img",{className:ve,src:"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*AqubTJt0SKEAAAAAAAAAAAAADvuFAQ/original",alt:""}),l.a.createElement(h.b,{name:e.icon,className:Oe}),l.a.createElement("span",{className:be},e.name),R!==r&&!(null==e||!e.option)&&r===e.action&&l.a.createElement("div",{className:_e},l.a.createElement(a.a,{onClick:e.option.handler,type:"text"},e.option.label)),(R===r&&r===e.action||N===e.action)&&l.a.createElement("img",{className:ge,src:z?"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*vZ9iQ4YUYNgAAAAAAAAAAAAADvuFAQ/original":"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*pkUCQ7pUvCsAAAAAAAAAAAAADvuFAQ/original"}),N!==e.action&&R!==e.action&&Object(ue.a)(v.TASK_ID.NOVICE_OFFER,r,e.action)&&l.a.createElement(h.b,{className:we,name:"Success"})):l.a.createElement(g.a,{content:[__("点击此处开始创建「小记」")],placement:"left",taskId:v.TASK_ID.NOVICE_OFFER,stage:v.ACTION.new_note,step:1,width:312,height:60,borderRadius:8,offsetY:272,offsetX:24,popWidth:218,action:"click",popMarginLeft:4},l.a.createElement("div",{className:p()(ye,(n={},je(n,Se,r===e.action),je(n,Ee,Object(ue.a)(v.TASK_ID.NOVICE_OFFER,e.action,r)),n)),onClick:function(){window.location.assign("/dashboard/notes")}},r===e.action&&l.a.createElement("img",{className:ve,src:"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*AqubTJt0SKEAAAAAAAAAAAAADvuFAQ/original",alt:""}),l.a.createElement(h.b,{name:e.icon,className:Oe}),l.a.createElement("span",{className:be},e.name),R!==r&&!(null==e||!e.option)&&r===e.action&&l.a.createElement("div",{className:_e},l.a.createElement(a.a,{onClick:e.option.handler,type:"text"},e.option.label)),(R===r&&r===e.action||N===e.action)&&l.a.createElement("img",{className:ge,src:z?"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*vZ9iQ4YUYNgAAAAAAAAAAAAADvuFAQ/original":"https://mdn.alipayobjects.com/huamei_0prmtq/afts/img/A*pkUCQ7pUvCsAAAAAAAAAAAAADvuFAQ/original"}),N!==e.action&&R!==e.action&&Object(ue.a)(v.TASK_ID.NOVICE_OFFER,r,e.action)&&l.a.createElement(h.b,{className:we,name:"Success"}))))})))),l.a.createElement(n.a,{visible:S,width:550,footer:null,onCancel:Y},l.a.createElement($,null)),l.a.createElement(n.a,{className:Ae,visible:j,width:550,footer:null,onCancel:function(){x(!1)}},l.a.createElement(te,{handleConfirm:H,handleClose:function(){x(!1)}})),l.a.createElement(n.a,{className:Ae,visible:P,width:550,footer:null,onCancel:function(){I(!1),e.closeAllTask(),e.clearTaskStateInfo(),window.location.reload()}},l.a.createElement(re.a,{handleConfirm:function(){var e,t;null===(e=window.__member_message_ref)||void 0===e||null===(t=e.current)||void 0===t||t.showMemberIntro(y.LIMIT_SCENE.member_incentive,{isRenew:!1})},handleClose:function(){window.location.reload(),I(!1),e.closeAllTask(),e.clearTaskStateInfo()}})))}},4728:function(e,t,r){"use strict";r.d(t,"a",(function(){return G}));r(782);var n=r(379),o=(r(42),r(9)),a=r(0),i=r(216),c=r(705),l=(r(1011),r(708)),u=(r(163),r(37)),s=(r(151),r(66)),f=(r(41),r(10)),d=(r(71),r(31)),p=r(5),h=r.n(p),m=r(469),y=r(11),v=r(3399),b=r(32),g=r(53),w=r(419),_=r(1398),E=r(3323),O=r(3764),S=r(3763),A=r(3377),k=r(229),j=r(51),x={popover:"index-module_popover_qKMQ0",shareIcon:"index-module_shareIcon_2tsVL",cardArea:"index-module_cardArea_4ySac",radioOption:"index-module_radioOption_QzUCq",disabledOption:"index-module_disabledOption_6kUkH",showMemberIntroRadio:"index-module_showMemberIntroRadio_uYnQm",tooltip:"index-module_tooltip_ck55t",memberAbleIcon:"index-module_memberAbleIcon_cDHHk"};function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(){N=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new I(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(T([])));E&&E!==r&&n.call(E,i)&&(w=E);var O=g.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==C(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=j(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(C(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function L(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function D(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){L(a,n,o,i,c,"next",e)}function c(e){L(a,n,o,i,c,"throw",e)}i(void 0)}))}}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B=function(e){var t,r,n,o,i=e.doc,c=e.book,p=e.group,C=e.organization,P=e.me,L=Object(m.e)(),M=R(d.a.useModal(),2),B=M[0],F=M[1],G=R(a.useState(!1),2),z=G[0],U=G[1],q=a.useMemo((function(){return Object(_.d)(i,w.b.DOC,p,c)}),[i,p,c]).privacy,W=a.useMemo((function(){var e=null!=C&&C.id?w.a.ORG:w.a.PERSON;return Object(k.a)()?e:w.a.INTERNAL}),[C]),V=!(!C||null==C||!C.id),H=Object(A.a)(),Y=null===(t=window.appData)||void 0===t||null===(r=t.settings)||void 0===r?void 0:r.user_certifications_share_scale,K=null===(n=window.appData)||void 0===n||null===(o=n.settings)||void 0===o?void 0:o.user_certifications_share_whitelist,Q=Object(O.a)(Y)||K.includes(String(P.id)),Z=a.useMemo((function(){var e=H.interests[g.INTEREST_CODE.create_public_resource];return e||V||!Q||(e=!0),e}),[p]),X=function(){var e;null===(e=window.__member_message_ref)||void 0===e||e.current.showMemberIntro(b.LIMIT_SCENE.share_public)},J=function(){if(!(null!=C&&C.id||"User"!==(null==p?void 0:p.type)||Z))return p.id===P.id?__("会员可公开内容至互联网 {btn}",{btn:a.createElement("a",{onClick:X,style:{marginLeft:"5px"}},__("购买会员"))}):__("联系知识库所有者购买会员可公开内容至互联网")},$=function(){var e=D(N().mark((function e(t){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.enable_auto_publish){e.next=2;break}return e.abrupt("return",!0);case 2:if("public"in t&&t.public!==y.PRIVACY.private){e.next=4;break}return e.abrupt("return",!0);case 4:if(i.published_at){e.next=7;break}return f.a.warn(__("文档发布后才可以公开!")),e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=D(N().mark((function e(t){var r,n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=I(I({},t),{},{id:i.id}),e.next=3,j.a.docs.updateMeta(r,{ignoreGlobalMessage:!0});case 3:n=e.sent,L({type:"doc/update",payload:{public:n.public,share_expired_time:n.share_expired_time}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=D(N().mark((function e(t){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==y.PRIVACY.public||Z){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,U(!0),e.next=6,Object(S.a)(t,w.b.DOC,i,H,B,$,ee,q);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),f.a.error((null===e.t0||void 0===e.t0?void 0:e.t0.message)||__("操作失败"));case 11:return e.prev=11,U(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])})));return function(t){return e.apply(this,arguments)}}();return a.createElement("div",{className:x.cardArea},a.createElement(u.a.Group,{buttonStyle:"solid",value:q===y.PRIVACY.private&&c.extend_private===y.EXTEND_PRIVATE.BIND_DEPARTMENTS?y.EXTEND_PRIVATE_MAP_TO_PRIVACY_VALUE:q,onChange:function(e){return te(e.target.value)}},a.createElement(l.a,{direction:"vertical",size:16,style:{display:"flex"}},E.a[W].actions.map((function(e){var t,r;if(W===w.a.INTERNAL){if(e.value===y.EXTEND_PRIVATE_MAP_TO_PRIVACY_VALUE&&c.extend_private===y.EXTEND_PRIVATE.NONE)return null;if(e.value===y.PRIVACY.private&&c.extend_private===y.EXTEND_PRIVATE.BIND_DEPARTMENTS)return null}var n=e.value===y.PRIVACY.public&&!Z,o=a.createElement(a.Fragment,null,a.createElement("span",{className:x.label},e.label),e.value===y.PRIVACY.public&&!Z&&a.createElement(v.a,{className:x.memberAbleIcon,noTooltip:!0,group:p,organization:C,isYuque:Object(k.a)()}));W===w.a.PERSON&&n&&(o=a.createElement("span",{onClick:X},o));var i=n||z;return a.createElement(u.a,{key:"docPublicSet-".concat(e.value),value:e.value,disabled:i,className:h()(x.radioOption,(t={},T(t,x.disabledOption,n),T(t,x.showMemberIntroRadio,W===w.a.PERSON&&n),t))},n?a.createElement(s.a,{overlayClassName:x.tooltip,title:a.createElement(a.Fragment,null,W===w.a.ORG&&a.createElement("span",null,null===(r=e.tip)||void 0===r?void 0:r.call(e,C)),W===w.a.PERSON&&a.createElement("span",null,J())),placement:"right",autoAdjustOverflow:!0},o):o)})))),F)},F=function(e){var t=e.doc,r=e.book,i=e.group,l=e.organization,u=e.me,s=e.canShare,f=e.style;return a.createElement(a.Fragment,null,s?a.createElement(n.a,{overlayClassName:x.popover,content:a.createElement(B,{doc:t,book:r,group:i,organization:l,me:u}),trigger:["click"],placement:"bottom",destroyTooltipOnHide:!0,noArrow:!0},a.createElement(o.a,{type:"text",className:x.shareIcon,style:f,icon:a.createElement(c.b,{book:r,group:i,doc:t,organization:l,onlyIcon:!0})})):a.createElement(c.b,{book:r,group:i,doc:t,organization:l}))},G=function(e){var t=e.doc,r=e.book,n=e.group,o=e.organization;return a.createElement(i.a,{withFallbackUI:!0,noMessage:!0,fallbackUI:function(){return a.createElement(c.b,{book:r,group:n,doc:t,organization:o})}},a.createElement(F,e))}},4729:function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));r(41);var n=r(10),o=r(0),a=r.n(o),i=r(45),c=r(5),l=r.n(c),u=r(216),s=r(4222),f=r(4600),d=r(724),p=r(3637),h=r(1401),m={iconWrapper:"style-module_iconWrapper_bAMkc",editMode:"style-module_editMode_Qtazl",editModeActive:"style-module_editModeActive_qdlNh",icon:"style-module_icon_ucXPM",iconEditMode:"style-module_iconEditMode_55y65",disabled:"style-module_disabled_4E4EI",container:"style-module_container_5pQ7D",switchContent:"style-module_switchContent_FKoVH",switchActiveBg:"style-module_switchActiveBg_3DMlv",commentActive:"style-module_commentActive_dTftF",moreFeatureActive:"style-module_moreFeatureActive_zPkBd",isPrevNotActive:"style-module_isPrevNotActive_xWwFe"};function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w={WordingComment:f.a.WordingComment,SideComment:f.a.SideComment,MoreFeature:f.a.MoreFeature,Outline:f.a.Outline};function _(){}var E=function(e){var t=e.enableComment,r=e.docType,n="Doc"===r,i=b(Object(o.useState)(null),2),c=i[0],l=i[1],f=Object(s.b)().sidePanelManager;return Object(o.useEffect)((function(){var e=f.subscribe((function(e){var t=e.currentPanel;e.visible?"EditDocMeta"===t||"Review"===t||"DocStyle"===t?l("MoreFeature"):t!==c&&l("MoreFeature"===t||"WordingComment"===t||"SideComment"===t||null===t?t:null):l(null)}));return function(){e()}}),[c]),a.a.createElement(u.a,{withFallbackUI:!0,noMessage:!0,fallbackUI:function(){return a.a.createElement(O,{enableComment:t,isWordingComment:n,onTabClick:_,docType:r})}},a.a.createElement(O,{sidePanelManager:f,enableComment:t,isWordingComment:n,activeTab:c,onTabClick:function(e){c===e?(l(null),f.hide()):(l(e),f.show(e))},docType:r}))};function O(e){var t,r=e.activeTab,o=e.onTabClick,c=e.enableComment,u=e.isWordingComment,s=e.sidePanelManager,f=e.docType,y=null===Object(d.a)(r),b=Object(p.c)().editMode;return b&&"Table"!==f?a.a.createElement("div",{className:l()(m.iconWrapper,m.editMode,v({},m.editModeActive,r===w.MoreFeature)),onMouseOver:function(){s&&s.getPanelContent("MoreFeature").preload&&s.getPanelContent("MoreFeature").preload()},onClick:function(){return o(w.MoreFeature)}},a.a.createElement(i.b,{name:"Rightboard",className:m.iconEditMode})):a.a.createElement("div",{className:l()(m.container,(t={},v(t,m.commentActive,r===w.WordingComment||r===w.SideComment),v(t,m.moreFeatureActive,r===w.MoreFeature),v(t,m.isPrevNotActive,y),t))},a.a.createElement("div",{className:m.switchActiveBg}),a.a.createElement("div",{className:m.switchContent},a.a.createElement(h.a,null,a.a.createElement("div",{className:l()(m.iconWrapper,v({},m.disabled,!c)),onMouseOver:function(){s&&s.getPanelContent("SideComment").preload&&s.getPanelContent("SideComment").preload()},onClick:function(){c?b&&"Table"!==f?n.a.info(__("编辑模式暂不支持划词评论")):o(u?w.WordingComment:w.SideComment):n.a.info(__("请开启知识库设置中的评论功能"))}},a.a.createElement(i.b,{name:"CommentReply",className:m.icon}))),a.a.createElement("div",{className:m.iconWrapper,onMouseOver:function(){s&&s.getPanelContent("MoreFeature").preload&&s.getPanelContent("MoreFeature").preload()},onClick:function(){return o(w.MoreFeature)}},a.a.createElement(i.b,{name:"Rightboard",className:m.icon}))))}},4736:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(45),i=r(3598),c="QuickStart-module_noviceTip_ZaXro",l="QuickStart-module_noviceTipClose_Gq3cV";function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(){var e=u(Object(n.useState)(!1),2),t=e[0],r=e[1],s=i.a.getInstance(),f=s.getTaskStateInfo();return Object(n.useEffect)((function(){!1===(null==f?void 0:f.isProcess)&&r(!0),s.onCloseAllTask((function(){r(!0)})),s.onGiveUpTaskSuccess((function(){r(!1)}))}),[]),t?o.a.createElement("div",{className:c,onClick:function(){s.wakeUp(),r(!1)}},o.a.createElement(a.b,{name:"IconRemoveSolid",width:18,className:l,onClick:function(e){s.giveUpTask(),e.stopPropagation()}}),o.a.createElement("span",null,"💡 ".concat(__("快速上手")))):null}},4745:function(e,t,r){"use strict";r(151);var n=r(66),o=r(0),a=r.n(o),i=r(2),c=r.n(i),l=r(45),u=r(14),s=r.n(u),f=r(260),d="index-module_saveTip_xnDOu";function p(e){var t=e.doc,r=e.saving,o=e.mode,i=e.autoPublish,c=e.showHistory,u=e.savedAt,p=function(){if(!0===r)return e.showTime?a.a.createElement("span",null,i?__("正在保存并发布..."):__("正在保存...")):a.a.createElement("span",null,__("保存中..."));if(u){if(!e.showTime)return a.a.createElement("span",null,__("已保存"));var n=s()(u).format("H:mm:ss");return i?a.a.createElement("span",null,__("保存并发布于 {time}",{time:n})):a.a.createElement("span",null,__("保存于 {time}",{time:n}))}return e.showTime?t.last_editor&&0===t.status?"embed"===o?a.a.createElement("span",null,__("最后更改于 {time}",{time:a.a.createElement(f.a,{time:t.content_updated_at})})):a.a.createElement("span",null,__("{name} 最后更改于 {time}",{name:a.a.createElement("a",{href:"/".concat(t.last_editor.login),target:"_blank"},t.last_editor.name),time:a.a.createElement(f.a,{time:t.content_updated_at})})):t.content_updated_at?a.a.createElement("span",null,__("最后更改于{time}",{time:a.a.createElement(f.a,{time:t.content_updated_at})})):null:null}(),h=a.a.createElement("span",{className:d,onClick:function(e){return function(e){var t;"a"!==(null===(t=e.target)||void 0===t?void 0:t.tagName.toLowerCase())&&c&&c()}(e)}},p,a.a.createElement(l.b,{name:"cloud",width:16}));return p&&c?a.a.createElement(n.a,{title:__("查看历史版本"),trigger:["hover","click"],placement:"bottom"},h):h}p.defaultProps={showTime:!0},p.propTypes={saving:c.a.bool,savedAt:c.a.instanceOf(Date),autoPublish:c.a.bool,doc:c.a.object,mode:c.a.string,book:c.a.object,showTime:c.a.bool,showHistory:c.a.func};t.a=p},4763:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"c",(function(){return i}));var n=480,o=259,a=0,i=991},4764:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(198);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var s=function(e){try{return JSON.parse(e)}catch(e){return{}}},f=function(){function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{tab:"Catalog",sort:"content_updated_at"};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fallbackValue=o,l(this,"namespace","ACTIVE_TAB_KEY"),l(this,"key",void 0),this.key="".concat(t.id,"/").concat(r.id,"/").concat(n.id)}var t,r,o;return t=e,(r=[{key:"getValue",value:function(){return(s(n.a.get(this.namespace))||{})[this.key]||this.fallbackValue}},{key:"setValue",value:function(e){var t=s(n.a.get(this.namespace))||{};t[this.key]=i(i(i({},this.fallbackValue),t[this.key]||{}),e),n.a.set(this.namespace,JSON.stringify(t))}},{key:"getTab",value:function(){var e,t;return null!==(e=null===(t=this.getValue())||void 0===t?void 0:t.tab)&&void 0!==e?e:this.fallbackValue.tab}},{key:"setTab",value:function(e){this.setValue({tab:e})}},{key:"getSort",value:function(){var e,t;return null!==(e=null===(t=this.getValue())||void 0===t?void 0:t.sort)&&void 0!==e?e:this.fallbackValue.sort}},{key:"setSort",value:function(e){this.setValue({sort:e})}}])&&c(t.prototype,r),o&&c(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},4778:function(e,t,r){"use strict";r.r(t);r(41);var n=r(10),o=(r(489),r(98)),a=r(0),i=r.n(a),c=r(1869),l=r(1893),u=r(1922),s=r(1870),f=r(1720),d=r(3787),p=r(4155),h=r(1431),m=r(53),y=r(702),v=r(51),b=r(3728),g=r(506),w={bookOverviewMoreActionsOverlay:"bookOverviewMoreSetting-module_bookOverviewMoreActionsOverlay_LvPUV",memberIcon:"bookOverviewMoreSetting-module_memberIcon_2acB1",actionIconDelete:"bookOverviewMoreSetting-module_actionIconDelete_XULUN",actionTextDelete:"bookOverviewMoreSetting-module_actionTextDelete_LtGB1"};function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function E(){E=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:x(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var O=Object.getPrototypeOf,S=O&&O(O(N([])));S&&S!==r&&n.call(S,i)&&(w=S);var A=g.prototype=v.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==_(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function x(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(_(t)+" is not iterable")}return b.prototype=g,o(A,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},k(j.prototype),u(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(A),u(A,l,"Generator"),u(A,i,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function O(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){O(a,n,o,i,c,"next",e)}function c(e){O(a,n,o,i,c,"throw",e)}i(void 0)}))}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.default=function(e){var t,r,a,_,O=e.book,k=e.group,j=e.showBasicSettings,x=void 0===j||j,C=e.showMoreSettings,P=void 0===C||C,I=e.showDelete,T=void 0!==I&&I,N=window.appData.organization;if(!O.abilities)return null;var L=null===(t=O.abilities)||void 0===t?void 0:t.create_doc,D=null===(r=O.abilities)||void 0===r?void 0:r.read_private,R=null===(a=O.abilities)||void 0===a?void 0:a.manage,M=null===(_=O.abilities)||void 0===_?void 0:_.destroy,B=A(i.a.useState(!1),2),F=B[0],G=B[1];function z(){return(z=S(E().mark((function e(){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.books.destroy({id:O.id});case 3:n.a.success(__("操作成功"),3),G(!1),setTimeout((function(){window.location.href="/dashboard"}),300),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.a.error(__("操作失败"),3);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return D?i.a.createElement(h.a,{direction:"horizontal",className:e.className,overlayClassName:w.bookOverviewMoreActionsOverlay,getPopupContainer:e.getPopupContainer||function(e){return e.parentNode},placement:e.placement||"bottomLeft",isMenuType:!1,content:i.a.createElement(o.a,{selectable:!1,mode:"vertical"},e.prepend,(P||x)&&[{key:"permission",href:"/r/".concat(k.login,"/").concat(O.slug,"/collaborators"),icon:i.a.createElement(c.default,{width:16,height:16,className:w.actionIcon}),name:__("权限"),enabled:D&&x},{key:"statistics",href:"/r/".concat(k.login,"/").concat(O.slug,"/statistics"),icon:i.a.createElement(l.default,{width:16,height:16,className:w.actionIcon}),name:__("统计"),enabled:R&&x},{key:"toc",href:"/r/".concat(k.login,"/").concat(O.slug,"/toc"),icon:i.a.createElement(u.default,{width:16,height:16,className:w.actionIcon}),name:__("目录管理"),enabled:L&&x},{key:"setting",href:"/".concat(k.login,"/").concat(O.slug,"/settings/basic"),icon:i.a.createElement(s.default,{width:16,height:16,className:w.actionIcon}),name:__("更多设置"),enabled:L&&P}].map((function(e){if(!e.enabled)return null;var t="statistics"===e.key;return i.a.createElement(o.a.Item,{key:e.key,onClick:S(E().mark((function r(){return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t||p.a.hasAbility()){r.next=3;break}return p.a.showMemberIntro(),r.abrupt("return");case 3:Object(g.b)({targetUrl:e.href,isNewWindow:!0,parent:"main"},(function(){Object(y.c)(e.href,{page:"bookManage"})}));case 4:case"end":return r.stop()}}),r)}))),icon:e.icon},i.a.createElement("span",{"data-setting-url":e.href},e.name),t&&i.a.createElement(b.a,{className:w.memberIcon,group:k,code:m.INTEREST_CODE.book_statistics,organization:N}))})),T&&M&&i.a.createElement(i.a.Fragment,null,i.a.createElement(o.a.Divider,{key:"divider-1"}),i.a.createElement(o.a.Item,{key:"delete",icon:i.a.createElement(f.default,{width:16,height:16,className:w.actionIconDelete}),onClick:function(){return G(!0)}},i.a.createElement("span",{className:w.actionTextDelete},__("删除"))),F&&i.a.createElement(d.a,{visible:F,book:O,onDelete:function(){return z.apply(this,arguments)},closeModal:function(){G(!1)}})))}):null}},4844:function(e,t,r){"use strict";var n=r(955),o=r.n(n),a=(r(151),r(66)),i=(r(782),r(379)),c=(r(41),r(10)),l=r(491),u=r.n(l),s=r(825),f=r.n(s),d=r(0),p=r.n(d),h=r(62),m=r.n(h),y=r(2),v=r.n(y),b=r(5),g=r.n(b),w=r(35),_=r(469),E=r(3585),O=r.n(E),S=r(242),A=r.n(S),k=r(3595),j=r(714),x=r(1615),C=r(1624),P=r(1919),I=r(45),T=r(1219),N=r(4224),L=r(461),D=r(251),R=r(500),M=r(4836),B=r(24),F=r(3530),G=r(1006),z=r(1259),U=r(1),q=r(244),W=r(4552),V=r(4196),H=r(4563),Y=r(4595),K=r(4665),Q=r(787),Z=r(1490),X=r(3982),J=r(3593),$=r(3614),ee=r(3590),te=r(4719),re=r(4763),ne=r(1943),oe=r(4538),ae=r(11),ie=r(3663),ce=r(51),le=r(3702),ue=r(4594),se=r(3637),fe=r(1401),de=r(702),pe=r(3501),he=r(1923),me=r(951),ye="index-module_netStatus_6tuRA";function ve(){return Object(me.b)()?null:p.a.createElement("div",{className:ye},p.a.createElement("span",null,__("网络断开，当前是离线版本")),p.a.createElement(he.default,{width:16,height:16}))}var be=r(1434),ge={netStatus:"index-module_netStatus_p3BrJ"};function we(e){var t;return"offline"===e.netStatus&&(t=p.a.createElement(p.a.Fragment,null,p.a.createElement(be.default,null),p.a.createElement("span",{className:""},__("断网状态下不支持编辑")))),p.a.createElement("div",{className:ge.netStatus},t)}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oe(){var e=_e(Object(d.useState)(""),2),t=e[0],r=e[1];return Object(d.useEffect)((function(){function e(){r("offline")}function t(){r("")}return window.addEventListener("offline",e),window.addEventListener("online",t),function(){window.removeEventListener("offline",e),window.removeEventListener("online",t)}}),[]),p.a.createElement(we,{netStatus:t})}var Se=r(4745),Ae="index-module_text_fdCRQ";function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xe(e){var t=e.editable,r=e.doc,n=ke(Object(d.useState)(!1),2),o=n[0],a=n[1],i=ke(Object(d.useState)(null),2),c=i[0],l=i[1],u=ke(Object(d.useState)(""),2),s=u[0],f=u[1];return Object(d.useEffect)((function(){function e(){f("offline")}function t(){f("")}function r(e){var t=e.detail,r=t.type,n=t.payload;"savingChanged"===r?a(n):"savedAtChanged"===r&&(l(n),a(!1))}return window.addEventListener("offline",e),window.addEventListener("online",t),window.addEventListener("table_sync_change",r),function(){window.removeEventListener("offline",e),window.removeEventListener("online",t),window.removeEventListener("table_sync_change",r)}}),[]),t?"offline"===s?null:o||c?p.a.createElement(Se.a,{doc:r,saving:o,savedAt:c,showHistory:!1,showTime:!1,autoPublish:!0}):p.a.createElement("span",{className:Ae},__("数据表当前页可直接编辑")):null}var Ce=r(211),Pe=r.n(Ce),Ie=r(490),Te={avatar:"index-module_avatar_A3sqR",name:"index-module_name_Qc35G",sign:"index-module_sign_d9jTU",signInner:"index-module_signInner_y+xaX",more:"index-module_more_k7ofk",moreUsers:"index-module_moreUsers_sk4Xt"};function Ne(e){var t=e.user;return p.a.createElement("span",{className:Te.avatar},p.a.createElement(Ie.a,{src:t.avatar_url,name:t.name,size:24}),t.color&&p.a.createElement("span",{className:Te.sign},p.a.createElement("div",{className:Te.signInner,style:{background:t.color}})))}function Le(e){var t=e.users,r=e.me,n=e.maxUsersToShow,o=void 0===n?9:n,c=[],l=[];return t.length<=o?c=t.slice(0,t.length):(c=t.slice(0,o),l=t.slice(o)),p.a.createElement(p.a.Fragment,null,c.map((function(e){return p.a.createElement(a.a,{title:e.name,key:e.id},p.a.createElement("span",null,p.a.createElement(Ne,{user:e})))})),l.length>0&&p.a.createElement(i.a,{placement:"bottom",content:p.a.createElement("ul",{className:Te.moreUsers},l.map((function(e){return p.a.createElement("li",{key:e.id},p.a.createElement(Ne,{user:e}),p.a.createElement("a",{href:"/".concat(e.login),className:Te.name,target:"_blank"},e.name))})))},p.a.createElement("a",{className:"".concat(Te.avatar," ").concat(Te.more)},"+",l.length)),p.a.createElement(a.a,{title:e.onlyMeTip||(0===t.length?__("语雀已支持多人同时编辑文档，当前编辑者的头像将显示在此"):__("我")),overlayStyle:{minWidth:"24px",width:e.onlyMeTip||0!==t.length?"unset":"192px"}},p.a.createElement("span",null,p.a.createElement(Ne,{user:r}))))}Le.propTypes={users:v.a.array.isRequired,me:v.a.object.isRequired,maxUsersToShow:v.a.number,onlyMeTip:v.a.string};var De=Le;function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Be(e){var t=e.me,r=e.doc,n=Re(Object(d.useState)([]),2),o=n[0],a=n[1],i=Pe()((null==o?void 0:o.filter((function(e){return e.id!==t.id})))||[],"login");return Object(d.useEffect)((function(){function e(e){a(e.detail)}return window.addEventListener("WORKFLOW_EVENT.collabUsersChange",e),function(){window.removeEventListener("WORKFLOW_EVENT.collabUsersChange",e)}}),[]),p.a.createElement(De,{users:i,me:t,maxUsersToShow:"Table"===r.type?5:9,onlyMeTip:"Table"===r.type?__("我"):void 0})}r(42);var Fe=r(9),Ge=r(816),ze=r.n(Ge),Ue=r(3493);function qe(e){var t=e.book,r=e.doc,n=Object(se.c)(),o=n.editMode,i=n.setEditMode;if(Object(d.useEffect)((function(){var e=ze.a;if(!o){var t=new URLSearchParams(window.location.search);if("doc_embed"===t.get("view")||t.get("inner"))return;if("Thread"===r.type)return;r.abilities&&r.abilities.update&&(e=function(e){if("e"===e.key||"E"===e.key){var t=e.target;if("INPUT"===t.tagName)return;if("TEXTAREA"===t.tagName)return;if(t.isContentEditable&&!t.classList.contains("textarea-cell"))return;if(B.g&&"markdown"===(r.origin_format||r.format))return;"Sheet"===r.type||"Table"===r.type?Ue.c.saveSheetPosition(r.id):Ue.c.saveReadPosition(r.id),B.g&&Object(se.b)("get",r.slug)&&Object(se.b)("save",r.slug,!1),i(!0),Object(q.a)("start","hotkeyE")}},window.addEventListener("keyup",e,!0))}return function(){window.removeEventListener("keyup",e,!0)}}),[o,r.id]),!o)return p.a.createElement(a.a,{title:p.a.createElement("p",{style:{textAlign:"center"}},__("编辑")+__("：")+__("E")),placement:"bottom"},p.a.createElement(Fe.a,{type:"primary",onClick:function(){B.g&&Object(se.b)("get",r.slug)&&Object(se.b)("save",r.slug,!1),i(!0),Object(q.a)("start","editButton")}},__("编辑")));var c="inline_block";return B.g&&null!=t&&t.enable_auto_publish&&o&&(c="none"),p.a.createElement("div",{id:"publishButtonContainer",style:{marginRight:8,display:c}})}var We=r(4608),Ve=(r(56),r(12)),He="index-module_nameTitle_PZiLN",Ye="index-module_editable_7Jdyy";function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ze=__("无标题"),Xe=function(e){var t=e.editable,r=e.title,n=e.saveTitle,o=Ke(Object(d.useState)(!1),2),a=o[0],i=o[1],c=Ke(Object(d.useState)(r||Ze),2),l=c[0],u=c[1],s=Object(d.useRef)(l),f=Object(d.useCallback)((function(){var e=s.current||Ze;n(e),u(e),s.current=e,i(!1)}),[n]);Object(d.useEffect)((function(){r!==s.current&&(u(r||Ze),s.current=r||Ze)}),[r]);var h=Object(d.useCallback)((function(e){u(e.target.value),s.current=e.target.value}),[]),m=Object(d.useCallback)((function(e){a&&e.target.select()}),[a]),y=Object(d.useCallback)((function(){t&&i(!0)}),[t]);return a?p.a.createElement(Ve.a,{autoFocus:!0,type:"text",maxLength:128,style:{width:200},value:l,onChange:h,onFocus:m,onBlur:f,onPressEnter:f}):p.a.createElement("span",{className:"".concat(He," ").concat(t?Ye:""),title:l,onClick:y},l)},Je=r(4202),$e=r(3879),et=r(4312),tt=r(4728),rt=r(4729),nt=r(4181),ot=r(4058);function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function it(){return it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},it.apply(this,arguments)}function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){vt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ut(){ut=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==r&&n.call(E,i)&&(w=E);var O=g.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==at(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=j(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(at(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function st(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function ft(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){st(a,n,o,i,c,"next",e)}function c(e){st(a,n,o,i,c,"throw",e)}i(void 0)}))}}function dt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bt(n.key),n)}}function pt(e,t){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pt(e,t)}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=yt(e);if(t){var o=yt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===at(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mt(e)}(this,r)}}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yt(e)}function vt(e,t,r){return(t=bt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bt(e){var t=function(e,t){if("object"!==at(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===at(t)?t:String(t)}var gt=Object(D.d)((function(){return r.e(1215).then(r.bind(null,5759))}),{suspense:!0}),wt=Object(D.d)((function(){return r.e(1227).then(r.bind(null,4984))}),{suspense:!0}),_t=Object(D.d)((function(){return r.e(1281).then(r.bind(null,3691))}),{suspense:!0}),Et=Object(D.b)((function(){return r.e(1243).then(r.bind(null,1329)).then((function(e){return e.default.Login}))}),{suspense:!0}),Ot=Object(D.b)((function(){return Promise.all([r.e(0),r.e(1),r.e(8),r.e(1294)]).then(r.bind(null,3723)).then((function(e){return e.ShareButton}))}),{suspense:!0}),St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}(i,e);var t,r,n,o=ht(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return vt(mt(e=o.call.apply(o,[this].concat(r))),"handleGetPopupContainer",(function(){return document.getElementById("headerOverlayContainer")})),vt(mt(e),"showContentReportEntry",(function(){var t=e.props,r=t.doc,n=t.book,o=t.group,a=t.me,i=window.appData,c=i.isPublicCloud,l=i.share;return c&&r.user_id!==a.id&&(Object(ie.a)(o,n,r)||Object(ie.b)(l,n,r))})),vt(mt(e),"isAnonymous",(function(){return!e.props.me.id})),vt(mt(e),"showEditEntry",(function(){if(window.appData.sharePage)return!1;var t=e.props,r=t.doc,n=t.version;return!e.isSingleDocMode()&&(!n&&("Thread"!==r.type&&"Table"!==r.type&&("html"!==r.format&&(r.abilities&&r.abilities.update))))})),vt(mt(e),"onChangeShare",function(){var t=ft(ut().mark((function t(r){var n;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce.a.docs.updateMeta(r,{ignoreGlobalMessage:!0});case 2:return n=t.sent,e.props.dispatch({type:"doc/update",payload:{public:n.public,password:n.password,indexed_level:n.indexed_level,share_expired_time:n.share_expired_time}}),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),vt(mt(e),"beforeShareUpdate",(function(t){var r=e.props,n=r.book,o=r.doc;return!!n.enable_auto_publish||(!("public"in t)||t.public===ae.PRIVACY.private||(!!o.published_at||(c.a.warn(__("文档发布后才可以公开!")),!1)))})),vt(mt(e),"handleWorkflowSaveTitle",(function(t){var r=t.detail;e.handleSaveTitle(r,{updateMeta:!1})})),vt(mt(e),"handleSaveTitle",function(){var t=ft(ut().mark((function t(r){var n,o,a,i,c,l=arguments;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(l.length>1&&void 0!==l[1]?l[1]:{updateMeta:!0}).updateMeta,o=e.props,a=o.doc,i=o.dispatch,c={id:a.id,title:r},!n){t.next=7;break}return t.next=7,ce.a.docs.updateMeta(c);case 7:i({type:"doc/update",payload:c}),ue.a.emit("rename",lt(lt({},c),{},{doc_id:c.id}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),vt(mt(e),"handleGetDocContent",(function(){var t,r,n=e.props,o=n.doc;return n.editMode&&"function"==typeof(null===(t=window)||void 0===t||null===(r=t.__engine)||void 0===r?void 0:r.getDocument)?window.__engine.getDocument("text/lake"):o.content})),e}return t=i,(r=[{key:"componentDidMount",value:function(){setTimeout((function(){gt.start(),wt.start(),_t.start()}),2e3),window.addEventListener("WORKFLOW_EVENT.saveTitle",this.handleWorkflowSaveTitle)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("WORKFLOW_EVENT.saveTitle",this.handleWorkflowSaveTitle)}},{key:"isSingleDocMode",value:function(){return"singleDoc"in this.props.location.query}},{key:"isNotReadBook",value:function(){var e,t;return!1===(null===(e=this.props.book)||void 0===e||null===(t=e.abilities)||void 0===t?void 0:t.read)}},{key:"showBackToToc",value:function(){var e,t,r=this.props,n=r.doc,o=r.book;return!r.version&&!!o&&this.isSingleDocMode()&&((null===(e=o.abilities)||void 0===e?void 0:e.read)||(null===(t=n.abilities)||void 0===t?void 0:t.update))}},{key:"showShareToDigitalGarden",value:function(){return!this.isSingleDocMode()&&Object(nt.a)(this.props)}},{key:"showShareEntry",value:function(){var e,t;if(window.appData.sharePage)return!1;var r=this.props,n=r.doc,o=r.version;return!this.isSingleDocMode()&&!o&&((null===(e=n.abilities)||void 0===e?void 0:e.share)||(null===(t=n.abilities)||void 0===t?void 0:t.create_collaborator))}},{key:"showShareCheckout",value:function(){var e;if(window.appData.sharePage)return!1;var t=this.props,r=t.doc,n=t.version;return!this.isSingleDocMode()&&!n&&(null===(e=r.abilities)||void 0===e?void 0:e.share)}},{key:"showCollaborationEntry",value:function(){if(window.appData.sharePage)return!1;var e=this.props,t=e.doc;return!e.version&&t.abilities&&t.abilities.create_collaborator}},{key:"showSkylinkEntry",value:function(){var e=this.props,t=e.doc;return!e.version&&["Doc","Board","Sheet"].includes(t.type)}},{key:"renderEdit",value:function(){var e=this.props,t=e.doc,r=e.book;if(this.showEditEntry()){var n=t.origin_format||t.format;return p.a.createElement("span",{className:"header-action-item",style:{marginLeft:8}},"markdown"!==n&&p.a.createElement(qe,{book:r,doc:t}),"markdown"===n&&p.a.createElement(We.a,{book:r,doc:t}))}return null}},{key:"render",value:function(){var e,t,r,n,o,i,c,l=this,u=this.props,s=u.book,f=u.group,d=u.me,h=u.doc,m=u.version,y=u.style,v=u.shouldHideLogo,b=u.shouldShowSeparator,w=u.showBreadcrumb,_=u.editMode,E=window.appData.organization,O=g()("header",this.props.className,[ot.a.wrapper],vt({"doc-version-head":!!m},ot.a.docTypeHead,"Doc"===h.type)),S={id:h.mark&&h.mark.id,target_id:h&&h.id,target_type:h.mark&&h.mark.target_type,action_tags:h.mark&&h.mark.action_tags},A=p.a.createElement(de.a,{to:"/dashboard",className:ot.a.yuqueLogo},p.a.createElement(pe.a,{height:16}));return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{id:"headerOverlayContainer",className:ot.a.headerOverlayContainer}),p.a.createElement("div",{id:"header",className:O,"data-header-mode":"title","data-aspm":"c36321",style:y},p.a.createElement("div",{className:"doc-head-inner"},p.a.createElement("div",{className:g()("header-crumb","title-visible",{"with-separator":b&&!B.c,"with-separator-desktop":b&&B.c,"only-doc-title":v&&!w})},h.loaded?h.error?null!==(i=h.error)&&void 0!==i&&i.docTitle?p.a.createElement("span",{className:"doc-title"},null==h||null===(c=h.error)||void 0===c?void 0:c.docTitle):null:p.a.createElement(p.a.Fragment,null,(l.isSingleDocMode()||l.isNotReadBook())&&A,p.a.createElement(Xe,{title:h.title,editable:null==h||null===(n=h.abilities)||void 0===n?void 0:n.update,saveTitle:l.handleSaveTitle}),p.a.createElement(fe.a,{buttonClassName:ot.a.offlineIcon},p.a.createElement(tt.a,{doc:h,book:s,group:f,organization:E,me:d,canShare:l.showShareCheckout()})),"Table"===(null==h?void 0:h.type)&&h.loaded&&p.a.createElement(Oe,null),"Table"===(null==h?void 0:h.type)&&h.loaded&&p.a.createElement("span",{style:{marginLeft:4}},p.a.createElement(xe,{doc:h,editable:null===(o=h.abilities)||void 0===o?void 0:o.update})),"Table"!==(null==h?void 0:h.type)&&h.loaded&&p.a.createElement("div",{style:{marginLeft:4}},p.a.createElement("div",{id:"docSaveTipContainer"})),"Doc"===(null==h?void 0:h.type)&&!_&&p.a.createElement(fe.a,{buttonClassName:ot.a.offlineButton},p.a.createElement(wt,{isTagMode:!0,showClose:!0})),"Table"!==(null==h?void 0:h.type)&&!_&&p.a.createElement(gt,{doc:h,showClose:!0}),!_&&p.a.createElement(_t,{doc:h,type:"Doc",tagMode:!0}),B.g&&!_&&p.a.createElement(ve,null)):null),p.a.createElement("div",{className:"header-action"},null!=h&&h.error?null:p.a.createElement(p.a.Fragment,null,h.id&&!m&&p.a.createElement(fe.a,{buttonClassName:ot.a.offlineButton},p.a.createElement("div",{className:ot.a.mark,"data-aspm-click":"d223108"},p.a.createElement(le.a,{key:"mark-doc-".concat(h.id,"-").concat(_),me:d,iconSize:20,target:S,targetType:"Doc",isMiniType:!0,getPopupContainer:this.handleGetPopupContainer}))),this.showCollaborationEntry()&&p.a.createElement(fe.a,{buttonClassName:ot.a.offlineButton},p.a.createElement("div",{className:ot.a.collaborate},p.a.createElement(Ot,{shareViewType:"DOC",key:"collaborator-doc-".concat(h.id,"-").concat(_),targetResource:h,organization:E,book:s,group:f,canCollaborator:null===(e=h.abilities)||void 0===e?void 0:e.create_collaborator,onlyCollaborator:!0,me:d,getPopupContainer:this.handleGetPopupContainer},p.a.createElement(a.a,{title:__("协作"),placement:"bottom"},p.a.createElement("span",{"data-testid":"doc-action-collaborate","data-aspm-click":"d225876",className:ot.a.iconWrapper},p.a.createElement(ne.default,{height:20,width:20})))))),"Doc"===h.type&&p.a.createElement(Je.b,{group:f,book:s,doc:h,getDocContent:this.handleGetDocContent}),this.showShareToDigitalGarden()&&(!_||"Table"===h.type)&&p.a.createElement(fe.a,{buttonClassName:ot.a.offlineButton},p.a.createElement(oe.a,{docId:h.id,currentUser:window.appData.me})),"Show"===h.type&&p.a.createElement("div",{className:[ot.a.collaborate,ot.a.playButton].join(" ")},p.a.createElement($e.a,null)),this.isAnonymous()&&p.a.createElement(fe.a,{buttonClassName:ot.a.offlineLargeSpaceButton},p.a.createElement(Et,{goto:window.location.href})),"Table"===h.type?p.a.createElement(Be,{doc:h,me:d}):p.a.createElement("div",{id:"collabUsersContainer"}),this.showBackToToc()&&p.a.createElement(fe.a,{buttonClassName:ot.a.offlineLargeSpaceButton},p.a.createElement(et.a,{doc:h,book:s,group:f})),this.showShareEntry()&&p.a.createElement(fe.a,{buttonClassName:ot.a.offlineLargeSpaceButton},p.a.createElement(Ot,{shareViewType:"DOC",key:"share-doc-".concat(h.id,"-").concat(_),targetResource:h,onChangeShare:this.onChangeShare,organization:E,book:s,group:f,me:d,canShare:null===(t=h.abilities)||void 0===t?void 0:t.share,canCollaborator:null===(r=h.abilities)||void 0===r?void 0:r.create_collaborator,getPopupContainer:this.handleGetPopupContainer,beforeShareUpdate:this.beforeShareUpdate})),this.renderEdit(),p.a.createElement("span",{className:"header-action-item",style:{marginLeft:8},id:"docHeadRightWrapper"},p.a.createElement(rt.a,{enableComment:s.enable_comment,docType:h.type})))))))}}])&&dt(t.prototype,r),n&&dt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(p.a.Component);St.propTypes={className:v.a.string,me:v.a.object,group:v.a.object,book:v.a.object,doc:v.a.object,note:v.a.object,version:v.a.object,history:v.a.object,showVersion:v.a.func,dispatch:v.a.func.isRequired,style:v.a.object,shouldHideLogo:v.a.bool,shouldShowSeparator:v.a.bool,editMode:v.a.bool};var At=p.a.memo((function(e){var t=Object(se.c)().editMode;return p.a.createElement(St,it({editMode:t},e))})),kt=Object(_.d)((function(e){return{me:e.me,group:e.group,book:e.book,doc:e.doc,review:e.review,organization:e.organization}}))(Object(w.withRouter)(At)),jt=r(4736),xt=r(3610),Ct="ReaderLayout-module_wrapper_l-8F+",Pt="ReaderLayout-module_desktopWrapper_LRxkD",It="ReaderLayout-module_desktopAsideHeadWrapper_Lb35v",Tt="ReaderLayout-module_higherBackTop_RpYEv",Nt="ReaderLayout-module_superSidebarExpanded_giBxr",Lt="ReaderLayout-module_asidePinned_owRmW",Dt="ReaderLayout-module_crumb_wF-5C",Rt="ReaderLayout-module_yuqueLogo_KdpAI",Mt="ReaderLayout-module_miniDropdown_7uya+",Bt="ReaderLayout-module_crumbText_l2jpO",Ft="ReaderLayout-module_bookInfo_FivMr",Gt="ReaderLayout-module_bookName_7LuCC",zt="ReaderLayout-module_icon_HU4bU",Ut="ReaderLayout-module_text_3S3RN",qt="ReaderLayout-module_asideWrapper_+Fdu8",Wt="ReaderLayout-module_onlyTocAside_ljsfR",Vt="ReaderLayout-module_aside_WX6k7",Ht="ReaderLayout-module_asideHead_dVgz0",Yt="ReaderLayout-module_asideHeadDesktop_5FMGi",Kt="ReaderLayout-module_iconBackDesktop_NwnxN",Qt="ReaderLayout-module_iconDesktop_wKHzr",Zt="ReaderLayout-module_bookInfoDesktop_-b+Ad",Xt="ReaderLayout-module_bookNameDesktop_bSQ1+",Jt="ReaderLayout-module_groupName_aJtI8",$t="ReaderLayout-module_asideNav_-Kxml",er="ReaderLayout-module_pinTip_w+Yhb",tr="ReaderLayout-module_pinWrapper_8A7Ri",rr="ReaderLayout-module_pinIconWrapper_WglAw",nr="ReaderLayout-module_arrowRight_xXebO",or="ReaderLayout-module_dragbar_NUlrA",ar="ReaderLayout-module_dragging_gY9-f",ir="ReaderLayout-module_privateIcon_zehlB",cr="ReaderLayout-module_navIcon_eoaa4",lr="ReaderLayout-module_nav_k8NJg",ur="ReaderLayout-module_navDesktop_Ftvl0",sr="ReaderLayout-module_searchNav_KneVs",fr="ReaderLayout-module_searchBar_F9DSq",dr="ReaderLayout-module_searchHotKey_1i9So",pr="ReaderLayout-module_selected_sXnrs",hr="ReaderLayout-module_asideActions_3HOeJ",mr="ReaderLayout-module_asideActionsDesktop_P8EpV",yr="ReaderLayout-module_actionItem_CbOzz",vr="ReaderLayout-module_actionItemDesktop_DRpp5",br="ReaderLayout-module_bookOverviewMoreActions_fKcZR",gr="ReaderLayout-module_bookOverviewMoreActionsDesktop_c8LaB",wr="ReaderLayout-module_editModeBody_PqN0O",_r=r(1941),Er=r(1944),Or=r(1894),Sr=r(579),Ar=r(217),kr=function(e){var t,r,n=e.me,o=e.org,a=e.group,i=null;null!==(t=a.abilities)&&void 0!==t&&t.read&&(i="User"===a.type&&a.id===n.id?p.a.createElement(de.a,{to:{pathname:"/dashboard/books",state:{page:"dashboard"}},className:Bt},__("个人知识库")):p.a.createElement(de.a,{to:{pathname:"/".concat(a.login),state:{page:"dashboard"}},className:Bt,title:a.name},a.name));var c=p.a.createElement(de.a,{to:{pathname:"/dashboard",state:{page:"dashboard"}},className:Rt},p.a.createElement(_r.default,{width:16,height:16}));return o&&o.id&&o.logo&&(c=p.a.createElement(de.a,{to:{pathname:"/dashboard",state:{page:"dashboard"}},className:Rt},p.a.createElement(Sr.c,{src:o.logo,size:16}))),!Object(Ar.g)(a)||null!=o&&null!==(r=o.abilities)&&void 0!==r&&r.read_home||(c=p.a.createElement(Er.default,{width:16,height:16})),window.appData.isYuque||(c=p.a.createElement(de.a,{to:{pathname:"/dashboard",state:{page:"dashboard"}},className:Rt},p.a.createElement(pe.b,{height:16,useNewLogo:!0}))),p.a.createElement("div",{className:Dt},c,a.abilities.read&&p.a.createElement(Or.default,{className:Mt,width:14,height:14}),i)},jr=r(959),xr=r(4778),Cr=r(74),Pr=r(506),Ir=r(1516),Tr=r(4222),Nr=(r(258),r(135)),Lr=(r(303),r(94)),Dr=(r(790),r(281)),Rr=r(267),Mr=r(426),Br=r(160),Fr=r.n(Br),Gr=r(1922),zr=r(1213),Ur=r(1942),qr=r(1938),Wr=r(3686),Vr=r(302),Hr=r(113),Yr=r(1940),Kr=r(1939),Qr="CatalogTreeCollapseTrigger-module_actionItem_ym+tH",Zr="CatalogTreeCollapseTrigger-module_icon_k49Ct",Xr=r(4070);function Jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $r(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var en={whiteSpace:"nowrap"};function tn(e){return e}var rn=function(e){var t=e.onFoldAll,r=void 0===t?Xr.c:t,n=e.onUnfoldAll,o=void 0===n?Xr.c:n,i=Jr(Object(d.useState)(!1),2),c=i[0],l=i[1],u=Object(d.useCallback)((function(){l(!0),r()}),[r]),s=Object(d.useCallback)((function(){l(!1),o()}),[o]);return p.a.createElement(p.a.Fragment,null,c?p.a.createElement(a.a,{title:__("全部展开"),getPopupContainer:tn,overlayInnerStyle:en},p.a.createElement("span",{className:Qr,onClick:s},p.a.createElement(Yr.default,{className:Zr}))):p.a.createElement(a.a,{title:__("全部折叠"),getPopupContainer:tn,overlayInnerStyle:en},p.a.createElement("span",{className:Qr,onClick:u},p.a.createElement(Kr.default,{className:Zr}))))},nn={asiderTab:"BookCatalog-module_asiderTab_0aJLs",tabBar:"BookCatalog-module_tabBar_BKeYX",tabBarPopover:"BookCatalog-module_tabBarPopover_TTy3+",tabItem:"BookCatalog-module_tabItem_CbnYy",subMenuIcon:"BookCatalog-module_subMenuIcon_3FZt3",tabTitle:"BookCatalog-module_tabTitle_Efcqe",asideActionsCont:"BookCatalog-module_asideActionsCont_31lvb",actionItem:"BookCatalog-module_actionItem_gOq-V",icon:"BookCatalog-module_icon_7p-9h",actionItemGap:"BookCatalog-module_actionItemGap_jbUf6",selectPanel:"BookCatalog-module_selectPanel_F2B3H",selectTitle:"BookCatalog-module_selectTitle_LPXkO",disabled:"BookCatalog-module_disabled_nvCu5",selectItem:"BookCatalog-module_selectItem_Ja1sM",divider:"BookCatalog-module_divider_4+nla",sideCatalog:"BookCatalog-module_sideCatalog_wpCdP",deskTopSideCatalog:"BookCatalog-module_deskTopSideCatalog_FVPUN"},on=r(4764),an={CATALOG:{value:"Catalog",text:__("目录")},ALLDOCS:{value:"All_Docs",text:__("全部文档")}},cn=r(80),ln=r.n(cn),un=r(259),sn=r(108),fn=r(4047),dn="EmptyPlaceholder-module_container_SWIrn",pn="EmptyPlaceholder-module_img_46caC",hn="EmptyPlaceholder-module_tip_enK4k",mn="EmptyPlaceholder-module_createText_nJumD";function yn(e){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(e)}function vn(){vn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==r&&n.call(E,i)&&(w=E);var O=g.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==yn(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=j(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(yn(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function bn(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function gn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){bn(a,n,o,i,c,"next",e)}function c(e){bn(a,n,o,i,c,"throw",e)}i(void 0)}))}}function wn(e){var t=e.book,r=Object(w.useHistory)(),n=Object(_.e)(),o=function(){var e=gn(vn().mark((function e(){var r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.docs.find({book_id:t.id,only_order_by_id:!0});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),c.a.error(e.t0.msg),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=gn(vn().mark((function e(){var a,i,c,l,u;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={insert_to_catalog:!0,action:"prependChild",book_id:t.id,format:ln.a.FORMAT.LAKE,target_uuid:null,type:"Doc"},e.next=3,Q.a.createDoc(a,void 0,{useOriginResp:!0});case 3:i=e.sent,c=i.data,l=i.toc,u="/".concat(t.namespace,"/").concat(c.slug,"/edit"),r.push(u),n({type:"book/updateToc",payload:l}),Object(_.c)(gn(vn().mark((function e(){var r;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:r=e.sent,n({type:"book/updateDocs",payload:r}),n({type:"searchtool/updateBookToc",payload:{book_id:t.id,docs:r}});case 5:case"end":return e.stop()}}),e)})))),Object(sn.spmClick)("c323993.d353734");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return p.a.createElement(fn.a,{disableHeight:!0},(function(e){var r,n=e.width;return p.a.createElement("div",{className:dn,style:{width:n}},p.a.createElement(un.a,{src:"https://gw.alipayobjects.com/mdn/prod_resource/afts/img/A*2pAiTKqZ54AAAAAAAAAAAAAAARQnAQ",darkAlpha:.7,className:pn}),null!=t&&null!==(r=t.abilities)&&void 0!==r&&r.create_doc?p.a.createElement("div",{className:hn},__("知识库为空，你可以{textNode}",{textNode:p.a.createElement(Fe.a,{type:"text",className:mn,onClick:a},__("新建文档"))})):p.a.createElement("div",{className:hn},__("当前知识库为空")))}))}function _n(e){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(e)}function En(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return On(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return On(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(r),!0).forEach((function(t){Ln(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kn(){kn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==r&&n.call(E,i)&&(w=E);var O=g.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==_n(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=j(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(_n(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function jn(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function xn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){jn(a,n,o,i,c,"next",e)}function c(e){jn(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Cn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dn(n.key),n)}}function Pn(e,t){return Pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pn(e,t)}function In(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Nn(e);if(t){var o=Nn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===_n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tn(e)}(this,r)}}function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nn(e){return Nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nn(e)}function Ln(e,t,r){return(t=Dn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dn(e){var t=function(e,t){if("object"!==_n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_n(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_n(t)?t:String(t)}var Rn=Object(D.b)((function(){return r.e(1189).then(r.bind(null,4979))}),{suspense:!0}),Mn=Object(D.b)((function(){return Promise.all([r.e(0),r.e(1),r.e(8),r.e(10),r.e(1208)]).then(r.bind(null,5728))}),{suspense:!0}),Bn=Dr.a.TabPane,Fn=[{id:1,value:"created_at",title:__("按创建时间排序")},{id:2,value:"content_updated_at",title:__("按更新时间排序")},{id:3,value:"title",title:__("按标题排序")}],Gn={whiteSpace:"nowrap"},zn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pn(e,t)}(a,e);var t,r,n,o=In(a);function a(e){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ln(Tn(r=o.call(this,e)),"docSelectHandler",(function(e){var t=e.doc,n=e.path;r.revealDoc(t,!1),r.props.history.push(n)})),Ln(Tn(r),"getBookDocs",function(){var e=xn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.docs.find({book_id:t,only_order_by_id:!0});case 3:return n=e.sent,r.props.dispatch({type:"searchtool/updateBookToc",payload:{book_id:t,docs:n}}),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),c.a.error(e.t0.msg),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),Ln(Tn(r),"loadDocListViewerData",function(){var e=xn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isDocListLoading:!0}),e.next=3,r.getBookDocs(t);case 3:return n=e.sent,r.props.dispatch({type:"book/updateDocs",payload:n}),r.setState({isDocListLoading:!1,bookDocs:n}),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ln(Tn(r),"getSlugFromUrl",(function(e){var t=r.props.book,n=3;t.namespace&&t.namespace.startsWith("books/share/")&&(n=4);var o=e.pathname.split("/")[n];if(o&&o.trim())return o=o.trim()})),Ln(Tn(r),"onCommandsExecuted",(function(e){e===Hr.a.CATALOG.create_title.cmd&&r.createTitle({activeCatalogTab:!0}),e===Hr.a.CATALOG.create_link.cmd&&r.createLink({activeCatalogTab:!0})})),Ln(Tn(r),"handleTabChange",function(){var e=xn(kn().mark((function e(t){var n,o,a,i,c,l,u,s;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.setActiveTabKey(t),r.setState({tabVisible:!1}),o=r.props,a=o.currentDocSlug,i=o.book,c=i.docs,r.setState({bookDocs:c}),l=c.find((function(e){return e.slug===a})),t!==an.ALLDOCS.value||c.length){e.next=11;break}return e.next=9,r.loadDocListViewerData(i.id);case 9:u=e.sent,l=u.find((function(e){return e.slug===a}));case 11:s=setTimeout((function(){r.revealDoc(l),clearTimeout(s)})),null===(n=r.props)||void 0===n||n.onTabChange(t);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ln(Tn(r),"handleCatalogScrollToTop",(function(){var e;null===(e=r.catalogViewer.current)||void 0===e||e.scrollToTop()})),Ln(Tn(r),"handleCatalogScrollToItem",(function(e){var t,n=r.props.book.toc.find((function(t){return t.doc_id===e.id||t.url===e.slug}));n&&(null===(t=r.catalogViewer.current)||void 0===t||t.scrollToItem(n.uuid))})),Ln(Tn(r),"handleDocListScrollToItem",(function(e){var t;null===(t=r.docListViewer.current)||void 0===t||t.scrollToItem(e)})),Ln(Tn(r),"revealDoc",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&(e.id||e.slug)&&(Object(Mr.isDocNotInToc)(e,r.props.book.toc)&&!t?r.state.activeTabKey!==an.ALLDOCS.value?r.setActiveTabKey(an.ALLDOCS.value,xn(kn().mark((function t(){return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.loadDocListViewerData(r.props.book.id);case 2:r.handleDocListScrollToItem(e);case 3:case"end":return t.stop()}}),t)})))):r.handleDocListScrollToItem(e):r.state.activeTabKey===an.CATALOG.value?r.handleCatalogScrollToItem(e):r.handleDocListScrollToItem(e))})),Ln(Tn(r),"handleSearchSelect",(function(e){var t=setTimeout((function(){r.revealDoc(e,!1),clearTimeout(t)}))})),Ln(Tn(r),"handleRevealDoc",(function(){var e=r.props.currentDocSlug;r.revealDoc({slug:e},!1)})),Ln(Tn(r),"handleAddToCatalogSuccess",(function(e){var t="/".concat(r.props.book.namespace,"/").concat(e.slug);r.props.history.push(t),r.setActiveTabKey(an.CATALOG.value,(function(){r.handleCatalogScrollToItem(e)}))})),Ln(Tn(r),"handleMoveToStagingBoxSuccess",(function(e){var t=r.props.currentDocSlug;if("DOC"===e.type&&t===e.url){var n="/".concat(r.props.book.namespace,"/").concat(t);r.props.history.push(n)}}));var n=e.space,i=e.book,l=e.group;r.catalogActiveTabKeyStorage=new on.a(n,l,i);var u=r.catalogActiveTabKeyStorage.getTab()||null;return null===(t=r.props)||void 0===t||t.onTabChange(u),r.state={activeTabKey:u,isDocListLoading:!1,tabVisible:!1,bookDocs:i.docs,revealDocVisible:!1},r.catalogViewer=p.a.createRef(),r.docListViewer=p.a.createRef(),r.revealDocVisibleLocker=!0,r}return t=a,r=[{key:"setActiveTabKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.setState({activeTabKey:e},t),r&&this.catalogActiveTabKeyStorage.setTab(e),this.setState({revealDocVisible:!1})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.currentDocSlug;if(window.sessionStorage.getItem("readerEditModeChange"))window.sessionStorage.removeItem("readerEditModeChange");else if(this.state.activeTabKey===an.ALLDOCS.value)this.revealDocVisibleLocker=!1,this.loadDocListViewerData(this.props.book.id).then((function(){var r=setTimeout((function(){e.revealDoc({slug:t}),clearTimeout(r)}))}));else var r=setTimeout((function(){e.revealDoc({slug:t}),e.revealDocVisibleLocker=!1,clearTimeout(r)}),200);Wr.c.on(Wr.a.DOC_SELECT,this.docSelectHandler)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.space,r=e.book,n=e.group;r.id!==this.props.book.id&&(this.loadDocListViewerData(r.id),this.catalogActiveTabKeyStorage=new on.a(t,n,r),this.setActiveTabKey(this.catalogActiveTabKeyStorage.getTab()))}},{key:"componentWillUnmount",value:function(){Wr.c.off(Wr.a.DOC_SELECT,this.docSelectHandler)}},{key:"createTitle",value:function(){var e,t=this,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).activeCatalogTab;null===(e=this.catalogViewer.current)||void 0===e||e.onAction({target_uuid:null,action:Rr.ACTIONS.insert,type:Rr.TYPES.title}),r&&this.setActiveTabKey(an.CATALOG.value,(function(){t.handleCatalogScrollToTop()}))}},{key:"createLink",value:function(){var e,t=this,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).activeCatalogTab;null===(e=this.catalogViewer.current)||void 0===e||e.showCatalogLinkForm({target_uuid:null,action:Rr.ACTIONS.insert,type:Rr.TYPES.title,onSubmit:function(){r&&t.setActiveTabKey(an.CATALOG.value,(function(){t.handleCatalogScrollToTop()}))}})}},{key:"handleSortSelectClick",value:function(e){this.setState({tabVisible:!1}),this.catalogActiveTabKeyStorage.setSort(e)}},{key:"canCreateDoc",value:function(){var e=this.props.book;return e.abilities&&e.abilities.create_doc}},{key:"handleCatalogDidMount",value:function(){Object(q.b)("finish-catalog-render")}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.space,o=r.book,a=r.group,c=r.history,l=r.dispatch,u=r.currentDocSlug;return p.a.createElement(p.a.Fragment,null,p.a.createElement(Dr.a,{className:nn.asiderTab,activeKey:this.state.activeTabKey,onChange:this.handleTabChange,renderTabBar:function(e){var r,n;return p.a.createElement("div",{className:nn.tabBar,onMouseOver:function(){Rn.preload(),Mn.preload()}},p.a.createElement(i.a,{noArrow:!0,getPopupContainer:function(e){return e.parentNode},overlayClassName:nn.tabBarPopover,placement:"bottomLeft",trigger:"click",visible:t.state.tabVisible,onVisibleChange:function(e){t.setState({tabVisible:e})},content:p.a.createElement("div",{className:nn.selectPanel},p.a.createElement("div",{className:nn.selectList},p.a.createElement("div",{className:nn.selectItem,onClick:function(){return e.onTabClick(an.CATALOG.value)}},p.a.createElement("span",null,p.a.createElement(Gr.default,{width:16,height:16}),p.a.createElement("span",null,an.CATALOG.text)),t.state.activeTabKey===an.CATALOG.value&&p.a.createElement(zr.default,null)),p.a.createElement("div",{className:nn.selectItem,onClick:function(){return e.onTabClick(an.ALLDOCS.value)}},p.a.createElement("span",null,p.a.createElement(Ur.default,{width:16,height:16}),p.a.createElement("span",null,an.ALLDOCS.text)),t.state.activeTabKey===an.ALLDOCS.value&&p.a.createElement(zr.default,null))),t.state.activeTabKey===an.ALLDOCS.value&&p.a.createElement(p.a.Fragment,null,p.a.createElement(Lr.a,null),p.a.createElement("div",{className:nn.selectTitle},p.a.createElement("span",null,__("排序"))),p.a.createElement("div",{className:g()(nn.selectList,Ln({},nn.disabled,t.state.activeTabKey!==an.ALLDOCS.value))},Fn.map((function(e){return p.a.createElement("div",{key:e.value,className:nn.selectItem,onClick:function(){return t.handleSortSelectClick(e.value)}},p.a.createElement("span",null,e.title),t.state.activeTabKey===an.ALLDOCS.value&&t.catalogActiveTabKeyStorage.getSort()===e.value&&p.a.createElement(zr.default,null))})))))},p.a.createElement("span",{className:nn.tabTitle,onClick:function(e){t.setState((function(e){return{tabVisible:!e.tabVisible}}))}},t.state.activeTabKey===an.CATALOG.value?p.a.createElement(Gr.default,{width:16,height:16,className:nn.tabIcon}):p.a.createElement(Ur.default,{width:16,height:16,className:nn.tabIcon}),p.a.createElement("span",{className:nn.tabName},t.state.activeTabKey===an.CATALOG.value?an.CATALOG.text:an.ALLDOCS.text))),p.a.createElement("div",{className:nn.asideActionsCont},t.state.activeTabKey===an.CATALOG.value&&t.state.revealDocVisible&&!t.revealDocVisibleLocker&&p.a.createElement(Wn,{handleRevealDoc:t.handleRevealDoc}),t.state.activeTabKey===an.CATALOG.value&&p.a.createElement(rn,{onFoldAll:null===(r=t.catalogViewer.current)||void 0===r?void 0:r.foldAll,onUnfoldAll:null===(n=t.catalogViewer.current)||void 0===n?void 0:n.unFoldAll})))}},p.a.createElement(Bn,{key:an.CATALOG.value},0===o.toc.length&&p.a.createElement(wn,{book:o}),p.a.createElement("div",{style:{display:0!==o.toc.length?"initial":"none"}},p.a.createElement(Rn,{ref:this.catalogViewer,className:B.c?nn.deskTopSideCatalog:nn.sideCatalog,book:o,currentDocSlug:u,onDidMount:this.handleCatalogDidMount,enablePersistExpandedKeys:!0,onCurrentItemVisibleChange:function(e){t.setState({revealDocVisible:!e})}}))),p.a.createElement(Bn,{key:an.ALLDOCS.value},p.a.createElement("div",{style:{minHeight:100,paddingTop:8}},!this.state.isDocListLoading&&0===(null===(e=this.state.bookDocs)||void 0===e?void 0:e.length)&&p.a.createElement(wn,{book:o}),p.a.createElement(Nr.a,{delay:100,spinning:this.state.isDocListLoading,style:{display:0!==this.state.bookDocs.length?"initial":"none"}},p.a.createElement(Mn,{ref:this.docListViewer,currentDocSlug:u,history:c,group:a,book:o,space:n,onAddToCatalogSuccess:this.handleAddToCatalogSuccess}))))),p.a.createElement(Vn,{book:o,dispatch:l}))}}],r&&Cn(t.prototype,r),n&&Cn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(d.PureComponent);zn.propTypes={space:v.a.object.isRequired,group:v.a.object.isRequired,book:v.a.object.isRequired,history:v.a.object.isRequired,currentDocSlug:v.a.string,dispatch:v.a.func,onTabChange:v.a.func};var Un=Object(d.memo)(zn,(function(e,t){var r=["book","doc","group","space","isOnline","currentDocSlug","ref"];return o()(Fr.a.apply(void 0,[e].concat(r)),Fr.a.apply(void 0,[t].concat(r)))}));var qn=Object(Vr.b)((function(e){var t=p.a.useRef(),r=p.a.useContext(W.a).ref,n=Object(me.b)(),o=Object(w.useParams)().doc;r.current=t;var a=An(An({ref:t},e),{},{currentDocSlug:o,isOnline:n});return p.a.createElement(Un,a)}),!0);function Wn(e){var t=e.handleRevealDoc,r=En(Object(d.useState)({opacity:0}),2),n=r[0],o=r[1];return Object(d.useEffect)((function(){o({opacity:1})}),[]),p.a.createElement(a.a,{title:__("目录定位"),getPopupContainer:function(e){return e.parentNode},overlayInnerStyle:Gn},p.a.createElement("span",{style:n,className:nn.actionItem,onClick:t},p.a.createElement(qr.default,{className:nn.icon})))}function Vn(e){var t=e.book,r=e.dispatch;return Object(d.useEffect)((function(){function e(e){var n=e.title,o=t.toc.map((function(t){return t.doc_id===e.doc_id?An(An({},t),{},{title:n}):t})),a=(t.docs||[]).map((function(t){return t.id===e.doc_id?An(An({},t),{},{title:n}):t}));Object(_.c)((function(){r({type:"book/updateToc",payload:o}),r({type:"book/updateDocs",payload:a})}))}return ue.a.on("rename",e),function(){ue.a.off("rename",e)}}),[t.docs,t.toc]),null}Vn.propTypes={book:v.a.object.isRequired,dispatch:v.a.func};var Hn=r(4600),Yn=r(14),Kn=r.n(Yn),Qn=r(1437),Zn={tourWrapper:"index-module_tourWrapper_I53J1",arrowBreath:"index-module_arrowBreath_b5SY-",contentWrapper:"index-module_contentWrapper_9Fb0h",touranimation:"index-module_touranimation_DZMgq",arrow:"index-module_arrow_FICIV",illustrationArrow:"index-module_illustrationArrow_F9d+G",normalContent:"index-module_normalContent_GYSK1",title:"index-module_title_9Wmg4",desc:"index-module_desc_1Ps52",illustrationContent:"index-module_illustrationContent_rQHhQ",illustrationWrapper:"index-module_illustrationWrapper_iCWzN",illustrationBody:"index-module_illustrationBody_q2Exq",buttonWrapper:"index-module_buttonWrapper_QkoaE",closeButton:"index-module_closeButton_XVz1u",button:"index-module_button_DVuUI",closeWrapper:"index-module_closeWrapper_5PWk5",close:"index-module_close_54-BK",blackClose:"index-module_blackClose_ZxGgt",breathBottomLeft:"index-module_breathBottomLeft_q-MMb",breathAnimationBottomLeft:"index-module_breathAnimationBottomLeft_bzq1S",breathDefault:"index-module_breathDefault_eer42",breathAnimationDefault:"index-module_breathAnimationDefault_LktlS"};function Xn(e){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(e)}function Jn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(r),!0).forEach((function(t){eo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eo(e,t,r){return t=function(e){var t=function(e,t){if("object"!==Xn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Xn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Xn(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function to(){to=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==r&&n.call(E,i)&&(w=E);var O=g.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Xn(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=j(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Xn(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function ro(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function no(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ao=function(e){var t=e.steps,r=e.onComplete,n=e.tip,o=e.createdAt,a=no(Object(d.useState)(0),2),i=a[0],c=a[1],l=no(Object(d.useState)(!1),2),u=l[0],s=l[1],f=t[i],h=document.body,y=Object(d.useRef)(null),v=no(Object(d.useState)({left:"-100%",top:"-100%"}),2),b=v[0],w=v[1];if(Object(d.useEffect)((function(){setTimeout((function(){var e,t,r=(t=window.appData.me,!Kn()(null==t?void 0:t.created_at).isAfter(o)&&1!==(null===(e=appData.readTip)||void 0===e?void 0:e[n]));s(r)}),1e3)}),[]),Object(d.useEffect)((function(){var e,r,n=t[i],o=null===(e=document.querySelector(n.containerSelector))||void 0===e?void 0:e.getBoundingClientRect(),a=null===(r=y.current)||void 0===r?void 0:r.getBoundingClientRect();if(o&&a){var c=0,l=0;n.placement,c=o.x+((null==f?void 0:f.offsetX)||0),l=o.y+o.height+(f.offsetY||0)+20;var s,d=c+a.width>window.innerWidth;if(w({left:"".concat(d?c-a.width:c,"px"),top:"".concat(l,"px")}),u)null===(s=y.current)||void 0===s||s.classList.add(Zn.contentWrapperAnimation)}}),[i,u]),!h||!u)return null;var _,E,O,S,A,k=function(){i===t.length-1?j():c(i+1);var e=document.querySelector(".larkui-tour-warpper");e&&h.removeChild(e)},j=function(){var e,t=(e=to().mark((function e(){return to().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!1),e.next=3,ce.a.mine.readGuide({id:1,type:n});case 3:null==r||r();case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ro(a,n,o,i,c,"next",e)}function c(e){ro(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),x=function(){var e=h.querySelector(".larkui-tour-warpper");if(e)return e;var t=document.createElement("div");return t.classList.add("larkui-tour-warpper"),t.setAttribute("data-testid","feature-guide"),t.style.position="absolute",t.style.left="0px",t.style.top="0px",h.appendChild(t),t}();return m.a.createPortal((_=f.type,E=void 0===_?"normal":_,O="bottomLeft"===f.placement?{style:{left:"calc(16px - ".concat((null==f?void 0:f.arrowOffsetX)||0,"px)")},animationClassName:Zn.breathBottomLeft}:"bottomRight"===f.placement?{style:{right:"calc(16px - ".concat((null==f?void 0:f.arrowOffsetX)||0,"px)")},animationClassName:Zn.breathBottomLeft}:{style:{left:"calc(50% - ".concat((null==f?void 0:f.arrowOffsetX)||0,"px)"),transform:"translateX(-50%)"},animationClassName:Zn.breathDefault},S=O.style,A=O.animationClassName,p.a.createElement("div",{style:$n({position:f.fixed?"fixed":"absolute",zIndex:1e3},b)},p.a.createElement("div",{className:g()(Zn.tourWrapper),ref:y},p.a.createElement("div",{className:Zn.contentWrapper,style:(null==f?void 0:f.overlayWrapperStyle)||{}},p.a.createElement("div",{className:g()(Zn.arrow,eo({},Zn.illustrationArrow,"illustration"===E)),style:S}),"normal"===E?p.a.createElement("div",{className:Zn.normalContent},p.a.createElement("div",{className:Zn.title},f.title),p.a.createElement("div",{className:Zn.desc},f.desc)):p.a.createElement("div",{className:Zn.illustrationContent},p.a.createElement("div",{className:Zn.illustrationWrapper},p.a.createElement("img",{src:f.image,style:f.imageStyle||{}})),p.a.createElement("div",{className:Zn.illustrationBody},p.a.createElement("div",{className:Zn.title},f.title),p.a.createElement("div",{className:Zn.desc},f.desc))),p.a.createElement("div",{className:Zn.buttonWrapper},p.a.createElement("div",{className:Zn.closeButton,onClick:j},__("跳过 ({currentStep}/{totalStep})",{currentStep:i+1,totalStep:t.length})),p.a.createElement("div",{className:Zn.button,onClick:k},i===t.length-1?__("知道啦"):__("下一步"))),p.a.createElement("div",{className:Zn.closeWrapper,onClick:j},p.a.createElement("span",{className:g()(Zn.close,eo({},Zn.blackClose,"illustration"===E))},p.a.createElement(Qn.default,{width:12,height:12})))),p.a.createElement("div",{className:g()(Zn.arrowBreath,A),style:S})))),x)};function io(){var e=Object(w.useParams)(),t=Object(_.e)(),r=e.doc,n="desktop_online_book_feature_tip",o=!Object(_.f)((function(e){return{guide:e.guide}})).guide.readTip[n];return r&&o?p.a.createElement(ao,{tip:n,createdAt:"2023-06-26",steps:[{containerSelector:"#bookHeadLeftWrapper",title:__("📚 知识库升级"),desc:__("新增知识库首页，知识库设置和目录操作更齐全"),type:"normal",placement:"bottomRight",offsetX:4,offsetY:-15,arrowOffsetX:5,overlayWrapperStyle:{width:"222px"},fixed:!0},{containerSelector:"#docHeadRightWrapper",title:__("📃 文档读写能力提升"),desc:__("支持协同编辑，新增阅读模式，可看评论点赞"),placement:"bottomRight",offsetX:-206,offsetY:-12.5,overlayWrapperStyle:{width:"222px"},fixed:!0}],onComplete:function(){t({type:"guide/readFeatureGuide",payload:{tip_id:n}})}}):null}function co(e){return co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},co(e)}function lo(){lo=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==r&&n.call(E,i)&&(w=E);var O=g.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==co(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=j(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(co(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function uo(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function so(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){uo(a,n,o,i,c,"next",e)}function c(e){uo(a,n,o,i,c,"throw",e)}i(void 0)}))}}function fo(e){return fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fo(e)}function po(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?po(Object(r),!0).forEach((function(t){So(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):po(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mo.apply(this,arguments)}function yo(){yo=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(I([])));E&&E!==r&&n.call(E,i)&&(w=E);var O=g.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==fo(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=j(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(fo(t)+" is not iterable")}return b.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),u(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),u(O,l,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function vo(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function bo(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){vo(a,n,o,i,c,"next",e)}function c(e){vo(a,n,o,i,c,"throw",e)}i(void 0)}))}}function go(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ao(n.key),n)}}function wo(e,t){return wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wo(e,t)}function _o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Oo(e);if(t){var o=Oo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===fo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Eo(e)}(this,r)}}function Eo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oo(e){return Oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oo(e)}function So(e,t,r){return(t=Ao(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ao(e){var t=function(e,t){if("object"!==fo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==fo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fo(t)?t:String(t)}var ko=M.a+M.d,jo=Object(D.c)((function(){return Promise.all([r.e(0),r.e(16),r.e(31),r.e(1226)]).then(r.bind(null,5719))}),{suspense:!0}),xo=Object(D.b)((function(){return Promise.all([r.e(0),r.e(1),r.e(12),r.e(19),r.e(1292)]).then(r.bind(null,3704))}),{suspense:!0}),Co=Object(D.b)((function(){return Promise.all([r.e(0),r.e(16),r.e(19),r.e(31),r.e(1204)]).then(r.bind(null,3869))}),{suspense:!0}),Po=Object(D.b)((function(){return r.e(1213).then(r.bind(null,4895))}),{suspense:!0}),Io=Object(D.b)((function(){return Promise.resolve().then(r.bind(null,4665))}),{suspense:!0});function To(e){var t=e.persistManager,r=e.asideWidth;return Object(d.useEffect)((function(){f()(r)&&t.setItem("catalog_aside_width",r)}),[r]),Object(d.useEffect)((function(){var e=function(){t.removeItem("catalog_aside_width")};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[t]),null}function No(e){var t=e.doc,r=e.editMode,n=e.asideWidth,o=Object(w.useParams)().doc;return r&&"Doc"===t.type?p.a.createElement("div",{id:"ne-toolbar-container",key:o,style:{left:n}}):null}var Lo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wo(e,t)}(l,e);var t,r,n,o=_o(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),So(Eo(t=o.call(this,e)),"_sidebarChangedListener",{onRightSidebarWidth:function(e){t.setState({rightSidebarWidth:e}),t.updateSuperSidebar()}}),So(Eo(t),"handleDashboardSideBarResize",(function(e){var r=e.detail.leftSidebarWidth;t.setState({sidebarWidth:r})})),So(Eo(t),"initHotKeys",(function(){t.state.asideWidth&&(Object(k.a)(A.a.windows?"ctrl+alt+,":"⌘+option+,",(function(e){e.preventDefault(),t.togglePin()})),B.g&&(Cr.i.on(Cr.f,t.togglePin),Object(k.a)(A.a.windows?"ctrl+y":"⌘+y",(function(e){e.preventDefault(),t.handleShowHistory()})),Cr.i.on(Cr.d,t.handleShowHistory)),B.c||Object(k.a)(A.a.windows?"ctrl+j":"⌘+j",(function(e){e.preventDefault(),e.repeat||t.handleSearchClick()})))})),So(Eo(t),"getAsideResizable",(function(){return window.innerWidth>re.c})),So(Eo(t),"handleTabChange",(function(e){t.setState({activeTabKey:e})})),So(Eo(t),"handleCommandsExecuted",(function(e){var r,n;null===(r=t.bookCatalogRef.current)||void 0===r||null===(n=r.current)||void 0===n||n.onCommandsExecuted(e)})),So(Eo(t),"handleContentSidebarVisibleChange",(function(e){var r=e.detail.visible;t.setState({contentSidebarVisible:r})})),So(Eo(t),"handleResize",u()((function(){t.asideResizable=t.getAsideResizable(),t.asideResizable||t.state.asidePinned||t.togglePin(),!t.asideResizable||t.asideResized||t.state.asidePinned||t.setState({asideWidth:t.getAsideWidth(),asideWrapperWidth:t.getAsideWidth()})}),300)),So(Eo(t),"handleMouseOverPinIcon",(function(e){t.state.asidePinned&&(e.stopPropagation(),e.preventDefault())})),So(Eo(t),"handleMouseDown",(function(){!0!==t.state.asideResizing&&t.setState({asideResizing:!0})})),So(Eo(t),"handleMouseUp",(function(){!1!==t.state.asideResizing&&t.setState({asideResizing:!1})})),So(Eo(t),"handleMouseMove",(function(e){t.state.asideResizing&&(t.asideResized=!0,t.setAsideWidth(e),window.dispatchEvent(new Event("resize")))})),So(Eo(t),"recalculateHeaderStyle",(function(){t.state.asidePinned&&t.forceUpdate()})),So(Eo(t),"setAsideWidth",(function(e){if(t.asideResizable&&t.asideRef&&!t.state.asidePinned){var r=t.asideRef.getBoundingClientRect(),n=r.width,o=e.clientX-r.left;n>=re.a&&e.clientX>r.right?o=re.a:n<=re.b&&e.clientX<r.right&&(o=re.b),o<re.b&&(o=re.b),o>re.a&&(o=re.a),t.setState({asidePinned:!1,asideWidth:o,asideWrapperWidth:o})}})),So(Eo(t),"togglePin",(function(e){var r=t.props,n=r.isVisible,o=r.setVisible;e&&(e.preventDefault(),e.stopPropagation()),o(!n),t.setState((function(e){var r=e.asideWidth;return e.asidePinned?{asideWrapperWidth:t.asideResizable&&r||re.b,asidePinned:!1}:{asideWrapperWidth:re.d,asidePinned:!0}}),(function(){setTimeout((function(){t.recalculateHeaderStyle()}),100)}))})),So(Eo(t),"handlePinnedAsideClick",(function(){t.state.asidePinned&&t.togglePin()})),So(Eo(t),"bookOverviewNavClick",(function(){var e=t.getOverviewPath();B.g&&Object(Ir.a)("remove",e),t.props.history.push("/".concat(e))})),So(Eo(t),"handleGoBack",(function(){t.props.history.goBack()})),So(Eo(t),"handleSearchCancel",bo(yo().mark((function e(){return yo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.a)(500);case 2:t.setState({searchModalVisible:!1});case 3:case"end":return e.stop()}}),e)})))),So(Eo(t),"handleSearchClick",(function(){t.setState({searchModalVisible:!0})})),So(Eo(t),"getOverviewPath",(function(){var e=t.props,r=e.group,n=e.book;return"".concat(r.login,"/").concat(n.slug)})),So(Eo(t),"isOverviewPage",(function(){var e=t.props,r=e.group,n=e.book,o=window.location.pathname;if(B.g&&Object(Ir.a)("get","".concat(r.login,"/").concat(n.slug)))return!1;return o==="/".concat(r.login,"/").concat(n.slug)||o==="/".concat(r.login,"/").concat(n.slug,"/")})),So(Eo(t),"getBookDocs",bo(yo().mark((function e(){var r;return yo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.docs.find({book_id:t.props.book.id});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),c.a.error(e.t0.msg),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))),So(Eo(t),"fetchUpdateToc",bo(yo().mark((function e(){var r,n,o,a,i;return yo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,n=r.book,o=r.dispatch,e.next=3,Z.a.getCatalogNodes(n.id);case 3:a=e.sent,i=a.toc,o({type:"book/updatePartial",payload:{toc:i,id:t.props.book.id}});case 6:case"end":return e.stop()}}),e)})))),So(Eo(t),"updateDocs",bo(yo().mark((function e(){var r;return yo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getBookDocs();case 2:r=e.sent,Object(_.c)((function(){t.props.dispatch({type:"searchtool/updateBookToc",payload:{book_id:t.props.book.id,docs:r}}),t.props.dispatch({type:"book/updateDocs",payload:r})}));case 4:case"end":return e.stop()}}),e)})))),So(Eo(t),"handleCreateDoc",function(){var e=bo(yo().mark((function e(r,n){return yo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(q.a)("start","create"),t.props.dispatch({type:"book/updatePartial",payload:{toc:n,id:t.props.book.id}}),t.updateDocs();case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),So(Eo(t),"handleShowHistory",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",r=arguments.length>1?arguments[1]:void 0;t.props.editMode?window.__editMode_show_history():t.setState({historyView:!0,defaultCategory:e,versionPublished:null==r?void 0:r.published})})),So(Eo(t),"renderDocAction",(function(){var e=t.props,r=e.book,n=e.doc,o=e.history;if(t.canCreateDoc())return p.a.createElement(p.a.Fragment,null,p.a.createElement(ee.a,{content:[__("点击「+」"),__("在知识库里，可以新建文档、表格、数据表、画板，可以满足你各式各样的写作需求，我们一起来新建一个文档试试吧！")],placement:"right",taskId:R.TASK_ID.NOVICE_OFFER,stage:R.ACTION.new_doc,step:1,width:40,height:40,borderRadius:8,offsetRight:4,offsetY:106,popWidth:302,action:"hover"},p.a.createElement(i.a,{type:"menu",overlayStyle:{minWidth:126},trigger:["hover"],placement:"bottomLeft",arrowPointAtCenter:!0,hideWhenInactive:!0,content:p.a.createElement(Co,{history:o,book:r,doc:n,commands:Q.a.additionalActionsForNewDoc({canImport:!0,canExport:r.abilities&&r.abilities.export,canCreateCatalogGroup:t.state.activeTabKey===an.CATALOG.value,canCreateCatalogLink:t.state.activeTabKey===an.CATALOG.value,isOnline:t.props.isOnline}),useDynamicShortcutTip:B.c,commandParams:{insert_to_catalog:!0,action:"prependChild"},onCommandsExecuted:function(e){var r=e.cmd;t.handleCommandsExecuted(r)},spaMode:!0,onCreateDoc:t.handleCreateDoc})},p.a.createElement("div",{className:g()([hr],So({},mr,B.c)),onMouseOver:function(){Co.preload()}},B.c?p.a.createElement(I.b,{name:"add",width:18,height:18,className:vr}):p.a.createElement(I.b,{name:"add",width:16,height:16,className:yr})))))})),So(Eo(t),"renderBookCatalog",(function(){var e=t.props,r=e.book,n=e.group,o=e.dispatch,a=e.space,i=e.history;return p.a.createElement(qn,{ref:t.bookCatalogRef,group:n,book:r,space:a,dispatch:o,history:i,onTabChange:t.handleTabChange})})),So(Eo(t),"renderDragBar",(function(){var e=A.a.windows?"Ctrl+Alt+,":"⌘+Option+,";return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:g()([or],So({},ar,t.state.asideResizing)),onClick:t.handlePinnedAsideClick,onMouseDown:t.handleMouseDown,onContextMenu:function(e){e.preventDefault()}}),p.a.createElement("div",{className:tr},p.a.createElement(a.a,{mouseEnterDelay:.5,placement:"right",title:t.state.asidePinned?p.a.createElement("span",{className:er},__("展开"),p.a.createElement("br",null),e):p.a.createElement("span",{className:er},__("收起"),p.a.createElement("br",null),e),getTooltipContainer:function(e){return e.parentNode}},p.a.createElement("span",{className:rr,onMouseOver:t.handleMouseOverPinIcon,onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},onClick:t.togglePin},p.a.createElement("span",{className:nr})))))})),So(Eo(t),"renderSearch",(function(){if(t.state.searchModalVisible)return p.a.createElement(xo,{name:"LazyScopedSearch",onCancel:t.handleSearchCancel,visible:t.state.searchModalVisible})})),So(Eo(t),"renderImportBookModal",(function(){var e=t.props,r=e.book,n=e.group;return p.a.createElement(jo,{book:r,group:n,onCommandsExecuted:function(e){var r=e.cmd;t.handleCommandsExecuted(r)},onUpdate:t.fetchUpdateToc})})),So(Eo(t),"renderAsideHead",(function(){var e=t.props,r=e.group,n=e.book,o=e.me,a=e.organization;return p.a.createElement("div",{className:g()(Ht,So({},It,B.c)),id:"asideHead"},p.a.createElement("div",{className:Ft},p.a.createElement(kr,{me:o,group:r,org:a})),p.a.createElement("div",{className:Ft},p.a.createElement("div",{className:Gt},p.a.createElement(xt.a,{className:zt,value:n.book_icon}),p.a.createElement("div",{className:Gt},p.a.createElement("span",{className:Ut,title:n.name},n.name),(null==o?void 0:o.is_admin)&&-1===n.status&&p.a.createElement(I.b,{name:"doc-has-content-risk",width:14,style:{opacity:.375,marginLeft:8}}),p.a.createElement("div",{className:ir},p.a.createElement(jr.a,{public:n.public,book:n,group:r,size:14,placement:"bottom"})))),p.a.createElement(xr.default,{group:r,book:n,className:br,getPopupContainer:function(){return document.getElementById("asideHead")}})))})),So(Eo(t),"renderAsideHeadDesktop",(function(){var e,r=t.props,n=r.group,o=r.book,a=r.me;return p.a.createElement("div",{className:Yt,id:"asideHeadDesktop"},p.a.createElement("div",{className:Kt,onClick:t.handleGoBack},p.a.createElement(x.default,null)),p.a.createElement(xt.a,{key:o.id,className:Qt,value:o.book_icon,width:28,height:28}),p.a.createElement("div",{className:Zt},p.a.createElement("div",{className:Xt},p.a.createElement("span",{className:Ut,title:o.name},o.name),(null==a?void 0:a.is_admin)&&-1===o.status&&p.a.createElement(I.b,{name:"doc-has-content-risk",width:14,style:{opacity:.375,marginLeft:8}}),p.a.createElement(fe.a,{buttonClassName:ir},p.a.createElement(jr.a,{public:o.public,book:o,group:n,size:14,placement:"bottom"}))),(null==n||null===(e=n.abilities)||void 0===e?void 0:e.read)&&!("User"===(null==n?void 0:n.type)&&(null==n?void 0:n.id)===(null==a?void 0:a.id))&&p.a.createElement("div",{className:Jt,title:null==n?void 0:n.name},null==n?void 0:n.name)),t.renderDocAction())})),So(Eo(t),"renderNav",(function(){var e,r={willChange:"width",transition:"width 200ms cubic-bezier(0.1, 0, 0, 1) 0s",width:t.state.asideWidth,maxWidth:re.a,minWidth:re.b};return p.a.createElement("nav",{className:$t,style:r,id:"navBox",ref:function(e){t.asideRef=e}},!B.c&&p.a.createElement("div",{className:sr},p.a.createElement("div",{className:fr,onMouseOver:function(){xo.preload()},onClick:t.handleSearchClick},p.a.createElement(C.default,{className:cr}),p.a.createElement("span",null,__("搜索#readPage")),p.a.createElement("span",{className:dr},A.a.windows?"Ctrl + J":"⌘ + J")),t.renderDocAction()),p.a.createElement("div",{className:g()((e={},So(e,lr,!0),So(e,pr,t.isOverviewPage()),e)),onClick:t.bookOverviewNavClick},p.a.createElement(P.default,{className:cr}),p.a.createElement("span",null,__("首页#readPage"))),t.renderBookCatalog())})),So(Eo(t),"renderNavDesktop",(function(){var e={willChange:"width",transition:"width 200ms cubic-bezier(0.1, 0, 0, 1) 0s",width:t.state.asideWidth,maxWidth:re.a,minWidth:re.b},r=t.props,n=r.group,o=r.book;return p.a.createElement("nav",{className:$t,style:e,id:"navBox",ref:function(e){t.asideRef=e}},p.a.createElement("div",{className:ur},p.a.createElement("div",{className:g()(lr,ur,So({},pr,t.isOverviewPage())),onClick:t.bookOverviewNavClick,id:"bookHeadLeftWrapper"},p.a.createElement(P.default,{className:cr}),p.a.createElement("span",null,__("首页#readPage"))),p.a.createElement(fe.a,null,p.a.createElement(xr.default,{group:n,book:o,className:gr}))),t.renderBookCatalog())})),So(Eo(t),"renderAside",(function(){var e,r={willChange:"width",transition:B.c?void 0:"width 200ms cubic-bezier(0.1, 0, 0, 1) 0s",width:t.state.asideWrapperWidth};return p.a.createElement("div",mo({className:g()((e={},So(e,qt,!0),So(e,Lt,t.state.asidePinned),So(e,Wt,!B.c),e)),"data-testid":"aside"},So({},X.c,!0)),p.a.createElement("div",{className:Vt,style:r},p.a.createElement(To,{persistManager:t.persistManager,book:t.props.book,asideWidth:t.state.asideWidth}),B.c?t.renderAsideHeadDesktop():t.renderAsideHead(),B.c?t.renderNavDesktop():t.renderNav()),t.renderDragBar(),t.renderSearch(),t.renderImportBookModal(),B.g&&p.a.createElement(io,null))})),t.persistManager=window.sessionStorage;var r=e.withAside?function(e){var t;try{var r=e.getItem("catalog_aside_width");r&&(t=Number(r))}catch(e){console.log(e)}return t}(t.persistManager)||t.getAsideWidth():0;return t.state={historyView:!1,defaultCategory:"all",versionPublished:!1,asideWidth:r,asideWrapperWidth:r,sidebarWidth:60,asideResizing:!1,rightSidebarWidth:0,asidePinned:!t.getAsideResizable(),contentSidebarVisible:!1,activeTabKey:null,searchModalVisible:!1},t.asideResized=!1,t.asideResizable=t.getAsideResizable(),t.bookCatalogRef=p.a.createRef(),t.bookCatalogRefContext={ref:t.bookCatalogRef},t}return t=l,(r=[{key:"componentDidMount",value:function(){var e,t;Object(q.b)("finish-readerlayout-render");var r=this.props,n=r.group,o=r.book,a=r.dispatch;"#import_to_book"===window.location.hash&&jo.start(),this.state.asidePinned&&this.props.setVisible(!1),setTimeout((function(){Co.preload()}),4e3),a({type:"search/update",payload:{display:!0,scope:"".concat(n.login,"/").concat(o.slug)}}),this.initHotKeys(),window.addEventListener("resize",this.handleResize),window.addEventListener("mouseup",this.handleMouseUp),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("contentSidebarVisibleChange",this.handleContentSidebarVisibleChange),window.addEventListener("DashboardSideBar.resize",this.handleDashboardSideBarResize),document.body.classList.add(Tt),document.body.classList.add("with-miniapp-code"),this.updateSuperSidebar();var i=this.state.sidebarWidth;this.setState({sidebarWidth:parseInt((null===(e=document.getElementById("dragBarContainer"))||void 0===e||null===(t=e.style)||void 0===t?void 0:t.width.replace("px",""))||i,10),rightSidebarWidth:$.a.rightSidebarWidth}),$.a.addChangedListener(this._sidebarChangedListener)}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;window.removeEventListener("resize",this.handleResize),window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("contentSidebarVisibleChange",this.handleContentSidebarVisibleChange),window.removeEventListener("DashboardSideBar.resize",this.handleDashboardSideBarResize),$.a.removeChangedListener(this._sidebarChangedListener),document.body.classList.remove(Tt),document.body.classList.remove(Nt);try{k.a.unbind(A.a.windows?"ctrl+j":"⌘+j"),k.a.unbind(A.a.windows?"ctrl+alt+,":"⌘+option+,"),B.g&&(Cr.i.off(Cr.f,this.togglePin),k.a.unbind(A.a.windows?"ctrl+y":"⌘+y"),Cr.i.off(Cr.d,this.handleShowHistory))}catch(e){}B.g&&e({type:"doc/update",payload:{loaded:!1,error:null,audits:null,readerEditModeData:null}})}},{key:"updateSuperSidebar",value:function(){J.a.isExpanded?document.body.classList.add(Nt):document.body.classList.remove(Nt)}},{key:"canCreateDoc",value:function(){var e=this.props.book;return e.abilities&&e.abilities.create_doc}},{key:"getAsideWidth",value:function(){if(!this.props.withAside)return 0;var e=window.innerWidth;if(e<=re.c)return 0;var t=Math.max(Math.min(Math.floor(.18*e),B.g?re.b:re.a),re.b);return e-t<=ko?re.b:t}},{key:"renderSideBar",value:function(){if(!this.props.withAside)return null;if(B.c){var e=document.getElementById("dragBarContainer");return e?Object(h.createPortal)(this.renderAside(),e):null}return this.renderAside()}},{key:"render",value:function(){var e,t,r,n,o,a,i,l=this,u=this.props,s=u.book,f=u.doc,d=u.children,h=u.withAside,m=u.isDarkMode,y=u.hideHeader,v=u.isBookOverview,b=u.editMode,w=u.history,_=this.state,E=_.asidePinned,S=_.asideWrapperWidth,A=_.historyView,k=_.contentSidebarVisible,x=_.defaultCategory,C=_.versionPublished,P=_.sidebarWidth,I=_.rightSidebarWidth,L=g()((So(t={"doc-head":!0},"doc-head-".concat(null==f||null===(e=f.type)||void 0===e?void 0:e.toLowerCase()),!0),So(t,"doc-type-head","Doc"===(null==f?void 0:f.type)&&!k),So(t,Lt,E),t)),D=null;this.isOverviewPage()&&(D=m?j.themeDarkToken["@yuque-color-bg-primary"]:j.themeToken["@yuque-color-bg-secondary"],s.cover&&(D=m?"linear-gradient(to bottom, rgba(0, 0, 0, 0.1) 0, rgba(0, 0, 0, 1) 70vh, rgba(0, 0, 0, 1) 100%), url(".concat(Object(T.a)(s.cover,{blur:"r_50,s_2"}),") center top/100% no-repeat"):"linear-gradient(to bottom, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 1) 70vh, rgba(255, 255, 255, 1) 100%), url(".concat(Object(T.a)(s.cover,{blur:"r_50,s_2"}),") center top/100% no-repeat")));var R=B.c?S+Object(N.a)(this.props.isCollapsed,this.props.isVisible):S,M=E||S,F=B.c?S+P-60:S;Object(Pr.a)()&&(R=0,M=0,F=0);var G={left:R};return I>0&&(G.right=I),Object(Pr.a)()&&B.e&&(G.paddingLeft=50),p.a.createElement(O.a,{title:this.isOverviewPage()?null==s?void 0:s.name:null==f?void 0:f.title},p.a.createElement("div",{className:"lark","data-testid":"reader-main"},(null===(r=window.appData)||void 0===r?void 0:r.isYuque)&&!(null!==(n=window.appData)&&void 0!==n&&n.isDesktopApp)&&(null===(o=window.appData)||void 0===o||null===(a=o.me)||void 0===a?void 0:a.id)&&!(null!==(i=window.appData)&&void 0!==i&&i.organization)&&p.a.createElement(p.a.Fragment,null,p.a.createElement(jt.a,null),p.a.createElement(te.a,null)),p.a.createElement("div",{className:"main-wrapper"},p.a.createElement(V.a,{showHistory:this.handleShowHistory},p.a.createElement(W.a.Provider,{value:this.bookCatalogRefContext},p.a.createElement("div",{className:g()(Ct,So({},Pt,B.f)),style:{paddingLeft:M,background:D}},!y&&p.a.createElement(kt,{className:L,isBookOverView:v,me:this.props.me,group:this.props.group,book:this.props.book,doc:this.props.doc,key:"doc-header-".concat(f.id),shouldHideLogo:h,shouldShowSeparator:E,style:G,handleSearch:this.handleSearchClick,history:w}),v?null:p.a.createElement(No,{editMode:b,doc:f,asideWidth:F}),d),A&&p.a.createElement(Po,{doc:f,docDomain:"Doc",onCancel:function(){l.setState({historyView:!1})},onReverted:function(){c.a.success(__("恢复成功，正在跳转至编辑页"),3,(function(){window.location.href="/".concat(s.namespace,"/").concat(f.slug,"/edit")}))},defaultCategory:x,versionPublished:C}),this.renderSideBar(),!v&&p.a.createElement(H.a,{isShare:window.appData.sharePage},p.a.createElement(Hn.b,{doc:f}),p.a.createElement(Io,null)))))))}}])&&go(t.prototype,r),n&&go(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(d.Component);function Do(e){var t=JSON.stringify(e).replace(/""/g,"null");return JSON.parse(t)}Lo.propTypes={history:v.a.object,group:v.a.object,book:v.a.object,doc:v.a.object,space:v.a.object,me:v.a.object,children:v.a.node,withAside:v.a.bool,renderHeader:v.a.object,isBookOverview:v.a.bool},Lo.displayName="ReaderLayout";var Ro=p.a.memo((function(e){var t,r,n=Object(L.a)().isDarkMode,a=Object(D.e)(),i=Object(se.c)().editMode,l=Object(Y.c)(),s=l.isVisible,f=l.setVisible,h=Object(Y.b)().isCollapsed,m=Object(me.b)(),y=e.dispatch,v=e.book,b=Object(G.a)(v);Object(d.useEffect)((function(){a.startRender()}),[]),Object(d.useEffect)((function(){var e=document.querySelector(".default-back-top.ant-back-top");e.style.display=i&&e?"none":"flex",i?document.body.classList.add(wr):document.body.classList.remove(wr)}),[i]);var g,E=p.a.useCallback(u()(bo(yo().mark((function e(){var t,r,n;return yo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.getCatalogNodes(v.id,{});case 2:if(r=e.sent,n=r.toc,a=n,i=null===(t=b.current)||void 0===t?void 0:t.toc,c=void 0,l=void 0,c=Do(a),l=Do(i),!o()(c,l)){e.next=7;break}return e.abrupt("return");case 7:y({type:"book/updatePartial",payload:{id:v.id,toc:n}});case 8:case"end":return e.stop()}var a,i,c,l}),e)}))),2e3),[v.id]),O=p.a.useCallback(u()(bo(yo().mark((function e(){var t,r,n,o,a;return yo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(U.get)(window.location.href,{"x-app-data":"true"},{ignoreGlobalMessage:!0});case 3:null!=(a=e.sent)&&null!==(t=a.data)&&void 0!==t&&t.book&&(null==a||null===(r=a.data)||void 0===r||null===(n=r.book)||void 0===n?void 0:n.id)===(null===(o=b.current)||void 0===o?void 0:o.id)&&y({type:"book/update",payload:ho(ho({},v),a.data.book)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),2e3),[v.id]),S=(So(t={},F.a.BOOK.UPDATE_CATALOG,E),So(t,F.a.BOOK.UPDATE_SETTING,O),So(t,F.a.BOOK.DELETE_SETTING,(function(){window.location.href="/dashboard"})),t);return Object(F.c)({target_type:F.b.BOOK,target_id:v.id,source:"book_overview_read",disable:!(B.g&&null!=v&&null!==(r=v.abilities)&&void 0!==r&&r.read),onBroadcast:(g=bo(yo().mark((function e(t){var r,n;return yo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.type,t.body,null===(r=S[n])||void 0===r||r.call(S);case 2:case"end":return e.stop()}}),e)}))),function(e){return g.apply(this,arguments)})}),function(e){var t=e.book,r=Object(G.a)(t),n=Object(w.useHistory)(),o=Object(_.e)(),a=function(){var e=so(lo().mark((function e(){var r;return lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.docs.find({book_id:t.id,only_order_by_id:!0});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),c.a.error(e.t0.msg),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),i=Object(d.useCallback)(u()(so(lo().mark((function e(){var i,c,l,u,s;return lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.abilities.create_doc){e.next=2;break}return e.abrupt("return");case 2:return i={insert_to_catalog:!0,action:"prependChild",book_id:t.id,format:ln.a.FORMAT.LAKE,target_uuid:null,type:"Doc"},e.next=5,Q.a.createDoc(i,void 0,{useOriginResp:!0});case 5:c=e.sent,l=c.data,u=c.toc,l.book_id===r.current.id&&(s="/".concat(t.namespace,"/").concat(l.slug,"/edit"),n.push(s),o({type:"book/updateToc",payload:u}),Object(_.c)(so(lo().mark((function e(){var r;return lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:r=e.sent,o({type:"book/updateDocs",payload:r}),o({type:"searchtool/updateBookToc",payload:{book_id:t.id,docs:r}});case 5:case"end":return e.stop()}}),e)})))));case 9:case"end":return e.stop()}}),e)}))),100),[t.id]);Object(d.useEffect)((function(){var e;return B.g&&document.addEventListener(null===B.a||void 0===B.a||null===(e=B.a.SHORTCUT)||void 0===e?void 0:e.CREATE_NEW_DOC,i,!1),function(){var e;document.removeEventListener(null===B.a||void 0===B.a||null===(e=B.a.SHORTCUT)||void 0===e?void 0:e.CREATE_NEW_DOC,i)}}),[t.id])}({book:v}),p.a.createElement(Tr.a,null,p.a.createElement(K.DocStatisticProvider,null,p.a.createElement(Lo,mo({},e,{isDarkMode:n,isOnline:m,isVisible:s,isCollapsed:h,setVisible:f,editMode:i}))))})),Mo=Object(_.d)((function(e){return{group:e.group,book:e.book,doc:e.doc,space:e.space,me:e.me,organization:e.organization}}))(Object(w.withRouter)(Ro));Mo.displayName="WrapperReaderLayout";t.a=Mo},554:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(78),o=r(788),a=r(136);function i(e){if(e.symbol){var t=a.e.URL_TYPE_LIST,r=a.e.LEGACY_URL_TYPE_LIST,n=a.e.ICON_TYPE_LIST,o=a.e.LEGACY_ICON_TYPE_LIST,i=a.e.BOOK_ICON_TYPE_MAP;if(Object.keys(i).includes(e.symbol))return i[e.symbol];if("url"===e.type){if(r.includes(e.symbol))return t[r.findIndex((function(t){return t===e.symbol}))||0];if(t.includes(e.symbol))return e.symbol}else if("icon"===e.type){if(o.includes(e.symbol))return n[o.findIndex((function(t){return t===e.symbol}))||0];if(n.includes(e.symbol))return e.symbol}}}var c={book:function(e){var t=(e.type||"").toLowerCase();return a.a[t]||a.a.default},user:function(e){var t=e.scene||"";return e.avatar?null:a.h[t]||null},doc:function(e){return"Thread"===e.type?this.thread(e):a.c[e.type.toLowerCase()]||null},template:function(e){return"lakesheet"===e.format?c.doc({type:"Sheet"}):"lake"===e.format?c.doc({type:"Doc"}):"lakemind"===e.format?c.doc({type:"Mind"}):"lakeboard"===e.format?c.doc({type:"Board"}):"lakeshow"===e.format?c.doc({type:"Show"}):"laketable"===e.format?c.doc({type:"Table"}):void 0},thread:function(e){var t=e.sub_type||"";return e.view_status===n.VIEW_STATUS.archive?"thread-archive":a.g[t.toLowerCase()]||a.g.default},resource:function(e){return Object(o.getFileIcon)(e)},artboardGroup:function(){return a.c.artboardgroup},docVersion:function(e){return a.b[e.format]},recycle:function(e){var t=e.target_type,r=e.params;if(!t||!r)return null;if("User"===t)return c.user(r.group)||a.h.default;if("Note"===t)return a.c.note;if("Issue"===t)return a.c.issue;if("ArtboardGroup"===t)return a.c.artboardgroup;if("Artboard"===t)return a.c.artboard;var n=t.toLowerCase();return c[n]&&r[n]?c[n](r[n]):null},action:function(e){var t=e.target_type,r=e.action_option;if(e.target&&e.target.book_icon){var n=i(e.target.book_icon);if(n)return n}if("Doc"===t){var l=this._entityTypeOfAction(e);return l&&a.c[l]}if("Book"===t){if(e.target)return c.book(e.target);var u=this._entityTypeOfAction(e);return u&&a.c[u]}return"User"===t&&e.target?c.user(e.target):"Resource"===t?Object(o.getFileIcon)({type:"file",ext:r}):"ArtboardGroup"===t?a.c.artboardgroup:"DocVersion"===t&&e.target?c.docVersion(e.target):"ActionTag"===t?a.c.actiontag:null},_entityTypeOfAction:function(e){var t=e.action_option.split("_"),r=null;return t.length>=1&&(r=t[t.length-1]),r},userActionLog:function(e){var t=e.target_type,r=e.subject_type;if("Book"===t)return e.target?c.book(e.target):a.a.default;if("User"===t)return a.h.default;if("Resource"===t)return c.resource({type:"file",ext:e.fileExt});var n="";return"Design"===r?n=a.c.artboardgroup:"Sheet"===r?n=a.c.sheet:"Table"===r?n=a.c.table:"Doc"===r?n=a.c.doc:"Thread"===r?n=a.c.thread:"Mind"===r?n=a.c.mind:"Board"===r?n=a.c.board:"Show"===r&&(n=a.c.show),n}},l={getName:function(e,t){if(!e||!t)return null;if(e=e.charAt(0).toLowerCase()+e.slice(1),t.book_icon){var r=i(t.book_icon);if(r)return r}if("resource"===e){var n="file";return"folder"===t.type&&(n="folder"),c.resource({type:n,ext:t.ext,name:t.title||t.name})}return c[e]?c[e](t):null},getStyle:function(e){if(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).size,r=void 0===t?24:t;return{width:"".concat(r,"px"),height:"".concat(r,"px")}}},getSelectorIcons:function(){return a.e},getSymbolName:i,getColor:function(e){if(e&&e.color)return e.color}};t.b=l},5717:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(2),i=r.n(a),c=r(469),l=r(35),u=r(251),s=r(787),f=r(4551),d=r(24),p=r(3637),h=r(4844);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=Object(u.b)((function(){return Promise.all([r.e(1155),r.e(1228)]).then(r.bind(null,5687))}),{suspense:!0}),b=Object(u.b)((function(){return r.e(1217).then(r.bind(null,5688))}),{suspense:!0}),g=Object(u.b)((function(){return Promise.all([r.e(0),r.e(1),r.e(7),r.e(12),r.e(1186)]).then(r.bind(null,5689))}),{suspense:!0}),w=Object(u.b)((function(){return r.e(1287).then(r.bind(null,5697))}),{suspense:!0}),_=Object(u.b)((function(){return Promise.all([r.e(0),r.e(1),r.e(2),r.e(11),r.e(1280)]).then(r.bind(null,5694))}),{suspense:!0});function E(e){var t,r,a,i,c=e.doc,l=e.book,u=e.location,y=e.isBookOverview,E=s.a.normalizeReadPageQuery(u.query),O=m(Object(n.useReducer)((function(e){return e+1}),0),2),S=(O[0],O[1]),A=Object(n.useRef)(null);if(Object(n.useEffect)((function(){var e,t;null===(e=A.current)||void 0===e||null===(t=e.readWriteView)||void 0===t||t.renderCtx.registerRerenderHandler((function(){S()}))}),[c.id]),Object(n.useEffect)((function(){var e=setTimeout((function(){w.preload(),g.preload()}),8e3);return function(){clearTimeout(e)}}),[]),"Doc"===c.type&&E.inner)return o.a.createElement(v,e);if("doc_embed"===E.view&&!y)return o.a.createElement(b,{from:E.from});var k={ref:A};!s.a.isRunAtRaw(c)||Object(f.b)()||null!==(t=window.appData)&&void 0!==t&&t.sharePage?i=w:(i=_,k.key=c.id);var j=y||!("singleDoc"in u.query)&&(null===(r=l.abilities)||void 0===r?void 0:r.read),x=y||"need_verify_password"===(null==c||null===(a=c.error)||void 0===a?void 0:a.code);return d.f&&(x=!0,j=!1),o.a.createElement(p.a,{book:l,location:u},o.a.createElement(h.a,{withAside:j,hideHeader:x,isBookOverview:y},y?o.a.createElement(g,null):o.a.createElement(i,k)))}E.propTypes={group:i.a.object.isRequired,book:i.a.object.isRequired,doc:i.a.object.isRequired,location:i.a.object,match:i.a.object,history:i.a.object,dispatch:i.a.func,isBookOverview:i.a.bool},E.defaultProps={isBookOverview:!1},t.default=Object(c.d)((function(e){return{group:e.group,book:e.book,doc:e.doc}}))(Object(l.withRouter)(E))},702:function(e,t,r){"use strict";r.d(t,"c",(function(){return D})),r.d(t,"b",(function(){return F})),r.d(t,"a",(function(){return G}));r(41);var n=r(10),o=(r(258),r(135)),a=r(0),i=r.n(a),c=r(242),l=r.n(c),u=r(35),s=r(80),f=r(161),d=r(1),p=r(305),h=r(74),m=r(24),y=r(194),v=r(244),b=function(e){return e?"/".concat(e.login):""},g=function(e,t){if(!t)return"";var r=b(e);return r?"".concat(r,"/").concat(t.slug):""},w=function(e,t,r){if(!r)return"";var n=g(e,t);return n?"".concat(n,"/").concat(r.slug):""},_={spinArea:"index-module_spinArea_HqKpu"};function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}var O=["to","children"];function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S.apply(this,arguments)}function A(){A=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:x(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",y={};function v(){}function b(){}function g(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,O=_&&_(_(N([])));O&&O!==r&&n.call(O,i)&&(w=O);var S=g.prototype=v.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==E(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function x(t,r,n){var o=d;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var u=f(t,r,n);if("normal"===u.type){if(o=n.done?m:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=m,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(E(t)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},k(j.prototype),u(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new j(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(S),u(S,l,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function C(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function P(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){C(a,n,o,i,c,"next",e)}function c(e){C(a,n,o,i,c,"throw",e)}i(void 0)}))}}function I(e,t){return T.apply(this,arguments)}function T(){return(T=P(A().mark((function e(t,r){var n,o;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.c){e.next=13;break}return e.prev=1,e.next=4,Object(y.c)();case 4:return n=e.sent,o=new URL(t,window.location.origin).href,e.next=8,n.put(o,r);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("put appdata cache failed",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function N(e,t){return L.apply(this,arguments)}function L(){return(L=P(A().mark((function e(t,r){var n,o,a,i;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)();case 2:return a=e.sent,i=new URL(t,window.location.origin).href,e.next=6,a.get(i,{matchCondition:r,me:{id:null===(n=window.appData)||void 0===n||null===(o=n.me)||void 0===o?void 0:o.id}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,r){return R.apply(this,arguments)}function R(){return(R=P(A().mark((function e(t,r,o){var a,i,c,l,u,s,y,b,g,w;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(v.a)("start","dashboard"),a="string"==typeof t?t:p.a.createHref(t),i=new URL(a,window.location.origin).href,c=r||"string"!=typeof t&&t.state||{},!f.b.onLine){e.next=33;break}if(null!==(l=window.appData)&&void 0!==l&&null!==(u=l.settings)&&void 0!==u&&u.enable_app_data_fetch){e.next=8;break}return window.location.href=a,e.abrupt("return");case 8:return s=!1,y=!1,m.d&&N(i,c).then((function(e){y||e&&(window.appData=e,h.i.emit(h.c,window.appData.matchCondition),s||(p.a.push(t),s=!0,null==o||o()),console.log("appData restore from cache"))})).catch((function(e){console.log("appData restore from cache failed from %s",e.message)})),e.prev=11,e.next=14,Object(d.get)(a,{"x-app-data":"true"},{ignoreGlobalMessage:!0});case 14:if(b=e.sent,y=!0,null==o||o(),null==b||!b.data){e.next=24;break}return window.appData=b.data,h.i.emit(h.c,window.appData.matchCondition),s||(p.a.push(t),s=!0),I(a,b.data),m.g&&null!==m.a&&void 0!==m.a&&null!==(g=m.a.UPDATOR)&&void 0!==g&&g.WEB_SYSTEM_UPDAPR_CHECK&&window.YuqueDesktopAppJSBridge.ipcInvoke(m.a.UPDATOR.WEB_SYSTEM_UPDAPR_CHECK),e.abrupt("return");case 24:throw new Error("fetch empty app data");case 27:e.prev=27,e.t0=e.catch(11),console.log(e.t0),window.location.href=a;case 31:e.next=50;break;case 33:return e.prev=33,e.next=36,N(i,c);case 36:if(w=e.sent,null==o||o(),!w){e.next=43;break}return window.appData=w,h.i.emit(h.c,window.appData.matchCondition),p.a.push(t),e.abrupt("return");case 43:n.a.error(__("当前处于离线状态，暂不支持访问该内容")),e.next=50;break;case 46:e.prev=46,e.t1=e.catch(33),console.log("appData fetch failed from %s",e.t1.message),n.a.error(__("当前处于离线状态，暂不支持访问该内容"));case 50:case"end":return e.stop()}}),e,null,[[11,27],[33,46]])})))).apply(this,arguments)}function M(e){return Object.values(s.TYPE).includes(e)}var B=function(e){var t,r,n=new URLSearchParams(null!==(t=null===(r=window.location)||void 0===r?void 0:r.search)&&void 0!==t?t:"");return n.get("q")?"".concat(e,"?searchKeyword=").concat(n.get("q")):e},F=function(e){var t,r,n=e.type,o=e.book,a=e.doc,i=e.user,c=e.target,l=e.targetUrl;if(null===(t=window.appData)||void 0===t||null===(r=t.settings)||void 0===r||!r.enable_app_data_fetch)return{};if(!m.g)return{};if(c&&("Book"===n?(i=c.user,o=c,n=c.type):"User"===n?i=c:M(n)&&(i=c.book.user,o=c.book,a=c)),"User"===n)return{"data-desktoptarget":"_browser"};if("Group"===n){var u=b(i);return{onClick:function(){D(u,{page:"dashboard"})},href:null}}var s=!M(n)&&"Book"!==n,f=M(n)&&"Book"!==o.type;if(s||f){var d=l;return{onClick:function(){window.YuqueDesktopAppJSBridge.openExternalLink(d)},"data-openexternallink":!0,"data-desktophref":d,href:null}}if("Book"===n){var p=g(i,o);return{onClick:function(){D(B(p),{page:"bookOverview"})},"data-desktophref":p,href:null}}if(M(n)){var h=w(i,o,a);return{onClick:function(){D(B(h),{page:"bookOverview"})},"data-desktophref":h,href:null}}};function G(e){var t=e.to,r=e.children,n=x(e,O),a=k(i.a.useState(!1),2),c=a[0],s=a[1],f=Object(u.useLocation)(),d=i.a.useMemo((function(){return"function"==typeof t?t(f):t}),[t]),h=i.a.useRef(),y=i.a.useCallback(function(){var e=P(A().mark((function e(t){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l.a.windows?null==t?void 0:t.ctrlKey:null==t?void 0:t.metaKey)||m.c){e.next=3;break}return e.abrupt("return");case 3:if(!t.isDefaultPrevented()){e.next=5;break}return e.abrupt("return");case 5:return t.preventDefault(),h.current&&clearTimeout(h.current),h.current=setTimeout((function(){s(!0)}),1500),e.prev=8,e.next=11,D(d,void 0,(function(){return s(!1)}));case 11:return e.prev=11,clearTimeout(h.current),s(!1),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[8,,11,15]])})));return function(t){return e.apply(this,arguments)}}(),[d]),v="string"==typeof d?d:p.a.createHref(d);return i.a.createElement(i.a.Fragment,null,i.a.createElement("a",S({href:v,onClick:y},n),r),c&&i.a.createElement("div",{className:_.spinArea},i.a.createElement(o.a,{size:"large"})))}},705:function(e,t,r){"use strict";var n=r(1406);r.d(t,"a",(function(){return n.a})),r.d(t,"b",(function(){return n.b})),r.d(t,"c",(function(){return n.c})),r.d(t,"d",(function(){return n.e})),r.d(t,"e",(function(){return n.f})),r.d(t,"f",(function(){return n.g})),r.d(t,"g",(function(){return n.h})),r.d(t,"h",(function(){return n.i})),r.d(t,"i",(function(){return n.j})),r.d(t,"j",(function(){return n.k})),r.d(t,"k",(function(){return n.l})),r.d(t,"l",(function(){return n.m})),r.d(t,"m",(function(){return n.n})),r.d(t,"n",(function(){return n.o})),r.d(t,"o",(function(){return n.p}))},707:function(e,t,r){"use strict";r(2913);var n=r(1231);r(1005);t.a=n.a},708:function(e,t,r){"use strict";r(2944);var n=r(1253);r(1011);t.a=n.b},802:function(e,t,r){e.exports=function(){"use strict";function e(e,t,r){(r=r||{}).childrenKeyName=r.childrenKeyName||"children";var n=e||[],o=[],a=0;do{var i=n.filter((function(e){return t(e,a)}))[0];if(!i)break;o.push(i),n=i[r.childrenKeyName]||[],a+=1}while(n.length>0);return o}return e}()},956:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(0),o=r.n(n),a=r(2),i=r.n(a),c=r(1400),l={link:"Link",text:"Text"},u=function(e){var t,r=e.user,n=void 0===r?{}:r,a=e.type,i=void 0===a?l.text:a,u=e.withCard,s=e.children,f=e.style,d=void 0===f?{}:f,p=e.className,h=void 0===p?"":p,m=e.target,y=n.name,v=n.login;switch(i){case l.link:t=o.a.createElement("a",{href:"/".concat(v),"data-testid":"login-a-tag","data-desktoptarget":"_browser",target:m,style:d,className:h},s||y);break;case l.text:default:t=s||y}return u?o.a.createElement(c.a,{user:n,style:d,className:h},t):t};u.propTypes={user:i.a.object.isRequired,withCard:i.a.bool,style:i.a.object,className:i.a.string,type:i.a.oneOf([l.link,l.text,l.card]),children:i.a.any,target:i.a.object},t.b=u},957:function(e,t,r){"use strict";r.d(t,"b",(function(){return b})),r.d(t,"a",(function(){return w}));r(151);var n=r(66),o=r(0),a=r.n(o),i=r(2),c=r.n(i),l=r(11),u=r(181),s=r(216),f=r(45),d=r(554),p=r(229),h=["book","width"];function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(this,arguments)}function y(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var v={book:__("文档"),sheet:__("表格"),design:__("图集"),column:__("专栏"),resource:__("资源")},b=function(e){var t,r=e.book,o=e.width,i=void 0===o?24:o,c=y(e,h),l=null===(t=r.type)||void 0===t?void 0:t.toLowerCase(),u=v[l];return a.a.createElement(n.a,{title:u},a.a.createElement(f.b,m({name:d.b.getName("Book",r),style:d.b.getStyle(r),className:"book-icon",width:i},c)))};b.propTypes={book:c.a.object.isRequired,width:c.a.number};var g=function(e){var t,r=e.size,o=void 0===r?14:r,i=e.placement,c=void 0===i?"top":i,s=e.showTooltip,d=void 0===s||s,h=e.group,m=e.book,y=e.organization,v=Object(u.d)({privacy:e.public,type:"book",organization:y,book:m,group:h});return a.a.createElement(n.a,{open:d,placement:c,getPopupContainer:e.getPopupContainer,title:a.a.createElement("span",null,v,(null===(t=m.abilities)||void 0===t?void 0:t.share)&&a.a.createElement("a",{onClick:function(e){e.stopPropagation(),p.b.windowOpen("/r/".concat(null==h?void 0:h.login,"/").concat(m.slug,"/collaborators"))},className:"toggle-publicity"},__("切换公开性")))},a.a.createElement("span",{className:"name-lock"},a.a.createElement(f.b,{name:e.public!==l.PRIVACY.private?"icon-public":(null==m||m.extend_private,l.EXTEND_PRIVATE.BIND_DEPARTMENTS,"permission-private"),width:o,height:o})))},w=function(e){return a.a.createElement(s.a,{withFallbackUI:!0,noMessage:!0,fallbackUI:function(){return a.a.createElement("span",{"data-test-id":"book-access-scope"})}},a.a.createElement(g,e))};w.propTypes={public:c.a.number,group:c.a.object,book:c.a.object,getPopupContainer:c.a.func,size:c.a.number,placement:c.a.string,organization:c.a.object,showTooltip:c.a.bool}},959:function(e,t,r){"use strict";r.d(t,"d",(function(){return p.b})),r.d(t,"a",(function(){return p.a})),r.d(t,"e",(function(){return $})),r.d(t,"g",(function(){return te})),r.d(t,"b",(function(){return re})),r.d(t,"f",(function(){return ne})),r.d(t,"c",(function(){return oe}));r(581);var n=r(301),o=(r(42),r(9),r(489),r(98)),a=r(0),i=r.n(a),c=r(5),l=r.n(c),u=(r(35),r(2)),s=r.n(u),f=r(1431),d=r(1213),p=r(957),h=r(45),m=r(1399),y=r(216),v=r(380),b="index-module_label_qcR+D",g=function(e){return e.visible?i.a.createElement("span",{className:b},__("空间")):null},w=r(469),_=r(65),E=r.n(_),O=r(1445),S=r(113),A=r(1214),k=(r(1005),r(707)),j=(r(41),r(10)),x=r(1448),C=r(51);function P(e){var t=e.book,r=e.closeModal;return i.a.createElement(x.a,{visible:!0,title:__("删除知识库"),content:i.a.createElement(k.a,{description:__("正在删除知识库 {name}，该操作不可逆，一旦操作成功，知识库下的所有内容将会删除。请输入下面内容再次确认操作。",{name:i.a.createElement("span",{className:"highlight_name"},t.name)}),type:"warning"}),buttonText:__("确定删除 {name}",{name:t.name}),slug:t.slug,onOk:function(){C.a.books.destroy({id:t.id}).then((function(e){j.a.success(__("操作成功"),3),r(),setTimeout((function(){window.location.href="/dashboard"}),300)}))},onCancel:r})}P.propTypes={book:s.a.object,group:s.a.object,closeModal:s.a.func};var I=Object(w.d)((function(e){return{book:e.book,group:e.group}}))(P),T="BookAction-module_wrap_AiMmc";function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G(n.key),n)}}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=B(e);if(t){var o=B(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}(this,r)}}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}function F(e,t,r){return(t=G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e){var t=function(e,t){if("object"!==N(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===N(t)?t:String(t)}var z=E()("book:action"),U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(a,e);var t,r,n,o=R(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),F(M(t=o.call(this,e)),"doAction",(function(e){e&&t.setState({cmd:e,exportModal:e===S.a.BOOK.export_book.cmd,deleteModal:e===S.a.BOOK.delete_book.cmd})})),F(M(t),"handleCloseDeleteModal",(function(){t.setState({deleteModal:!1})})),t.state={exportModal:!1,deleteModal:!1,cmd:null},t}return t=a,(r=[{key:"render",value:function(){var e,t=this,r=this.props,n=r.className,o=r.book;switch(this.state.cmd){case S.a.BOOK.manage.cmd:window.open("/r/".concat(o.namespace,"/docs"),"_self");break;case S.a.BOOK.catalog_manage.cmd:window.open("/r/".concat(o.namespace,"/toc"),"_self");break;case S.a.BOOK.manage_assets.cmd:window.open("/".concat(o.namespace,"/assets"),"_self");break;case S.a.BOOK.collaborators.cmd:window.open("/r/".concat(o.namespace,"/collaborators"),"_self");break;case S.a.BOOK.recycles.cmd:window.open("/r/".concat(o.namespace,"/trash"),"_self");break;case S.a.BOOK.statistics.cmd:window.open("/r/".concat(o.namespace,"/statistics"),"_self");break;case S.a.BOOK.settings.cmd:case S.a.BOOK.rename_book.cmd:window.open("/".concat(o.namespace,"/settings/basic"),"_self");break;case S.a.DOC.modify_toc.cmd:window.open("/r/".concat(o.namespace,"/toc"),"_self");break;default:z("no processor, do nothing, just trigger onSelect and set state")}var a=null==o||null===(e=o.abilities)||void 0===e?void 0:e.destroy;return i.a.createElement("div",{className:"".concat(T," ").concat(n)},void 0,i.a.createElement(O.a,{visible:this.state.exportModal,book:o,formats:A.a.getExportFormats(),onCancel:function(){return t.setState({exportModal:!1,cmd:null})}}),this.state.deleteModal&&a&&i.a.createElement(I,{closeModal:this.handleCloseDeleteModal}))}}])&&L(t.prototype,r),n&&L(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component);U.defaultProps={className:""},U.propTypes={className:s.a.string,book:s.a.object.isRequired};var q=Object(w.d)((function(e){return{book:e.book,group:e.group}}),null,null,{forwardRef:!0})(U),W=r(1446),V=r(24),H=r(702),Y={bookTitle:"index-module_bookTitle_lUUrB",name:"index-module_name_OMCDB",group:"index-module_group_xaGsx",text:"index-module_text_UrMgl",checked:"index-module_checked_3fCif",moreActions:"index-module_moreActions_YYACs"},K=["group","book","showBookIcon","showPrivateIcon","showOrgLabel","href","target","iconSize","className","draggable","onItemClick","isMobile"];function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X.apply(this,arguments)}function J(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}__("文档"),__("表格"),__("图集"),__("专栏"),__("资源");var $=function(e){var t=e.group,r=e.book,n=e.showBookIcon,o=void 0===n||n,a=e.showPrivateIcon,c=void 0===a||a,u=e.showOrgLabel,s=void 0!==u&&u,f=e.href,d=e.target,p=e.iconSize,h=e.className,y=e.draggable,b=e.onItemClick,g=e.isMobile,w=J(e,K),_=window.appData.isAlipayWebApp||window.appData.isDingTalkMiniApp||window.appData.isYuqueMobileApp?"_blank":"_self",E=f||"/".concat(t.login,"/").concat(r.slug);return i.a.createElement(v.a,X({href:E,className:l()("book-link",h),target:d||_,desktopDisableHref:!0,draggable:y,onClick:function(t){V.f?Object(m.c)({book:r}):b&&(t.preventDefault(),b(e))}},Object(H.b)({type:r.type,user:t,book:r,targetUrl:E})),i.a.createElement(te,X({},w,{group:t,book:r,showBookIcon:o,showPrivateIcon:c,showOrgLabel:s,iconSize:p,isMobile:g})))};$.propTypes={book:s.a.object,group:s.a.object,showBookIcon:s.a.bool,showOrgLabel:s.a.bool,className:s.a.string,target:s.a.string,showShareBadge:s.a.bool};s.a.object,s.a.object,s.a.bool,s.a.bool,s.a.bool,s.a.string,s.a.string,s.a.func,s.a.bool;var ee=function(e){var t=e.book,r=e.org,n=e.group,o=e.getPopupContainer,a=Object(W.c)({type:"book",target:t,org:r,group:n});return i.a.createElement("span",{className:"book-name-scope"},i.a.createElement(p.a,{public:a,book:t,group:n,getPopupContainer:o}))},te=function(e){var t=e.group,r=e.book,n=e.showGroupName,o=void 0!==n&&n,a=e.showBookIcon,c=void 0===a||a,u=e.showPrivateIcon,s=void 0===u||u,f=e.showOrgLabel,m=void 0!==f&&f,v=e.isMobile,b=void 0!==v&&v,w=e.checked,_=void 0!==w&&w,E=e.href,O=e.getPopupContainer,S=e.className,A=e.iconSize||(b?28:24),k=t&&(t.organization||{id:t.organization_id}),j=window.appData.me;return b?i.a.createElement("span",{className:l()(Y.bookTitle,S)},i.a.createElement("div",{className:l()(Y.icon,"book-icon-wrapper")},i.a.createElement(p.b,{group:t,book:r,width:A})),i.a.createElement("div",{className:l()(Y.name,"book-title-name")},i.a.createElement("div",{className:l()(Y.text,"book-title-text"),title:r.name},r.name),t.name&&i.a.createElement("div",{className:l()(Y.group,"book-title-desc")},t.name)),i.a.createElement("div",{className:Y.checked},_&&i.a.createElement(d.default,null))):i.a.createElement("span",{className:l()("lark-book-title",S)},c&&i.a.createElement(p.b,{group:t,book:r,width:A}),i.a.createElement("span",{className:"book-name"},o&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null,t.name),i.a.createElement("span",{className:"book-name-split"},"/")),E&&i.a.createElement("a",{className:"book-name-text-wrapper",href:E},i.a.createElement("span",{className:"book-name-text",title:r.name},r.name)),!E&&i.a.createElement("span",{className:"book-name-text",title:r.name},r.name),(null==j?void 0:j.isAdmin)&&-1===r.status&&i.a.createElement("span",{className:"book-name-scope"},i.a.createElement(h.b,{name:"doc-has-content-risk",width:13,style:{opacity:.375}})),s&&i.a.createElement(y.a,{withFallbackUI:!0,noMessage:!0,fallbackUI:function(){return i.a.createElement("span",{"data-test-id":"book-access-scope"})}},i.a.createElement(ee,{book:r,org:k,group:t,getPopupContainer:O})),m&&i.a.createElement("span",{className:"book-name-orglabel"},i.a.createElement(g,{visible:t&&t.organization_id>0}))))};te.propTypes={group:s.a.object,book:s.a.object,iconSize:s.a.number,showBookIcon:s.a.bool,showPrivateIcon:s.a.bool,showOrgLabel:s.a.bool,showGroupName:s.a.bool,isMobile:s.a.bool,checked:s.a.bool,href:s.a.string,getPopupContainer:s.a.func,showShareBadge:s.a.bool};var re=function(e){var t=e.book,r=e.clickable;return t.user?r?i.a.createElement("a",{href:"/".concat(t.user.login),title:t.user.name,className:"book-belong"},t.user.name):i.a.createElement("span",{className:"book-belong",title:t.user.name},t.user.name):null};re.defaultProps={clickable:!0},re.propTypes={book:s.a.object,clickable:s.a.bool};s.a.string;var ne=function(e){var t=Object(a.useRef)(null),r=Q(Object(a.useState)(!1),2),n=r[0],c=r[1],l=e.book,u=e.group,s=e.me,d=A.a.actionsForNavMore(l,u,s).filter((function(e){return e.can||"divider"===e.action.cmd}));return d.length?i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{className:Y.moreActions,visible:n,onVisibleChange:function(e){return c(e)},direction:"circle",iconWidth:20,content:i.a.createElement(o.a,{selectable:!1},d.map((function(e){return"divider"===e.action.cmd?i.a.createElement(o.a.Divider,null):i.a.createElement(o.a.Item,{disabled:!1===e.can,key:e.action.cmd,onClick:function(){t.current.doAction(e.action.cmd),c(!1)}},e.action.title)})))}),i.a.createElement(q,{ref:t})):null};ne.propTypes={book:s.a.object.isRequired,styles:s.a.object.isRequired,group:s.a.object.isRequired,me:s.a.object};s.a.object,s.a.object;__("导出 PDF"),__("设置"),__("删除"),__("转移"),__("分享");var oe=function(e,t){switch(e){case"Design":return"name"===t?__("如：语雀视觉设计"):__("如：视觉设计与规范");case"Sheet":return"name"===t?__("如：研发计划"):__("如：第一季度研发计划");case"Column":return"name"===t?__("如：团队专栏"):__("如：团队设计分享");case"Resource":return"name"===t?__("资源知识库"):__("上传资源文件、本地文档等内容");default:return"name"===t?__("如：产品文档"):__("如：产品设计与研发")}};(function(e){var t=e.belongs,r=e.onChange,a=__("归属");if(!t||t.length<=1)return i.a.createElement("span",null,a);return i.a.createElement(n.a,{trigger:["click"],overlay:i.a.createElement(o.a,{className:"dashboard-dropdown-menu",selectedKeys:[]},t.map((function(e,t){return i.a.createElement(o.a.Item,{key:e.type},i.a.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),function(e){r(e.type)}(e)}},e.text))})))},i.a.createElement("span",null,a,i.a.createElement(h.b,{name:"arrow-down",width:16})))}).propTypes={belongs:s.a.array.isRequired,onChange:s.a.func.isRequired}},961:function(e,t,r){"use strict";r(258);var n=r(135),o=(r(552),r(186)),a=(r(56),r(12)),i=(r(163),r(37)),c=(r(131),r(43)),l=(r(142),r(28)),u=(r(187),r(48)),s=r(0),f=r.n(s),d=r(2),p=r.n(d),h=r(1414),m=r(1412),y={docTask:"DocTask-module_docTask_NywmO",settingFile:"DocTask-module_settingFile_bFy51",hr:"DocTask-module_hr_y8Wz9",settingFileIcon:"DocTask-module_settingFileIcon_++xRm",settingContent:"DocTask-module_settingContent_leSlb",isFirst:"DocTask-module_isFirst_RPJNh",settingTitlt2:"DocTask-module_settingTitlt2_OZfjd",settingFileTypeName:"DocTask-module_settingFileTypeName_S4Bv1",settingFileTypeExt:"DocTask-module_settingFileTypeExt_GCoBd"};function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}var b={STATUS:{INIT:"init",SETTING:"setting",PROCESSING:"processing",UPLOADING:"uploading",PENDING:"pending",DONE:"done",SUCCESS:"success",ERROR:"error"}};b.AdvanceSetting=u.a.create({name:"advanceSettingForm"})(Object(s.forwardRef)((function(e,t){var r=e.type,n=e.target,d=void 0===n?{}:n,p=e.settings,h=e.actions,m=e.title,b=e.form,g=e.hideHeader;if(!r)return null;var w=b.getFieldDecorator;return Object(s.useImperativeHandle)(t,(function(){return{form:b,getValue:function(){var e=b.getFieldsValue()||{};return Object.keys(e).forEach((function(t){if(Array.isArray(e[t])){var r=e[t][0];null==r?delete e[t]:e[t]=r}})),e}}})),f.a.createElement("div",{"data-testid":"docTask-".concat(r.key)},!g&&f.a.createElement(c.a,{className:y.settingFile,type:"flex",justify:"start",align:"middle"},f.a.createElement(l.a,{className:y.settingFileIcon},f.a.createElement("img",{src:r.icon,className:""})),f.a.createElement(l.a,{className:y.settingFileTypeMeta},f.a.createElement("div",{className:y.settingFileTypeName},m||d.title||d.name||r.name),f.a.createElement("div",{className:y.settingFileTypeExt},r.extensions.join(" ")))),f.a.createElement("div",{className:y.settingContent},f.a.createElement("h2",{className:y.settingTitlt2},__("高级选项")),f.a.createElement(u.a,null,p.map((function(e,t){if(Array.isArray(e)){var r=0===t?y.isFirst:"";return f.a.createElement(u.a.Item,{className:r},w(e[0].name,{initialValue:e.find((function(e){return e.default})).value})(f.a.createElement(i.a.Group,null,e.map((function(e){return f.a.createElement(i.a,{value:e.value},e.label)})))))}if("text"===e.type){var n={};return e.validator&&(e.validateOnBlur&&(n.validateTrigger=["onChange","onBlur"]),n.rules=[{validator:e.validator}]),f.a.createElement(u.a.Item,{label:e.label,colon:e.colon,hidden:e.hidden},w(e.name,n)(f.a.createElement(a.a,v({type:"text",autoComplete:"off",maxLength:"1000"},e))))}return f.a.createElement(u.a.Item,null,w(e.name,{initialValue:[e.default&&e.value]})(f.a.createElement(o.a.Group,null,f.a.createElement(o.a,{value:e.value},e.label))))})))),f.a.createElement("div",{className:y.settingFooter},h))}))),b.Error=function(e){return f.a.createElement("div",{className:"".concat(y.docTask," ").concat(y.docTaskError)},f.a.createElement("p",{className:"icon"},f.a.createElement(h.default,null)),f.a.createElement("p",{className:"tip"},e.tip),f.a.createElement("p",{className:"error"},e.error),f.a.createElement("p",{className:"action"},e.action))},b.Error.propTypes={tip:p.a.string,action:p.a.node,error:p.a.string},b.Success=function(e){return f.a.createElement("div",{className:"".concat(y.docTask," ").concat(y.docTaskSuccess)},f.a.createElement("p",{className:"icon"},f.a.createElement(m.default,null)),f.a.createElement("p",{className:"tip"},e.tip),f.a.createElement("p",{className:"action"},e.action))},b.Success.propTypes={tip:p.a.string,action:p.a.node},b.Processing=function(e){return f.a.createElement("div",{className:"".concat(y.docTask," ").concat(y.docTaskProcessing)},f.a.createElement(n.a,{justify:"block"}),f.a.createElement("p",{className:"tip"},f.a.createElement("span",null,e.tip)))},b.Processing.propTypes={tip:p.a.string};t.a=b},966:function(e,t,r){"use strict";r.d(t,"downloadCsvFile",(function(){return c})),r.d(t,"isValidResource",(function(){return l}));var n=r(1330),o=r(788);r.o(o,"allowResourceEdit")&&r.d(t,"allowResourceEdit",(function(){return o.allowResourceEdit})),r.o(o,"getExtname")&&r.d(t,"getExtname",(function(){return o.getExtname})),r.o(o,"getFileBgColor")&&r.d(t,"getFileBgColor",(function(){return o.getFileBgColor})),r.o(o,"getFileIcon")&&r.d(t,"getFileIcon",(function(){return o.getFileIcon})),r.o(o,"getFilename")&&r.d(t,"getFilename",(function(){return o.getFilename})),r.o(o,"isAudio")&&r.d(t,"isAudio",(function(){return o.isAudio})),r.o(o,"isImage")&&r.d(t,"isImage",(function(){return o.isImage})),r.o(o,"isPpt")&&r.d(t,"isPpt",(function(){return o.isPpt})),r.o(o,"isSketch")&&r.d(t,"isSketch",(function(){return o.isSketch})),r.o(o,"isVideo")&&r.d(t,"isVideo",(function(){return o.isVideo}));var a=r(788).getExtname,i=r(1726).getFileAcceptArr;function c(e,t){var r=new Blob(["\ufeff"+e],{type:"text/csv;charset=utf-8;"});Object(n.b)(r,t)}function l(e){var t=a(e);return!!t&&i().includes(".".concat(t.toLowerCase()))}},98:function(e,t,r){"use strict";var n=r(81),o=r.n(n),a=(r(1327),r(220)),i=r(1472),c=r.n(i),l=r(58),u=r.n(l),s=r(86),f=r.n(s),d=r(0),p=r.n(d),h=r(87),m=r.n(h),y=(r(489),["onKeyDown"]);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var b=[37,38,39,40],g=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],w=function(e){var t,r=e.onKeyDown,n=f()(e,y),o=Object(d.useCallback)((t=r,function(e){return!(!g.includes(e.key)&&!b.includes(e.keyCode))||t(e)}),[r]);return p.a.createElement("ul",u()({},n,{onKeyDown:o}))},_=p.a.forwardRef((function(e){var t=Object.assign({},(c()(e),e));return p.a.createElement(a.a,u()({component:w},t))}));_.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},a.a.MenuProps),m()(_,a.a),t.a=_}}]);