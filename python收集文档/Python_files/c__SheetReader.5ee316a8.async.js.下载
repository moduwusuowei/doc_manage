(window.webpackJsonp=window.webpackJsonp||[]).push([[1300,1281,1298],{3588:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(a=o.key,i=void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===n(i)?i:String(i)),o)}var a,i}var a="x-yuque-pt-signature",i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.query=new URLSearchParams(window.location.search),this.isServify=!!this.get(a),this.viewport=this.get("viewport"),this.sidebar="0"===this.get("toc_sidebar")?"none":"toc",this.cards=this.get("cards").split(",").map((function(e){return e.trim()})).filter((function(e){return!!e})),this.thirdpartyCards=this.get("thirdparty_cards")?this.get("thirdparty_cards").split(",").map((function(e){return e.trim()})).filter((function(e){return!!e})):[],this.showTitle="0"!==this.get("title"),this.showHeader="0"!==this.get("header"),this.isEmbedMode=this.get("mode").startsWith("embed"),this.autoHeight=this.getAutoHeight(),this.editorType=this.get("editor_type"),this.editorMode=this.get("editor_mode"),this.language=this.get("language")||"zh-cn",this.pageMinWidth=this.get("page_min_width"),this.onchange="1"===this.get("onchange"),this.allowMention="0"!==this.get("mention"),this.allowResource="1"===this.get("resource"),this.watermark=this.get("watermark"),this.backgroundColor=this.get("background_color"),this.bodyBackgroundColor=this.get("body_background_color"),this.toolbarBackgroundColor=this.get("toolbar_background_color"),this.autoSaveInterval=this.getAutoSaveInterval(),this.saveToServer="0"!==this.get("save_to_server"),this.customUploadUrl=this.get("upload_url"),this.customUploadTypes=this.get("upload_types"),this.customMentionUrl=this.getMentionUrl(),this.customMentionOrigin=this.get("search_user_origin"),this.imageUploadUrl=this.getImageUploadUrl(),this.fileUploadUrl=this.getFileUploadUrl(),this.videoUploadUrl=this.getVideoUploadUrl(),this.videoUploadStatusUrl=this.getVideoUploadStatusUrl(),this.fullHTML="1"===this.query.get("full_html"),this.allowResizeVideo=!0,this.extraConfig=JSON.parse(this.query.get("extra_config")||"{}")}var t,r,n;return t=e,(r=[{key:"get",value:function(e){return this.query.get(e)||""}},{key:"getAutoHeight",value:function(){return!window.h5&&"0"!==this.get("auto_height")}},{key:"getAutoSaveInterval",value:function(){var e=this.get("auto_save_interval");return e&&!Number.isNaN(Number(e))?((e=Number(e))<60&&(e=60),1e3*e):null}},{key:"getMentionUrl",value:function(){var e=this.get("search_user_url");return this._joinCsrf(e)}},{key:"getImageUploadUrl",value:function(){return this.customUploadTypes&&this.customUploadTypes.includes("image")?"".concat(this._joinCsrf(this.customUploadUrl),"&type=image"):null}},{key:"getFileUploadUrl",value:function(){return this.customUploadTypes&&this.customUploadTypes.includes("attachment")?"".concat(this._joinCsrf(this.customUploadUrl),"&type=attachment"):null}},{key:"getVideoUploadUrl",value:function(){var e=this.get("upload_video_url");return e?this._joinCsrf(e):null}},{key:"getVideoUploadStatusUrl",value:function(){var e=this.get("upload_video_status_url");return e?this._joinCsrf(e):null}},{key:"_joinCsrf",value:function(e){var t=e.includes("?")?"&":"?";return"".concat(e).concat(t).concat(this._getCustomCsrf())}},{key:"_getCustomCsrf",value:function(){var e=this.get("upload_csrf_token_field"),t=this.get("upload_csrf_token_value");return e?"".concat(e,"=").concat(encodeURIComponent(t)):""}},{key:"isExtremeMode",value:function(){return"extreme"===this.editorMode}}])&&o(t.prototype,r),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();i.isServify=function(){var e=new URLSearchParams(window.location.search).get("from");if(!e)return!1;try{if(new URL(e).searchParams.get(a))return!0}catch(e){}return!1},i.SERVIFY_TAG_SRT=a,t.a=i},3691:function(e,t,r){"use strict";r.r(t);r(176);var n=r(64),o=(r(71),r(31)),a=(r(151),r(66)),i=r(0),l=r.n(i),u=r(2),c=r.n(u),s=r(502),d=r.n(s),m=r(5),f=r.n(m),p=r(78),h=r(145),b=r(52),g=r(45),y={wrap:"index-module_wrap_4GDfH",close:"index-module_close_27uFj",icon:"index-module_icon_RfM4L",closeIcon:"index-module_closeIcon_6sSTs"};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=function(e){var t=e.icon,r=e.content,n=e.style,o=e.showClose,a=_(Object(i.useState)(!0),2),u=a[0],c=a[1];return u?l.a.createElement("div",{className:y.wrap,style:n},t&&l.a.createElement("div",{className:y.icon},t),l.a.createElement("div",{className:y.content},r),o&&l.a.createElement("div",{className:y.close,onClick:function(){c(!1)}},l.a.createElement("span",{className:f()("lake-icon","lake-icon-close",y.closeIcon)}))):null};S.propTypes={icon:c.a.node,content:c.a.node.isRequired,style:c.a.object,showClose:c.a.bool};var w=S,A=r(302),T="ReaderAudit-module_closeBtn_hHU+3",E="ReaderAudit-module_detail_mWCgN",j="ReaderAudit-module_toggleDetail_pq7CA",U="ReaderAudit-module_moreLink_oxcCo",k="ReaderAudit-module_tagModeWrapper_xupeI",O="ReaderAudit-module_tagText_Womh9",R="ReaderAudit-module_pending_m3C28",D="ReaderAudit-module_illegal_B8aJ7",P="ReaderAudit-module_banned_sHuxy",N="ReaderAudit-module_isIntranet_WPBjb",C="ReaderAudit-module_tagClose_YIxR7";function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V(e){var t,r=q(Object(i.useState)(!1),2),u=r[0],c=r[1],s=q(Object(i.useState)(!0),2),m=s[0],y=s[1],_=null===(t=window.appData.settings)||void 0===t?void 0:t.forbid_insecure_content,v=e.doc,S=e.type,A=e.tagMode,I=v.audits,x=v.read_status,L=v.id,V=v.content_updated_at,Y=v.abilities,B=void 0===Y?{}:Y,F=window.appData,W=F.book,z=F.group,J=F.me,K=e.isYuque||window.appData.isYuque;var $="audit_ignored_".concat(S,"_").concat(L);function G(e){null==e||e.preventDefault(),localStorage.setItem($,Date.now()),y(!1)}function X(e){var t=e.filter((function(e){return null!==e}));return d()(t)}if(Object(i.useEffect)((function(){if(x===p.READ_STATUS.insecure)if(J.isAdmin||B.update){if(!_){var e=localStorage.getItem($);if(e&&V){var t=new Date(V).getTime();y(t>e)}}}else y(!1)}),[]),x<=p.READ_STATUS.ok&&(null==W?void 0:W.status)!==h.STATUS.banned&&(null==z?void 0:z.status)!==b.STATUS.blocked)return null;if(x<=p.READ_STATUS.ok&&((null==W?void 0:W.status)===h.STATUS.banned||(null==z?void 0:z.status)===b.STATUS.blocked))return null!=J&&J.isAdmin&&console.error("ATTENTION: 该文档所在的知识库或者作者被屏蔽, groupBlocked: ".concat((null==z?void 0:z.status)===b.STATUS.blocked,", bookBlocked: ").concat((null==W?void 0:W.status)===h.STATUS.banned)),null;if(null!=z&&z.isPermanentPunished)return null!=J&&J.isAdmin&&x>p.READ_STATUS.ok&&console.error("ATTENTION: 该用户已经被永久屏蔽，此文档也是屏蔽状态"),null;if("Comment"===S&&x<=p.READ_STATUS.ok)return null;if(!m)return null;var Q=[];I&&(I.forbidden||I.reason)&&(Q=I.forbidden||[I.reason]);var Z,ee={};if(ee[p.READ_STATUS.pending]=__("当前内容正在审核中，其他人暂时无法查看，请稍候。"),ee[p.READ_STATUS.suspect]=__("因内容疑似有违规内容，其他人无法查看，正在审核中，请稍后。"),ee[p.READ_STATUS.illegal]=__("当前内容有违规内容，其他人无法查看，请修正后再发布。"),ee[p.READ_STATUS.illegal_polity]=__("当前内容有违规内容，其他人无法查看，请修正后再发布。"),ee[p.READ_STATUS.illegal_ak]=__("当前文档中包含疑似明文敏感信息（包括不限于OSS秘钥、AK信息、数据库账密等），可能会造成数据泄露，请脱敏或删除明文敏感信息后重新发布。"),ee[p.READ_STATUS.illegal_privacy]=__("当前文档中包含疑似明文敏感信息（包括不限于身份证号、住址、手机号等），可能会造成数据泄露，请脱敏或删除明文敏感信息后重新发布。"),ee[p.READ_STATUS.banned]=__("内容因含敏感信息已被系统屏蔽处理，其他人无法查看。"),K)Z=ee[x]||ee[p.READ_STATUS.suspect];else{var te=!A&&Q.length>0?l.a.createElement("a",{onClick:function(e){e.preventDefault(),c(!u)},className:j},u?"收起详情":"展开详情"):null,re=l.a.createElement("a",{href:"https://yuque.antfin.com/lark/bqllwz/cg2xev",target:"_blank",className:U},__("了解更多"));Z=_||x!==p.READ_STATUS.insecure?l.a.createElement(l.a.Fragment,null,__("当前文档中包含疑似明文敏感信息（包括不限于OSS秘钥、AK信息、数据库账密等），已被系统自动设置为私密，请脱敏或删除明文敏感信息后重新发布。"),re,te," "):l.a.createElement(l.a.Fragment,null,__("当前文档中包含疑似明文敏感信息（包括不限于OSS秘钥、AK信息、数据库账密等），可能会造成数据泄露，请脱敏或删除明文敏感信息后重新发布。"),re,te)}var ne=K?{}:{padding:24,paddingRight:32,marginTop:8,position:"relative"};if(A){if(K){var oe,ae,ie,le,ue=(M(oe={},p.READ_STATUS.pending,__("审核中")),M(oe,p.READ_STATUS.illegal,__("该内容涉嫌违规#tag")),M(oe,p.READ_STATUS.banned,__("该内容已屏蔽#tag")),oe);switch(x){case p.READ_STATUS.pending:case p.READ_STATUS.suspect:le=p.READ_STATUS.pending;break;case p.READ_STATUS.illegal:case p.READ_STATUS.illegal_polity:case p.READ_STATUS.illegal_ak:case p.READ_STATUS.illegal_privacy:le=p.READ_STATUS.illegal;break;case p.READ_STATUS.banned:le=p.READ_STATUS.banned;break;default:le=null}return(ie=ue[le])?l.a.createElement(a.a,{title:l.a.createElement("span",{className:O},Z),placement:"bottom"},l.a.createElement("div",{className:f()(k,(ae={},M(ae,R,le===p.READ_STATUS.pending),M(ae,D,le===p.READ_STATUS.illegal),M(ae,P,le===p.READ_STATUS.banned),ae))},l.a.createElement("span",{className:O},ie))):null}return l.a.createElement("div",{className:f()(k,N),onClick:function(){o.a.confirm({title:__("疑似含敏感信息，请脱敏或删除敏感信息后重新发布#tag"),content:l.a.createElement(l.a.Fragment,null,Z,Q.length>0&&l.a.createElement("ul",{className:E},X(Q).map((function(e){return l.a.createElement("li",{key:e},e)})))),okText:__("知道了"),cancelText:__("忽略"),onCancel:function(){G()}})}},l.a.createElement("span",{className:O},__("疑似含敏感信息，请脱敏或删除敏感信息后重新发布#tag")),l.a.createElement("div",{className:C,onClick:function(e){e.stopPropagation(),G()}},l.a.createElement(g.b,{name:"close",width:10,height:10})))}return l.a.createElement(w,{style:H({marginBottom:"Doc"===S?24:0,marginTop:4},ne),icon:l.a.createElement(g.b,{name:"doc-has-content-risk",height:17,width:15}),content:l.a.createElement(l.a.Fragment,null,!K&&l.a.createElement(n.a,{title:__("确认忽略该提醒？"),onConfirm:G,okText:__("忽略"),cancelText:__("取消"),placement:"bottom"},l.a.createElement("span",{className:T},l.a.createElement(g.b,{name:"close",width:14}))),l.a.createElement("span",{"data-testid":"audit-tip"},Z),u&&l.a.createElement("ul",{className:E},X(Q).map((function(e){return l.a.createElement("li",{key:e},e)}))))})}V.defaultProps={isYuque:window.appData.isYuque},V.propTypes={doc:c.a.object.isRequired,type:c.a.string,isYuque:c.a.bool,tagMode:c.a.bool};t.default=Object(A.b)(V)},3978:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(2),i=r.n(a),l=r(240),u=r(705),c=r(24),s="EmbedHeader-module_docEmbedHeader_lYs+e",d="EmbedHeader-module_embedHeaderReference_SWdkM",m="EmbedHeader-module_embedHeaderTitle_SPNfw",f="EmbedHeader-module_embedHeaderLink_Q9Vhk";function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e){var t=e.title,r=e.link,n=e.height,a=e.style,i=void 0===a?{}:a,p=e.doc,h=e.book,g=e.group,y=window.appData.isYuqueMobileApp;return o.a.createElement("div",{className:s,style:b({height:"".concat(n,"px")},i)},o.a.createElement("span",{className:d},__("引用自"),"："),o.a.createElement("span",{className:m},t,o.a.createElement(u.b,{group:g,book:h,doc:p})),o.a.createElement("a",{className:f,href:r,target:"_blank",onClick:function(e){!function(e,t){if(y){var r,n,o=(null===(r=window.nebulaMobileApp)||void 0===r||null===(n=r.envInfo)||void 0===n?void 0:n.origin)||window.location.origin;return l.a.pushWebWindow({url:"".concat(o).concat(e)}),!1}if(c.c)t.preventDefault(),t.stopPropagation(),window.parent.postMessage({name:"openExternalLink",args:["".concat(window.location.origin).concat(e)]},"*")}(r,e)}},__("查看原文")))};y.propTypes={title:i.a.string,link:i.a.string,height:i.a.number,style:i.a.object,doc:i.a.object,book:i.a.object,group:i.a.object};t.default=y},4986:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(2),i=r.n(a),l=r(705),u=r(3978),c=r(3691),s=r(251),d={draft:"SheetEmbed-module_draft_hySRt",sheetViewer:"SheetEmbed-module_sheetViewer_LnVL7",content:"SheetEmbed-module_content_XRryY"},m=Object(s.b)((function(){return Promise.all([r.e(4),r.e(5),r.e(6),r.e(17),r.e(1301)]).then(r.bind(null,4632))}),{suspense:!0});function f(e){var t=e.doc,r=e.book,n=e.group,a=e.match,i=e.sheetHeight,s=e.hasReadAuditTip,f=e.showHeader?i-32:i;return t.loaded?o.a.createElement("div",{className:d.wrapper},e.showHeader&&o.a.createElement(u.default,{title:t.title,doc:t,book:r,group:n,height:32,link:a&&a.url}),o.a.createElement("div",{className:d.content},e.showHeader&&o.a.createElement(l.g,{doc:t,className:d.draft}),s&&o.a.createElement(c.default,{key:"audits",doc:t,type:"Doc"}),o.a.createElement("div",{className:d.sheetViewer,style:{width:"100%",height:f,overflow:"hidden"}},o.a.createElement(m,{content:t.content,format:t.format,geSheetStyle:{width:"100%",height:i-40}})))):null}f.defaultProps={showHeader:!0},f.propTypes={doc:i.a.object.isRequired,book:i.a.object.isRequired,group:i.a.object.isRequired,sheetHeight:i.a.number.isRequired,match:i.a.object.isRequired,showHeader:i.a.bool,hasReadAuditTip:i.a.bool.isRequired};t.default=f},4988:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(469),i=r(3493),l=r(251),u=r(244),c=r(3665),s=r(3588),d=r(4986),m="SheetReader-module_wrapper_P6Ioz",f="SheetReader-module_content_BhpjY",p="SheetReader-module_sheetViewer_zdxVX";function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=Object(l.b)((function(){return Promise.all([r.e(4),r.e(5),r.e(6),r.e(17),r.e(1301)]).then(r.bind(null,4544))}),{suspense:!0}),y=Object(l.b)((function(){return Promise.all([r.e(4),r.e(5),r.e(6),r.e(17),r.e(1296)]).then(r.bind(null,5764))}),{suspense:!0}),_=Object(l.c)((function(){return Promise.all([r.e(0),r.e(1),r.e(3),r.e(13),r.e(1262)]).then(r.bind(null,4076))}),{suspense:!0}),v=Object(l.c)((function(){return r.e(1175).then(r.bind(null,4779))}),{suspense:!0});t.default=Object(a.d)((function(e){return{doc:e.doc}}))((function(e){var t,r,a=h(Object(n.useState)(document.body.clientHeight),2),b=a[0],S=a[1],w=Object(l.e)(),A=e.group,T=e.book,E=e.doc,j=e.history,U=e.match,k=e.shouldRenderComments,O=e.editMode,R=function(){S(document.body.clientHeight)};Object(n.useEffect)((function(){return window.addEventListener("resize",R,!1),function(){window.removeEventListener("resize",R,!1)}}),[]),Object(n.useEffect)((function(){y.preload()}),[]);var D=Object(n.useMemo)((function(){return new s.a}),[]);if(!E.loaded)return null;if(E.loaded&&"lakesheet_html"===E.format){var P=Object(c.a)(E.content);E.content=P.value,E.format="lakesheet"}var N="doc_embed"===j.location.query.view,C=N?32:60,I=98===E.read_status||99===E.read_status||100===E.read_status;I&&(C+=42);var x=b-C;return N?o.a.createElement(d.default,{doc:E,book:T,group:A,sheetHeight:x,match:U,hasReadAuditTip:I,showHeader:D.showHeader}):o.a.createElement("div",{className:m},o.a.createElement("div",{className:f},o.a.createElement("div",{className:p,style:{width:"100%",height:x,overflow:"hidden"}},O?o.a.createElement(y,{history:j,editMode:O}):o.a.createElement(g,{docId:E.id,type:E.type,abilities:E.abilities,content:E.content,format:E.format,geSheetStyle:{width:"100%",height:x-40},onLoad:function(e){var t=i.c.getSheetStoredPosition(E.id);t&&e.setPosition(t),Object(u.a)("docRendered"),_.start(),v.start(),w.priorityTaskManager.execMedium()}}))),!O&&o.a.createElement(o.a.Fragment,null,o.a.createElement(_,{type:"Doc",targetId:E.id,likeStatus:null==E||null===(t=E.like)||void 0===t?void 0:t.actioned,likeCount:null==E||null===(r=E.like)||void 0===r?void 0:r.count,size:"bubble",bubblePopover:!0}),o.a.createElement(v,{style:k?{bottom:"32px"}:{bottom:"86px"}})))}))}}]);